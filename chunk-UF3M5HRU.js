var fC=Object.defineProperty,pC=Object.defineProperties;var mC=Object.getOwnPropertyDescriptors;var Hy=Object.getOwnPropertySymbols,gC=Object.getPrototypeOf,yC=Object.prototype.hasOwnProperty,vC=Object.prototype.propertyIsEnumerable,_C=Reflect.get;var qy=(t,e,n)=>e in t?fC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Se=(t,e)=>{for(var n in e||={})yC.call(e,n)&&qy(t,n,e[n]);if(Hy)for(var n of Hy(e))vC.call(e,n)&&qy(t,n,e[n]);return t},it=(t,e)=>pC(t,mC(e));var Mn=(t,e,n)=>_C(gC(t),n,e);var E=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(l){i(l)}},o=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});function zy(t,e){return Object.is(t,e)}var ke=null,ta=!1,na=1,Pn=Symbol("SIGNAL");function te(t){let e=ke;return ke=t,e}function Gy(){return ke}var Ss={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $l(t){if(ta)throw new Error("");if(ke===null)return;ke.consumerOnSignalRead(t);let e=ke.nextProducerIndex++;if(oa(ke),e<ke.producerNode.length&&ke.producerNode[e]!==t&&Cs(ke)){let n=ke.producerNode[e];sa(n,ke.producerIndexOfThis[e])}ke.producerNode[e]!==t&&(ke.producerNode[e]=t,ke.producerIndexOfThis[e]=Cs(ke)?Yy(t,ke,e):0),ke.producerLastReadVersion[e]=t.version}function IC(){na++}function Wy(t){if(!(Cs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===na)){if(!t.producerMustRecompute(t)&&!ql(t)){t.dirty=!1,t.lastCleanEpoch=na;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=na}}function Ky(t){if(t.liveConsumerNode===void 0)return;let e=ta;ta=!0;try{for(let n of t.liveConsumerNode)n.dirty||EC(n)}finally{ta=e}}function Qy(){return ke?.consumerAllowSignalWrites!==!1}function EC(t){t.dirty=!0,Ky(t),t.consumerMarkedDirty?.(t)}function ia(t){return t&&(t.nextProducerIndex=0),te(t)}function Hl(t,e){if(te(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Cs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)sa(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ql(t){oa(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Wy(n),r!==n.version))return!0}return!1}function zl(t){if(oa(t),Cs(t))for(let e=0;e<t.producerNode.length;e++)sa(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Yy(t,e,n){if(Jy(t),t.liveConsumerNode.length===0&&Zy(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Yy(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function sa(t,e){if(Jy(t),t.liveConsumerNode.length===1&&Zy(t))for(let r=0;r<t.producerNode.length;r++)sa(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];oa(i),i.producerIndexOfThis[r]=e}}function Cs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function oa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Jy(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Zy(t){return t.producerNode!==void 0}function Xy(t){let e=Object.create(wC);e.computation=t;let n=()=>{if(Wy(e),$l(e),e.value===ra)throw e.error;return e.value};return n[Pn]=e,n}var Ul=Symbol("UNSET"),Bl=Symbol("COMPUTING"),ra=Symbol("ERRORED"),wC=it(Se({},Ss),{value:Ul,dirty:!0,error:null,equal:zy,producerMustRecompute(t){return t.value===Ul||t.value===Bl},producerRecomputeValue(t){if(t.value===Bl)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Bl;let n=ia(t),r;try{r=t.computation()}catch(i){r=ra,t.error=i}finally{Hl(t,n)}if(e!==Ul&&e!==ra&&r!==ra&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function TC(){throw new Error}var ev=TC;function tv(){ev()}function nv(t){ev=t}var DC=null;function rv(t){let e=Object.create(sv);e.value=t;let n=()=>($l(e),e.value);return n[Pn]=e,n}function Gl(t,e){Qy()||tv(),t.equal(t.value,e)||(t.value=e,bC(t))}function iv(t,e){Qy()||tv(),Gl(t,e(t.value))}var sv=it(Se({},Ss),{equal:zy,value:void 0});function bC(t){t.version++,IC(),Ky(t),DC?.()}function z(t){return typeof t=="function"}function kn(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var aa=kn(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ar(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(z(r))try{r()}catch(s){e=s instanceof aa?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{ov(s)}catch(o){e=e??[],o instanceof aa?e=[...e,...o.errors]:e.push(o)}}if(e)throw new aa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ov(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ar(n,e)}remove(e){let{_finalizers:n}=this;n&&ar(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var Wl=Ne.EMPTY;function ca(t){return t instanceof Ne||t&&"closed"in t&&z(t.remove)&&z(t.add)&&z(t.unsubscribe)}function ov(t){z(t)?t():t.unsubscribe()}var Rt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xr={setTimeout(t,e,...n){let{delegate:r}=Xr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Xr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ua(t){Xr.setTimeout(()=>{let{onUnhandledError:e}=Rt;if(e)e(t);else throw t})}function an(){}var av=Kl("C",void 0,void 0);function cv(t){return Kl("E",void 0,t)}function uv(t){return Kl("N",t,void 0)}function Kl(t,e,n){return{kind:t,value:e,error:n}}var cr=null;function ei(t){if(Rt.useDeprecatedSynchronousErrorHandling){let e=!cr;if(e&&(cr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=cr;if(cr=null,n)throw r}}else t()}function lv(t){Rt.useDeprecatedSynchronousErrorHandling&&cr&&(cr.errorThrown=!0,cr.error=t)}var ur=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ca(e)&&e.add(this)):this.destination=AC}static create(e,n,r){return new cn(e,n,r)}next(e){this.isStopped?Yl(uv(e),this):this._next(e)}error(e){this.isStopped?Yl(cv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Yl(av,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},CC=Function.prototype.bind;function Ql(t,e){return CC.call(t,e)}var Jl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){la(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){la(r)}else la(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){la(n)}}},cn=class extends ur{constructor(e,n,r){super();let i;if(z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Rt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ql(e.next,s),error:e.error&&Ql(e.error,s),complete:e.complete&&Ql(e.complete,s)}):i=e}this.destination=new Jl(i)}};function la(t){Rt.useDeprecatedSynchronousErrorHandling?lv(t):ua(t)}function SC(t){throw t}function Yl(t,e){let{onStoppedNotification:n}=Rt;n&&Xr.setTimeout(()=>n(t,e))}var AC={closed:!0,next:an,error:SC,complete:an};var ti=typeof Symbol=="function"&&Symbol.observable||"@@observable";function $e(t){return t}function RC(...t){return Zl(t)}function Zl(t){return t.length===0?$e:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var G=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=xC(n)?n:new cn(n,r,i);return ei(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=dv(r),new r((i,s)=>{let o=new cn({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ti](){return this}pipe(...n){return Zl(n)(this)}toPromise(n){return n=dv(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function dv(t){var e;return(e=t??Rt.Promise)!==null&&e!==void 0?e:Promise}function NC(t){return t&&z(t.next)&&z(t.error)&&z(t.complete)}function xC(t){return t&&t instanceof ur||NC(t)&&ca(t)}function Xl(t){return z(t?.lift)}function U(t){return e=>{if(Xl(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function j(t,e,n,r,i){return new As(t,e,n,r,i)}var As=class extends ur{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ed(){return U((t,e)=>{let n=null;t._refCount++;let r=j(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var td=class extends G{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Xl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let n=this.getSubject();e.add(this.source.subscribe(j(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return ed()(this)}};var hv=kn(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fe=(()=>{class t extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new da(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new hv}next(n){ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Wl:(this.currentObservers=null,s.push(n),new Ne(()=>{this.currentObservers=null,ar(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new G;return n.source=this,n}}return t.create=(e,n)=>new da(e,n),t})(),da=class extends Fe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Wl}};var un=class extends Fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Rs={now(){return(Rs.delegate||Date).now()},delegate:void 0};var nd=class extends Fe{constructor(e=1/0,n=1/0,r=Rs){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),c=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)c=u;c&&r.splice(0,c+1)}}};var ha=class extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}};var Ns={setInterval(t,e,...n){let{delegate:r}=Ns;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ns;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ni=class extends ha{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ns.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ns.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ar(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ri=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ri.now=Rs.now;var ii=class extends ri{constructor(e,n=ri.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var lr=new ii(ni);var fa=class extends ni{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var pa=class extends ii{};var xs=new pa(fa);var ln=new G(t=>t.complete());function fv(t){return t&&z(t.schedule)}function rd(t){return t[t.length-1]}function si(t){return z(rd(t))?t.pop():void 0}function Lt(t){return fv(rd(t))?t.pop():void 0}function pv(t,e){return typeof rd(t)=="number"?t.pop():e}function ma(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gv(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function mv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function dr(t){return this instanceof dr?(this.v=t,this):new dr(t)}function yv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(C){return Promise.resolve(C).then(v,p)}}function c(v,C){r[v]&&(i[v]=function(R){return new Promise(function(N,k){s.push([v,R,N,k])>1||u(v,R)})},C&&(i[v]=C(i[v])))}function u(v,C){try{l(r[v](C))}catch(R){g(s[0][3],R)}}function l(v){v.value instanceof dr?Promise.resolve(v.value.v).then(h,p):g(s[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function g(v,C){v(C),s.shift(),s.length&&u(s[0][0],s[0][1])}}function vv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof mv=="function"?mv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var ga=t=>t&&typeof t.length=="number"&&typeof t!="function";function ya(t){return z(t?.then)}function va(t){return z(t[ti])}function _a(t){return Symbol.asyncIterator&&z(t?.[Symbol.asyncIterator])}function Ia(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function MC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ea=MC();function wa(t){return z(t?.[Ea])}function Ta(t){return yv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield dr(n.read());if(i)return yield dr(void 0);yield yield dr(r)}}finally{n.releaseLock()}})}function Da(t){return z(t?.getReader)}function oe(t){if(t instanceof G)return t;if(t!=null){if(va(t))return PC(t);if(ga(t))return kC(t);if(ya(t))return OC(t);if(_a(t))return _v(t);if(wa(t))return FC(t);if(Da(t))return LC(t)}throw Ia(t)}function PC(t){return new G(e=>{let n=t[ti]();if(z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function kC(t){return new G(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function OC(t){return new G(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ua)})}function FC(t){return new G(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function _v(t){return new G(e=>{VC(t,e).catch(n=>e.error(n))})}function LC(t){return _v(Ta(t))}function VC(t,e){var n,r,i,s;return gv(this,void 0,void 0,function*(){try{for(n=vv(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ye(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Vt(t,e=0){return U((n,r)=>{n.subscribe(j(r,i=>Ye(r,t,()=>r.next(i),e),()=>Ye(r,t,()=>r.complete(),e),i=>Ye(r,t,()=>r.error(i),e)))})}function On(t,e=0){return U((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Iv(t,e){return oe(t).pipe(On(e),Vt(e))}function Ev(t,e){return oe(t).pipe(On(e),Vt(e))}function wv(t,e){return new G(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Tv(t,e){return new G(n=>{let r;return Ye(n,e,()=>{r=t[Ea](),Ye(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>z(r?.return)&&r.return()})}function ba(t,e){if(!t)throw new Error("Iterable cannot be null");return new G(n=>{Ye(n,e,()=>{let r=t[Symbol.asyncIterator]();Ye(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Dv(t,e){return ba(Ta(t),e)}function bv(t,e){if(t!=null){if(va(t))return Iv(t,e);if(ga(t))return wv(t,e);if(ya(t))return Ev(t,e);if(_a(t))return ba(t,e);if(wa(t))return Tv(t,e);if(Da(t))return Dv(t,e)}throw Ia(t)}function jt(t,e){return e?bv(t,e):oe(t)}function id(...t){let e=Lt(t);return jt(t,e)}function sd(t,e){let n=z(t)?t:()=>t,r=i=>i.error(n());return new G(e?i=>e.schedule(r,0,i):r)}var Fn=class t{constructor(e,n,r){this.kind=e,this.value=n,this.error=r,this.hasValue=e==="N"}observe(e){return od(this,e)}do(e,n,r){let{kind:i,value:s,error:o}=this;return i==="N"?e?.(s):i==="E"?n?.(o):r?.()}accept(e,n,r){var i;return z((i=e)===null||i===void 0?void 0:i.next)?this.observe(e):this.do(e,n,r)}toObservable(){let{kind:e,value:n,error:r}=this,i=e==="N"?id(n):e==="E"?sd(()=>r):e==="C"?ln:0;if(!i)throw new TypeError(`Unexpected notification kind ${e}`);return i}static createNext(e){return new t("N",e)}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}};Fn.completeNotification=new Fn("C");function od(t,e){var n,r,i;let{kind:s,value:o,error:c}=t;if(typeof s!="string")throw new TypeError('Invalid notification, missing "kind"');s==="N"?(n=e.next)===null||n===void 0||n.call(e,o):s==="E"?(r=e.error)===null||r===void 0||r.call(e,c):(i=e.complete)===null||i===void 0||i.call(e)}function jC(t){return!!t&&(t instanceof G||z(t.lift)&&z(t.subscribe))}var hr=kn(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Cv(t){return t instanceof Date&&!isNaN(t)}var UC=kn(t=>function(n=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n});function BC(t,e){let{first:n,each:r,with:i=$C,scheduler:s=e??lr,meta:o=null}=Cv(t)?{first:t}:typeof t=="number"?{each:t}:t;if(n==null&&r==null)throw new TypeError("No timeout provided.");return U((c,u)=>{let l,h,p=null,g=0,v=C=>{h=Ye(u,s,()=>{try{l.unsubscribe(),oe(i({meta:o,lastValue:p,seen:g})).subscribe(u)}catch(R){u.error(R)}},C)};l=c.subscribe(j(u,C=>{h?.unsubscribe(),g++,u.next(p=C),r>0&&v(r)},void 0,void 0,()=>{h?.closed||h?.unsubscribe(),p=null})),!g&&v(n!=null?typeof n=="number"?n:+n-s.now():r)})}function $C(t){throw new UC(t)}function Je(t,e){return U((n,r)=>{let i=0;n.subscribe(j(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:HC}=Array;function qC(t,e){return HC(e)?t(...e):t(e)}function Ca(t){return Je(e=>qC(t,e))}var{isArray:zC}=Array,{getPrototypeOf:GC,prototype:WC,keys:KC}=Object;function Sa(t){if(t.length===1){let e=t[0];if(zC(e))return{args:e,keys:null};if(QC(e)){let n=KC(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function QC(t){return t&&typeof t=="object"&&GC(t)===WC}function Aa(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function YC(...t){let e=Lt(t),n=si(t),{args:r,keys:i}=Sa(t);if(r.length===0)return jt([],e);let s=new G(JC(r,e,i?o=>Aa(i,o):$e));return n?s.pipe(Ca(n)):s}function JC(t,e,n=$e){return r=>{Sv(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)Sv(e,()=>{let l=jt(t[u],e),h=!1;l.subscribe(j(r,p=>{s[u]=p,h||(h=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Sv(t,e,n){t?Ye(n,t,e):e()}function Av(t,e,n,r,i,s,o,c){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},v=R=>l<r?C(R):u.push(R),C=R=>{s&&e.next(R),l++;let N=!1;oe(n(R,h++)).subscribe(j(e,k=>{i?.(k),s?v(k):e.next(k)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let k=u.shift();o?Ye(e,o,()=>C(k)):C(k)}g()}catch(k){e.error(k)}}))};return t.subscribe(j(e,v,()=>{p=!0,g()})),()=>{c?.()}}function fr(t,e,n=1/0){return z(e)?fr((r,i)=>Je((s,o)=>e(r,s,i,o))(oe(t(r,i))),n):(typeof e=="number"&&(n=e),U((r,i)=>Av(r,i,t,n)))}function Ra(t=1/0){return fr($e,t)}function Rv(){return Ra(1)}function Na(...t){return Rv()(jt(t,Lt(t)))}function ZC(t){return new G(e=>{oe(t()).subscribe(e)})}function XC(...t){let e=si(t),{args:n,keys:r}=Sa(t),i=new G(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;oe(n[h]).subscribe(j(s,g=>{p||(p=!0,l--),c[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Aa(r,c):c),s.complete())}))}});return e?i.pipe(Ca(e)):i}function e0(...t){let e=Lt(t),n=pv(t,1/0),r=t;return r.length?r.length===1?oe(r[0]):Ra(n)(jt(r,e)):ln}function pr(t,e){return U((n,r)=>{let i=0;n.subscribe(j(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Nv(t){return U((e,n)=>{let r=null,i=!1,s;r=e.subscribe(j(n,void 0,void 0,o=>{s=oe(t(o,Nv(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function xv(t,e,n,r,i){return(s,o)=>{let c=n,u=e,l=0;s.subscribe(j(o,h=>{let p=l++;u=c?t(u,h,p):(c=!0,h),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function t0(t,e){return z(e)?fr(t,e,1):fr(t,1)}function n0(t,e=lr){return U((n,r)=>{let i=null,s=null,o=null,c=()=>{if(i){i.unsubscribe(),i=null;let l=s;s=null,r.next(l)}};function u(){let l=o+t,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}c()}n.subscribe(j(r,l=>{s=l,o=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{c(),r.complete()},void 0,()=>{s=i=null}))})}function Ms(t){return U((e,n)=>{let r=!1;e.subscribe(j(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ad(t){return t<=0?()=>ln:U((e,n)=>{let r=0;e.subscribe(j(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function r0(){return U((t,e)=>{t.subscribe(j(e,an))})}function i0(t){return Je(()=>t)}function s0(){return U((t,e)=>{t.subscribe(j(e,n=>od(n,e)))})}function cd(t,e=$e){return t=t??o0,U((n,r)=>{let i,s=!0;n.subscribe(j(r,o=>{let c=e(o);(s||!t(i,c))&&(s=!1,i=c,r.next(o))}))})}function o0(t,e){return t===e}function xa(t=a0){return U((e,n)=>{let r=!1;e.subscribe(j(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function a0(){return new hr}function Mv(t,e){return e?n=>n.pipe(Mv((r,i)=>oe(t(r,i)).pipe(Je((s,o)=>e(r,s,i,o))))):U((n,r)=>{let i=0,s=null,o=!1;n.subscribe(j(r,c=>{s||(s=j(r,void 0,()=>{s=null,o&&r.complete()}),oe(t(c,i++)).subscribe(s))},()=>{o=!0,!s&&r.complete()}))})}function c0(t){return U((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Pv(t,e){let n=arguments.length>=2;return r=>r.pipe(t?pr((i,s)=>t(i,s,r)):$e,ad(1),n?Ms(e):xa(()=>new hr))}function u0(t,e,n,r){return U((i,s)=>{let o;!e||typeof e=="function"?o=e:{duration:n,element:o,connector:r}=e;let c=new Map,u=C=>{c.forEach(C),C(s)},l=C=>u(R=>R.error(C)),h=0,p=!1,g=new As(s,C=>{try{let R=t(C),N=c.get(R);if(!N){c.set(R,N=r?r():new Fe);let k=v(R,N);if(s.next(k),n){let O=j(N,()=>{N.complete(),O?.unsubscribe()},void 0,void 0,()=>c.delete(R));g.add(oe(n(k)).subscribe(O))}}N.next(o?o(C):C)}catch(R){l(R)}},()=>u(C=>C.complete()),l,()=>c.clear(),()=>(p=!0,h===0));i.subscribe(g);function v(C,R){let N=new G(k=>{h++;let O=R.subscribe(k);return()=>{O.unsubscribe(),--h===0&&p&&g.unsubscribe()}});return N.key=C,N}})}function ud(t){return t<=0?()=>ln:U((e,n)=>{let r=[];e.subscribe(j(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function l0(t,e){let n=arguments.length>=2;return r=>r.pipe(t?pr((i,s)=>t(i,s,r)):$e,ud(1),n?Ms(e):xa(()=>new hr))}function d0(){return U((t,e)=>{t.subscribe(j(e,n=>{e.next(Fn.createNext(n))},()=>{e.next(Fn.createComplete()),e.complete()},n=>{e.next(Fn.createError(n)),e.complete()}))})}function ld(...t){let e=t.length;if(e===0)throw new Error("list of properties cannot be empty.");return Je(n=>{let r=n;for(let i=0;i<e;i++){let s=r?.[t[i]];if(typeof s<"u")r=s;else return}return r})}function dd(t,e){return U(xv(t,e,arguments.length>=2,!0))}function h0(t={}){let{connector:e=()=>new Fe,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,c,u,l=0,h=!1,p=!1,g=()=>{c?.unsubscribe(),c=void 0},v=()=>{g(),o=u=void 0,h=p=!1},C=()=>{let R=o;v(),R?.unsubscribe()};return U((R,N)=>{l++,!p&&!h&&g();let k=u=u??e();N.add(()=>{l--,l===0&&!p&&!h&&(c=hd(C,i))}),k.subscribe(N),!o&&l>0&&(o=new cn({next:O=>k.next(O),error:O=>{p=!0,g(),c=hd(v,n,O),k.error(O)},complete:()=>{h=!0,g(),c=hd(v,r),k.complete()}}),oe(R).subscribe(o))})(s)}}function hd(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new cn({next:()=>{r.unsubscribe(),t()}});return oe(e(...n)).subscribe(r)}function f0(t){return pr((e,n)=>t<=n)}function p0(...t){let e=Lt(t);return U((n,r)=>{(e?Na(t,n,e):Na(t,n)).subscribe(r)})}function m0(t,e){return U((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(j(r,u=>{i?.unsubscribe();let l=0,h=s++;oe(t(u,h)).subscribe(i=j(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function kv(t){return U((e,n)=>{oe(t).subscribe(j(n,()=>n.complete(),an)),!n.closed&&e.subscribe(n)})}function fd(t,e,n){let r=z(t)||e||n?{next:t,error:e,complete:n}:t;return r?U((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(j(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):$e}function pd(...t){let e=si(t);return U((n,r)=>{let i=t.length,s=new Array(i),o=t.map(()=>!1),c=!1;for(let u=0;u<i;u++)oe(t[u]).subscribe(j(r,l=>{s[u]=l,!c&&!o[u]&&(o[u]=!0,(c=o.every($e))&&(o=null))},an));n.subscribe(j(r,u=>{if(c){let l=[u,...s];r.next(e?e(...l):l)}}))})}var g0="https://g.co/ng/security#xss",se=class extends Error{constructor(e,n){super(v_(e,n)),this.code=e}};function v_(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function qs(t){return{toString:t}.toString()}var Ma="__parameters__";function y0(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function __(t,e,n){return qs(()=>{let r=y0(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,h){let p=u.hasOwnProperty(Ma)?u[Ma]:Object.defineProperty(u,Ma,{value:[]})[Ma];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Pa=globalThis;function ye(t){for(let e in t)if(t[e]===ye)return e;throw Error("Could not find renamed property on target object.")}function v0(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function lt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(lt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Ov(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var _0=ye({__forward_ref__:ye});function I_(t){return t.__forward_ref__=I_,t.toString=function(){return lt(this())},t}function st(t){return E_(t)?t():t}function E_(t){return typeof t=="function"&&t.hasOwnProperty(_0)&&t.__forward_ref__===I_}function ce(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Eh(t){return{providers:t.providers||[],imports:t.imports||[]}}function pc(t){return Fv(t,w_)||Fv(t,T_)}function xq(t){return pc(t)!==null}function Fv(t,e){return t.hasOwnProperty(e)?t[e]:null}function I0(t){let e=t&&(t[w_]||t[T_]);return e||null}function Lv(t){return t&&(t.hasOwnProperty(Vv)||t.hasOwnProperty(E0))?t[Vv]:null}var w_=ye({\u0275prov:ye}),Vv=ye({\u0275inj:ye}),T_=ye({ngInjectableDef:ye}),E0=ye({ngInjectorDef:ye}),L=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ce({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function D_(t){return t&&!!t.\u0275providers}var w0=ye({\u0275cmp:ye}),T0=ye({\u0275dir:ye}),D0=ye({\u0275pipe:ye}),b0=ye({\u0275mod:ye}),$a=ye({\u0275fac:ye}),Os=ye({__NG_ELEMENT_ID__:ye}),jv=ye({__NG_ENV_ID__:ye});function b_(t){return typeof t=="string"?t:t==null?"":String(t)}function C0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():b_(t)}function S0(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new se(-200,t)}function wh(t,e){throw new se(-201,!1)}var ne=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ne||{}),Nd;function C_(){return Nd}function ut(t){let e=Nd;return Nd=t,e}function S_(t,e,n){let r=pc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ne.Optional)return null;if(e!==void 0)return e;wh(t,"Injector")}var A0={},Fs=A0,xd="__NG_DI_FLAG__",Ha="ngTempTokenPath",R0="ngTokenPath",N0=/\n/gm,x0="\u0275",Uv="__source",ui;function M0(){return ui}function Ln(t){let e=ui;return ui=t,e}function P0(t,e=ne.Default){if(ui===void 0)throw new se(-203,!1);return ui===null?S_(t,void 0,e):ui.get(t,e&ne.Optional?null:void 0,e)}function me(t,e=ne.Default){return(C_()||P0)(st(t),e)}function $(t,e=ne.Default){return me(t,mc(e))}function mc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Md(t){let e=[];for(let n=0;n<t.length;n++){let r=st(t[n]);if(Array.isArray(r)){if(r.length===0)throw new se(900,!1);let i,s=ne.Default;for(let o=0;o<r.length;o++){let c=r[o],u=k0(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(me(i,s))}else e.push(me(r))}return e}function A_(t,e){return t[xd]=e,t.prototype[xd]=e,t}function k0(t){return t[xd]}function O0(t,e,n,r){let i=t[Ha];throw e[Uv]&&i.unshift(e[Uv]),t.message=F0(`
`+t.message,i,n,r),t[R0]=i,t[Ha]=null,t}function F0(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==x0?t.slice(2):t;let i=lt(e);if(Array.isArray(e))i=e.map(lt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):lt(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(N0,`
  `)}`}var R_=A_(__("Inject",t=>({token:t})),-1),br=A_(__("Optional"),8);function yr(t,e){let n=t.hasOwnProperty($a);return n?t[$a]:null}function Th(t,e){t.forEach(n=>Array.isArray(n)?Th(n,e):e(n))}function N_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function qa(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function L0(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function V0(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function j0(t,e,n){let r=zs(t,e);return r>=0?t[r|1]=n:(r=~r,V0(t,r,e,n)),r}function md(t,e){let n=zs(t,e);if(n>=0)return t[n|1]}function zs(t,e){return U0(t,e,1)}function U0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var di={},_t=[],hi=new L(""),x_=new L("",-1),M_=new L(""),za=class{get(e,n=Fs){if(n===Fs){let r=new Error(`NullInjectorError: No provider for ${lt(e)}!`);throw r.name="NullInjectorError",r}return n}},P_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(P_||{}),Ls=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ls||{}),Un=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Un||{});function B0(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Pd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];H0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function $0(t){return t===3||t===4||t===6}function H0(t){return t.charCodeAt(0)===64}function Vs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Bv(t,n,i,null,e[++r]):Bv(t,n,i,null,null))}}return t}function Bv(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var k_="ng-template";function q0(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&B0(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Dh(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Dh(t){return t.type===4&&t.value!==k_}function z0(t,e,n){let r=t.type===4&&!n?k_:t.value;return e===r}function G0(t,e,n){let r=4,i=t.attrs,s=i!==null?Q0(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Nt(r)&&!Nt(u))return!1;if(o&&Nt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!z0(t,u,n)||u===""&&e.length===1){if(Nt(r))return!1;o=!0}}else if(r&8){if(i===null||!q0(t,i,u,n)){if(Nt(r))return!1;o=!0}}else{let l=e[++c],h=W0(u,i,Dh(t),n);if(h===-1){if(Nt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Nt(r))return!1;o=!0}}}}return Nt(r)||o}function Nt(t){return(t&1)===0}function W0(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Y0(e,t)}function O_(t,e,n=!1){for(let r=0;r<e.length;r++)if(G0(t,e[r],n))return!0;return!1}function K0(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function Q0(t){for(let e=0;e<t.length;e++){let n=t[e];if($0(n))return e}return t.length}function Y0(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function J0(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function $v(t,e){return t?":not("+e.trim()+")":e}function Z0(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Nt(o)&&(e+=$v(s,i),i=""),r=o,s=s||!Nt(r);n++}return i!==""&&(e+=$v(s,i)),e}function X0(t){return t.map(Z0).join(",")}function eS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Nt(i))break;i=s}r++}return{attrs:e,classes:n}}function Mq(t){return qs(()=>{let e=j_(t),n=it(Se({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===P_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ls.Emulated,styles:t.styles||_t,_:null,schemas:t.schemas||null,tView:null,id:""});U_(n);let r=t.dependencies;return n.directiveDefs=qv(r,!1),n.pipeDefs=qv(r,!0),n.id=iS(n),n})}function tS(t){return vr(t)||F_(t)}function nS(t){return t!==null}function bh(t){return qs(()=>({type:t.type,bootstrap:t.bootstrap||_t,declarations:t.declarations||_t,imports:t.imports||_t,exports:t.exports||_t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Hv(t,e){if(t==null)return di;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=Un.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==Un.None?[r,c]:r,e[s]=o):n[s]=r}return n}function gc(t){return qs(()=>{let e=j_(t);return U_(e),e})}function Ch(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function vr(t){return t[w0]||null}function F_(t){return t[T0]||null}function L_(t){return t[D0]||null}function rS(t){let e=vr(t)||F_(t)||L_(t);return e!==null?e.standalone:!1}function V_(t,e){let n=t[b0]||null;if(!n&&e===!0)throw new Error(`Type ${lt(t)} does not have '\u0275mod' property.`);return n}function j_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||di,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||_t,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hv(t.inputs,e),outputs:Hv(t.outputs),debugInfo:null}}function U_(t){t.features?.forEach(e=>e(t))}function qv(t,e){if(!t)return null;let n=e?L_:tS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(nS)}function iS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Cr(t){return{\u0275providers:t}}function sS(...t){return{\u0275providers:B_(!0,t),\u0275fromNgModule:!0}}function B_(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Th(e,o=>{let c=o;kd(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&$_(i,s),n}function $_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Sh(i,s=>{e(s,r)})}}function kd(t,e,n,r){if(t=st(t),!t)return!1;let i=null,s=Lv(t),o=!s&&vr(t);if(!s&&!o){let u=t.ngModule;if(s=Lv(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)kd(l,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{Th(s.imports,h=>{kd(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&$_(l,e)}if(!c){let l=yr(i)||(()=>new i);e({provide:i,useFactory:l,deps:_t},i),e({provide:M_,useValue:i,multi:!0},i),e({provide:hi,useValue:()=>me(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=t;Sh(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Sh(t,e){for(let n of t)D_(n)&&(n=n.\u0275providers),Array.isArray(n)?Sh(n,e):e(n)}var oS=ye({provide:String,useValue:ye});function H_(t){return t!==null&&typeof t=="object"&&oS in t}function aS(t){return!!(t&&t.useExisting)}function cS(t){return!!(t&&t.useFactory)}function fi(t){return typeof t=="function"}function uS(t){return!!t.useClass}var q_=new L(""),La={},lS={},gd;function Ah(){return gd===void 0&&(gd=new za),gd}var Bn=class{},js=class extends Bn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fd(e,o=>this.processProvider(o)),this.records.set(x_,oi(void 0,this)),i.has("environment")&&this.records.set(Bn,oi(void 0,this));let s=this.records.get(q_);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(M_,_t,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=te(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),te(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ln(this),r=ut(void 0),i;try{return e()}finally{Ln(n),ut(r)}}get(e,n=Fs,r=ne.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(jv))return e[jv](this);r=mc(r);let i,s=Ln(this),o=ut(void 0);try{if(!(r&ne.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=mS(e)&&pc(e);l&&this.injectableDefInScope(l)?u=oi(Od(e),La):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&ne.Self?Ah():this.parent;return n=r&ne.Optional&&n===Fs?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Ha]=c[Ha]||[]).unshift(lt(e)),s)throw c;return O0(c,e,"R3InjectorError",this.source)}else throw c}finally{ut(o),Ln(s)}}resolveInjectorInitializers(){let e=te(null),n=Ln(this),r=ut(void 0),i;try{let s=this.get(hi,_t,ne.Self);for(let o of s)o()}finally{Ln(n),ut(r),te(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(lt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processProvider(e){e=st(e);let n=fi(e)?e:st(e&&e.provide),r=hS(e);if(!fi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=oi(void 0,La,!0),i.factory=()=>Md(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=te(null);try{return n.value===La&&(n.value=lS,n.value=n.factory()),typeof n.value=="object"&&n.value&&pS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{te(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=st(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Od(t){let e=pc(t),n=e!==null?e.factory:yr(t);if(n!==null)return n;if(t instanceof L)throw new se(204,!1);if(t instanceof Function)return dS(t);throw new se(204,!1)}function dS(t){if(t.length>0)throw new se(204,!1);let n=I0(t);return n!==null?()=>n.factory(t):()=>new t}function hS(t){if(H_(t))return oi(void 0,t.useValue);{let e=z_(t);return oi(e,La)}}function z_(t,e,n){let r;if(fi(t)){let i=st(t);return yr(i)||Od(i)}else if(H_(t))r=()=>st(t.useValue);else if(cS(t))r=()=>t.useFactory(...Md(t.deps||[]));else if(aS(t))r=()=>me(st(t.useExisting));else{let i=st(t&&(t.useClass||t.provide));if(fS(t))r=()=>new i(...Md(t.deps));else return yr(i)||Od(i)}return r}function oi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function fS(t){return!!t.deps}function pS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function mS(t){return typeof t=="function"||typeof t=="object"&&t instanceof L}function Fd(t,e){for(let n of t)Array.isArray(n)?Fd(n,e):n&&D_(n)?Fd(n.\u0275providers,e):e(n)}function Pq(t,e){t instanceof js&&t.assertNotDestroyed();let n,r=Ln(t),i=ut(void 0);try{return e()}finally{Ln(r),ut(i)}}function G_(){return C_()!==void 0||M0()!=null}function W_(t){if(!G_())throw new se(-203,!1)}function gS(t){return typeof t=="function"}var hn=0,Z=1,W=2,at=3,xt=4,dt=5,pi=6,Ga=7,Ze=8,mi=9,dn=10,Le=11,Us=12,zv=13,Ai=14,pt=15,gi=16,ai=17,yi=18,yc=19,K_=20,Vn=21,yd=22,It=23,He=25,Q_=1;var _r=7,Wa=8,Ka=9,ot=10,Qa=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Qa||{});function jn(t){return Array.isArray(t)&&typeof t[Q_]=="object"}function fn(t){return Array.isArray(t)&&t[Q_]===!0}function Y_(t){return(t.flags&4)!==0}function vc(t){return t.componentOffset>-1}function Rh(t){return(t.flags&1)===1}function $n(t){return!!t.template}function Ld(t){return(t[W]&512)!==0}var Vd=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function J_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Z_(){return X_}function X_(t){return t.type.prototype.ngOnChanges&&(t.setInput=vS),yS}Z_.ngInherit=!0;function yS(){let t=tI(this),e=t?.current;if(e){let n=t.previous;if(n===di)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function vS(t,e,n,r,i){let s=this.declaredInputs[r],o=tI(t)||_S(t,{previous:di,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new Vd(l&&l.currentValue,n,u===di),J_(t,e,i,n)}var eI="__ngSimpleChanges__";function tI(t){return t[eI]||null}function _S(t,e){return t[eI]=e}var Gv=null;var Ut=function(t,e,n){Gv?.(t,e,n)},nI="svg",IS="math";function Ht(t){for(;Array.isArray(t);)t=t[hn];return t}function rI(t,e){return Ht(e[t])}function Mt(t,e){return Ht(e[t.index])}function Nh(t,e){return t.data[e]}function xh(t,e){return t[e]}function zn(t,e){let n=e[t];return jn(n)?n:n[hn]}function Mh(t){return(t[W]&128)===128}function ES(t){return fn(t[at])}function vi(t,e){return e==null?null:t[e]}function iI(t){t[ai]=0}function sI(t){t[W]&1024||(t[W]|=1024,Mh(t)&&Ic(t))}function wS(t,e){for(;t>0;)e=e[Ai],t--;return e}function _c(t){return!!(t[W]&9216||t[It]?.dirty)}function jd(t){t[dn].changeDetectionScheduler?.notify(8),t[W]&64&&(t[W]|=1024),_c(t)&&Ic(t)}function Ic(t){t[dn].changeDetectionScheduler?.notify(0);let e=Ir(t);for(;e!==null&&!(e[W]&8192||(e[W]|=8192,!Mh(e)));)e=Ir(e)}function oI(t,e){if((t[W]&256)===256)throw new se(911,!1);t[Vn]===null&&(t[Vn]=[]),t[Vn].push(e)}function TS(t,e){if(t[Vn]===null)return;let n=t[Vn].indexOf(e);n!==-1&&t[Vn].splice(n,1)}function Ir(t){let e=t[at];return fn(e)?e[at]:e}var X={lFrame:yI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var aI=!1;function DS(){return X.lFrame.elementDepthCount}function bS(){X.lFrame.elementDepthCount++}function CS(){X.lFrame.elementDepthCount--}function cI(){return X.bindingsEnabled}function uI(){return X.skipHydrationRootTNode!==null}function SS(t){return X.skipHydrationRootTNode===t}function AS(){X.skipHydrationRootTNode=null}function de(){return X.lFrame.lView}function ht(){return X.lFrame.tView}function kq(t){return X.lFrame.contextLView=t,t[Ze]}function Oq(t){return X.lFrame.contextLView=null,t}function Et(){let t=lI();for(;t!==null&&t.type===64;)t=t.parent;return t}function lI(){return X.lFrame.currentTNode}function RS(){let t=X.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Gs(t,e){let n=X.lFrame;n.currentTNode=t,n.isParent=e}function dI(){return X.lFrame.isParent}function hI(){X.lFrame.isParent=!1}function NS(){return X.lFrame.contextLView}function fI(){return aI}function Wv(t){aI=t}function Ph(){let t=X.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function xS(t){return X.lFrame.bindingIndex=t}function Ec(){return X.lFrame.bindingIndex++}function MS(t){let e=X.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function PS(){return X.lFrame.inI18n}function kS(t,e){let n=X.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ud(e)}function OS(){return X.lFrame.currentDirectiveIndex}function Ud(t){X.lFrame.currentDirectiveIndex=t}function FS(t){let e=X.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function pI(t){X.lFrame.currentQueryIndex=t}function LS(t){let e=t[Z];return e.type===2?e.declTNode:e.type===1?t[dt]:null}function mI(t,e,n){if(n&ne.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ne.Host);)if(i=LS(s),i===null||(s=s[Ai],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=X.lFrame=gI();return r.currentTNode=e,r.lView=t,!0}function kh(t){let e=gI(),n=t[Z];X.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function gI(){let t=X.lFrame,e=t===null?null:t.child;return e===null?yI(t):e}function yI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function vI(){let t=X.lFrame;return X.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var _I=vI;function Oh(){let t=vI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function VS(t){return(X.lFrame.contextLView=wS(t,X.lFrame.contextLView))[Ze]}function Sr(){return X.lFrame.selectedIndex}function Er(t){X.lFrame.selectedIndex=t}function II(){let t=X.lFrame;return Nh(t.tView,t.selectedIndex)}function Fq(){X.lFrame.currentNamespace=nI}function Lq(){jS()}function jS(){X.lFrame.currentNamespace=null}function US(){return X.lFrame.currentNamespace}var EI=!0;function Fh(){return EI}function Lh(t){EI=t}function BS(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=X_(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Vh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Va(t,e,n){wI(t,e,3,n)}function ja(t,e,n,r){(t[W]&3)===n&&wI(t,e,n,r)}function vd(t,e){let n=t[W];(n&3)===e&&(n&=16383,n+=1,t[W]=n)}function wI(t,e,n,r){let i=r!==void 0?t[ai]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[ai]+=65536),(c<s||s==-1)&&($S(t,n,e,u),t[ai]=(t[ai]&4294901760)+u+2),u++}function Kv(t,e){Ut(4,t,e);let n=te(null);try{e.call(t)}finally{te(n),Ut(5,t,e)}}function $S(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[W]>>14<t[ai]>>16&&(t[W]&3)===e&&(t[W]+=16384,Kv(c,s)):Kv(c,s)}var li=-1,wr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function HS(t){return t instanceof wr}function qS(t){return(t.flags&8)!==0}function zS(t){return(t.flags&16)!==0}var _d={},Bd=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=mc(r);let i=this.injector.get(e,_d,r);return i!==_d||n===_d?i:this.parentInjector.get(e,n,r)}};function TI(t){return t!==li}function Ya(t){return t&32767}function GS(t){return t>>16}function Ja(t,e){let n=GS(t),r=e;for(;n>0;)r=r[Ai],n--;return r}var $d=!0;function Za(t){let e=$d;return $d=t,e}var WS=256,DI=WS-1,bI=5,KS=0,Bt={};function QS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Os)&&(r=n[Os]),r==null&&(r=n[Os]=KS++);let i=r&DI,s=1<<i;e.data[t+(i>>bI)]|=s}function Xa(t,e){let n=CI(t,e);if(n!==-1)return n;let r=e[Z];r.firstCreatePass&&(t.injectorIndex=e.length,Id(r.data,t),Id(e,null),Id(r.blueprint,null));let i=jh(t,e),s=t.injectorIndex;if(TI(i)){let o=Ya(i),c=Ja(i,e),u=c[Z].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function Id(t,e){t.push(0,0,0,0,0,0,0,0,e)}function CI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function jh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=MI(i),r===null)return li;if(n++,i=i[Ai],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return li}function Hd(t,e,n){QS(t,e,n)}function SI(t,e,n){if(n&ne.Optional||t!==void 0)return t;wh(e,"NodeInjector")}function AI(t,e,n,r){if(n&ne.Optional&&r===void 0&&(r=null),!(n&(ne.Self|ne.Host))){let i=t[mi],s=ut(void 0);try{return i?i.get(e,r,n&ne.Optional):S_(e,r,n&ne.Optional)}finally{ut(s)}}return SI(r,e,n)}function RI(t,e,n,r=ne.Default,i){if(t!==null){if(e[W]&2048&&!(r&ne.Self)){let o=eA(t,e,n,r,Bt);if(o!==Bt)return o}let s=NI(t,e,n,r,Bt);if(s!==Bt)return s}return AI(e,n,r,i)}function NI(t,e,n,r,i){let s=ZS(n);if(typeof s=="function"){if(!mI(e,t,r))return r&ne.Host?SI(i,n,r):AI(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ne.Optional))wh(n);else return o}finally{_I()}}else if(typeof s=="number"){let o=null,c=CI(t,e),u=li,l=r&ne.Host?e[pt][dt]:null;for((c===-1||r&ne.SkipSelf)&&(u=c===-1?jh(t,e):e[c+8],u===li||!Yv(r,!1)?c=-1:(o=e[Z],c=Ya(u),e=Ja(u,e)));c!==-1;){let h=e[Z];if(Qv(s,c,h.data)){let p=YS(c,e,n,o,r,l);if(p!==Bt)return p}u=e[c+8],u!==li&&Yv(r,e[Z].data[c+8]===l)&&Qv(s,c,e)?(o=h,c=Ya(u),e=Ja(u,e)):c=-1}}return i}function YS(t,e,n,r,i,s){let o=e[Z],c=o.data[t+8],u=r==null?vc(c)&&$d:r!=o&&(c.type&3)!==0,l=i&ne.Host&&s===c,h=JS(c,o,n,u,l);return h!==null?_i(e,o,h,c):Bt}function JS(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?c:c+h,g=i?c+h:l;for(let v=p;v<g;v++){let C=o[v];if(v<u&&n===C||v>=u&&C.type===n)return v}if(i){let v=o[u];if(v&&$n(v)&&v.type===n)return u}return null}function _i(t,e,n,r){let i=t[n],s=e.data;if(HS(i)){let o=i;o.resolving&&S0(C0(s[n]));let c=Za(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?ut(o.injectImpl):null,h=mI(t,r,ne.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&BS(n,s[n],e)}finally{l!==null&&ut(l),Za(c),o.resolving=!1,_I()}}return i}function ZS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Os)?t[Os]:void 0;return typeof e=="number"?e>=0?e&DI:XS:e}function Qv(t,e,n){let r=1<<t;return!!(n[e+(t>>bI)]&r)}function Yv(t,e){return!(t&ne.Self)&&!(t&ne.Host&&e)}var gr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return RI(this._tNode,this._lView,e,mc(r),n)}};function XS(){return new gr(Et(),de())}function xI(t){return qs(()=>{let e=t.prototype.constructor,n=e[$a]||qd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[$a]||qd(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function qd(t){return E_(t)?()=>{let e=qd(st(t));return e&&e()}:yr(t)}function eA(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[W]&2048&&!(o[W]&512);){let c=NI(s,o,n,r|ne.Self,Bt);if(c!==Bt)return c;let u=s.parent;if(!u){let l=o[K_];if(l){let h=l.get(n,Bt,r);if(h!==Bt)return h}u=MI(o),o=o[Ai]}s=u}return i}function MI(t){let e=t[Z],n=e.type;return n===2?e.declTNode:n===1?t[dt]:null}function Jv(t,e=null,n=null,r){let i=PI(t,e,n,r);return i.resolveInjectorInitializers(),i}function PI(t,e=null,n=null,r,i=new Set){let s=[n||_t,sS(t)];return r=r||(typeof t=="object"?void 0:lt(t)),new js(s,e||Ah(),r||null,i)}var qt=class t{static{this.THROW_IF_NOT_FOUND=Fs}static{this.NULL=new za}static create(e,n){if(Array.isArray(e))return Jv({name:""},n,e,"");{let r=e.name??"";return Jv({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=ce({token:t,providedIn:"any",factory:()=>me(x_)})}static{this.__NG_ELEMENT_ID__=-1}};var tA=new L("");tA.__NG_ELEMENT_ID__=t=>{let e=Et();if(e===null)throw new se(204,!1);if(e.type&2)return e.value;if(t&ne.Optional)return null;throw new se(204,!1)};var nA="ngOriginalError";function Ed(t){return t[nA]}var kI=!0,Ws=(()=>{class t{static{this.__NG_ELEMENT_ID__=rA}static{this.__NG_ENV_ID__=n=>n}}return t})(),zd=class extends Ws{constructor(e){super(),this._lView=e}onDestroy(e){return oI(this._lView,e),()=>TS(this._lView,e)}};function rA(){return new zd(de())}var wc=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new un(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=ce({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Gd=class extends Fe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,G_()&&(this.destroyRef=$(Ws,{optional:!0})??void 0,this.pendingTasks=$(wc,{optional:!0})??void 0)}emit(e){let n=te(null);try{super.next(e)}finally{te(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Ne&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},$t=Gd;function ec(...t){}function OI(t){let e,n;function r(){t=ec;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Zv(t){return queueMicrotask(()=>t()),()=>{t=ec}}var Uh="isAngularZone",tc=Uh+"_ID",iA=0,De=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $t(!1),this.onMicrotaskEmpty=new $t(!1),this.onStable=new $t(!1),this.onError=new $t(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=kI}=e;if(typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,aA(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Uh)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new se(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,sA,ec,ec);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},sA={};function Bh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function oA(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){OI(()=>{t.callbackScheduled=!1,Wd(t),t.isCheckStableRunning=!0,Bh(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Wd(t)}function aA(t){let e=()=>{oA(t)},n=iA++;t._inner=t._inner.fork({name:"angular",properties:{[Uh]:!0,[tc]:n,[tc+n]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(cA(u))return r.invokeTask(s,o,c,u);try{return Xv(t),r.invokeTask(s,o,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),e_(t)}},onInvoke:(r,i,s,o,c,u,l)=>{try{return Xv(t),r.invoke(s,o,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!uA(u)&&e(),e_(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Wd(t),Bh(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Wd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Xv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function e_(t){t._nesting--,Bh(t)}var Kd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $t,this.onMicrotaskEmpty=new $t,this.onStable=new $t,this.onError=new $t}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function cA(t){return FI(t,"__ignore_ng_zone__")}function uA(t){return FI(t,"__scheduler_tick__")}function FI(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Ii=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ed(e);for(;n&&Ed(n);)n=Ed(n);return n||null}},lA=new L("",{providedIn:"root",factory:()=>{let t=$(De),e=$(Ii);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function dA(){return $h(Et(),de())}function $h(t,e){return new Tc(Mt(t,e))}var Tc=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=dA}}return t})();function LI(t){return(t.flags&128)===128}var VI=new Map,hA=0;function fA(){return hA++}function pA(t){VI.set(t[yc],t)}function Qd(t){VI.delete(t[yc])}var t_="__ngContext__";function Tr(t,e){jn(e)?(t[t_]=e[yc],pA(e)):t[t_]=e}function jI(t){return BI(t[Us])}function UI(t){return BI(t[xt])}function BI(t){for(;t!==null&&!fn(t);)t=t[xt];return t}var Yd;function Vq(t){Yd=t}function mA(){if(Yd!==void 0)return Yd;if(typeof document<"u")return document;throw new se(210,!1)}var jq=new L("",{providedIn:"root",factory:()=>gA}),gA="ng",yA=new L(""),Hh=new L("",{providedIn:"platform",factory:()=>"unknown"});var Uq=new L("",{providedIn:"root",factory:()=>mA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vA="h",_A="b";var IA=()=>null;function qh(t,e,n=!1){return IA(t,e,n)}var $I=!1,EA=new L("",{providedIn:"root",factory:()=>$I});var Jd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${g0})`}};function HI(t){return t instanceof Jd?t.changingThisBreaksApplicationSecurity:t}function Bq(t){return t.ownerDocument.defaultView}function qI(t){return t instanceof Function?t():t}var nc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(nc||{}),wA;function zh(t,e){return wA(t,e)}function ci(t,e,n,r,i){if(r!=null){let s,o=!1;fn(r)?s=r:jn(r)&&(o=!0,r=r[hn]);let c=Ht(r);t===0&&n!==null?i==null?QI(e,n,c):rc(e,n,c,i||null,!0):t===1&&n!==null?rc(e,n,c,i||null,!0):t===2?OA(e,c,o):t===3&&e.destroyNode(c),s!=null&&LA(e,t,s,n,i)}}function TA(t,e){return t.createText(e)}function DA(t,e,n){t.setValue(e,n)}function zI(t,e,n){return t.createElement(e,n)}function bA(t,e){GI(t,e),e[hn]=null,e[dt]=null}function CA(t,e,n,r,i,s){r[hn]=i,r[dt]=e,bc(t,r,n,1,i,s)}function GI(t,e){e[dn].changeDetectionScheduler?.notify(9),bc(t,e,e[Le],2,null,null)}function SA(t){let e=t[Us];if(!e)return wd(t[Z],t);for(;e;){let n=null;if(jn(e))n=e[Us];else{let r=e[ot];r&&(n=r)}if(!n){for(;e&&!e[xt]&&e!==t;)jn(e)&&wd(e[Z],e),e=e[at];e===null&&(e=t),jn(e)&&wd(e[Z],e),n=e&&e[xt]}e=n}}function AA(t,e,n,r){let i=ot+r,s=n.length;r>0&&(n[i-1][xt]=e),r<s-ot?(e[xt]=n[i],N_(n,ot+r,e)):(n.push(e),e[xt]=null),e[at]=n;let o=e[gi];o!==null&&n!==o&&WI(o,e);let c=e[yi];c!==null&&c.insertView(t),jd(e),e[W]|=128}function WI(t,e){let n=t[Ka],r=e[at];if(jn(r))t[W]|=Qa.HasTransplantedViews;else{let i=r[at][pt];e[pt]!==i&&(t[W]|=Qa.HasTransplantedViews)}n===null?t[Ka]=[e]:n.push(e)}function Gh(t,e){let n=t[Ka],r=n.indexOf(e);n.splice(r,1)}function Bs(t,e){if(t.length<=ot)return;let n=ot+e,r=t[n];if(r){let i=r[gi];i!==null&&i!==t&&Gh(i,r),e>0&&(t[n-1][xt]=r[xt]);let s=qa(t,ot+e);bA(r[Z],r);let o=s[yi];o!==null&&o.detachView(s[Z]),r[at]=null,r[xt]=null,r[W]&=-129}return r}function Dc(t,e){if(!(e[W]&256)){let n=e[Le];n.destroyNode&&bc(t,e,n,3,null,null),SA(e)}}function wd(t,e){if(e[W]&256)return;let n=te(null);try{e[W]&=-129,e[W]|=256,e[It]&&zl(e[It]),NA(t,e),RA(t,e),e[Z].type===1&&e[Le].destroy();let r=e[gi];if(r!==null&&fn(e[at])){r!==e[at]&&Gh(r,e);let i=e[yi];i!==null&&i.detachView(t)}Qd(e)}finally{te(n)}}function RA(t,e){let n=t.cleanup,r=e[Ga];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Ga]=null);let i=e[Vn];if(i!==null){e[Vn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function NA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof wr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Ut(4,c,u);try{u.call(c)}finally{Ut(5,c,u)}}else{Ut(4,i,s);try{s.call(i)}finally{Ut(5,i,s)}}}}}function KI(t,e,n){return xA(t,e.parent,n)}function xA(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[hn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Ls.None||s===Ls.Emulated)return null}return Mt(r,n)}}function rc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function QI(t,e,n){t.appendChild(e,n)}function n_(t,e,n,r,i){r!==null?rc(t,e,n,r,i):QI(t,e,n)}function YI(t,e){return t.parentNode(e)}function MA(t,e){return t.nextSibling(e)}function JI(t,e,n){return kA(t,e,n)}function PA(t,e,n){return t.type&40?Mt(t,n):null}var kA=PA,r_;function Wh(t,e,n,r){let i=KI(t,r,e),s=e[Le],o=r.parent||e[dt],c=JI(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)n_(s,i,n[u],c,!1);else n_(s,i,n,c,!1);r_!==void 0&&r_(s,r,e,n,i)}function Ps(t,e){if(e!==null){let n=e.type;if(n&3)return Mt(e,t);if(n&4)return Zd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ps(t,r);{let i=t[e.index];return fn(i)?Zd(-1,i):Ht(i)}}else{if(n&128)return Ps(t,e.next);if(n&32)return zh(e,t)()||Ht(t[e.index]);{let r=ZI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ir(t[pt]);return Ps(i,r)}else return Ps(t,e.next)}}}return null}function ZI(t,e){if(e!==null){let r=t[pt][dt],i=e.projection;return r.projection[i]}return null}function Zd(t,e){let n=ot+t+1;if(n<e.length){let r=e[n],i=r[Z].firstChild;if(i!==null)return Ps(r,i)}return e[_r]}function OA(t,e,n){t.removeChild(null,e,n)}function Kh(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(o&&e===0&&(c&&Tr(Ht(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Kh(t,e,n.child,r,i,s,!1),ci(e,t,i,c,s);else if(u&32){let l=zh(n,r),h;for(;h=l();)ci(e,t,i,h,s);ci(e,t,i,c,s)}else u&16?XI(t,e,r,n,i,s):ci(e,t,i,c,s);n=o?n.projectionNext:n.next}}function bc(t,e,n,r,i,s){Kh(n,r,t.firstChild,e,i,s,!1)}function FA(t,e,n){let r=e[Le],i=KI(t,n,e),s=n.parent||e[dt],o=JI(s,n,e);XI(r,0,e,n,i,o)}function XI(t,e,n,r,i,s){let o=n[pt],u=o[dt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ci(e,t,i,h,s)}else{let l=u,h=o[at];LI(r)&&(l.flags|=128),Kh(t,e,l,h,i,s,!0)}}function LA(t,e,n,r,i){let s=n[_r],o=Ht(n);s!==o&&ci(e,t,r,s,i);for(let c=ot;c<n.length;c++){let u=n[c];bc(u[Z],u,t,e,r,s)}}function VA(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:nc.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=nc.Important),t.setStyle(n,r,i,s))}}function jA(t,e,n){t.setAttribute(e,"style",n)}function eE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function tE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Pd(t,e,r),i!==null&&eE(t,e,i),s!==null&&jA(t,e,s)}var pn={};function $q(t=1){nE(ht(),de(),Sr()+t,!1)}function nE(t,e,n,r){if(!r)if((e[W]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Va(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ja(e,s,0,n)}Er(n)}function Pt(t,e=ne.Default){let n=de();if(n===null)return me(t,e);let r=Et();return RI(r,n,st(t),e)}function rE(t,e,n,r,i,s){let o=te(null);try{let c=null;i&Un.SignalBased&&(c=e[r][Pn]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&Un.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):J_(e,c,r,s)}finally{te(o)}}function UA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Er(~i);else{let s=i,o=n[++r],c=n[++r];kS(o,s);let u=e[s];c(2,u)}}}finally{Er(-1)}}function Cc(t,e,n,r,i,s,o,c,u,l,h){let p=e.blueprint.slice();return p[hn]=i,p[W]=r|4|128|8|64,(l!==null||t&&t[W]&2048)&&(p[W]|=2048),iI(p),p[at]=p[Ai]=t,p[Ze]=n,p[dn]=o||t&&t[dn],p[Le]=c||t&&t[Le],p[mi]=u||t&&t[mi]||null,p[dt]=s,p[yc]=fA(),p[pi]=h,p[K_]=l,p[pt]=e.type==2?t[pt]:p,p}function Ks(t,e,n,r,i){let s=t.data[e];if(s===null)s=BA(t,e,n,r,i),PS()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=RS();s.injectorIndex=o===null?-1:o.injectorIndex}return Gs(s,!0),s}function BA(t,e,n,r,i){let s=lI(),o=dI(),c=o?s:s&&s.parent,u=t.data[e]=GA(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function iE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function sE(t,e,n,r,i){let s=Sr(),o=r&2;try{Er(-1),o&&e.length>He&&nE(t,e,He,!1),Ut(o?2:0,i),n(r,i)}finally{Er(s),Ut(o?3:1,i)}}function oE(t,e,n){if(Y_(e)){let r=te(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{te(r)}}}function aE(t,e,n){cI()&&(ZA(t,e,n,Mt(n,e)),(n.flags&64)===64&&fE(t,e,n))}function cE(t,e,n=Mt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function uE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Qh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Qh(t,e,n,r,i,s,o,c,u,l,h){let p=He+r,g=p+i,v=$A(p,g),C=typeof l=="function"?l():l;return v[Z]={type:t,blueprint:v,template:n,queries:null,viewQuery:c,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function $A(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:pn);return n}function HA(t,e,n,r){let s=r.get(EA,$I)||n===Ls.ShadowDom,o=t.selectRootElement(e,s);return qA(o),o}function qA(t){zA(t)}var zA=()=>null;function GA(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return uI()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function i_(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=Un.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?s_(r,n,l,c,u):s_(r,n,l,c)}return r}function s_(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function WA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],g=n?n.get(p):null,v=g?g.inputs:null,C=g?g.outputs:null;u=i_(0,p.inputs,h,u,v),l=i_(1,p.outputs,h,l,C);let R=u!==null&&o!==null&&!Dh(e)?aR(u,h,o):null;c.push(R)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function KA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function lE(t,e,n,r,i,s,o,c){let u=Mt(e,n),l=e.inputs,h;!c&&l!=null&&(h=l[r])?(Yh(t,n,h,r,i),vc(e)&&QA(n,e.index)):e.type&3?(r=KA(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function QA(t,e){let n=zn(e,t);n[W]&16||(n[W]|=64)}function dE(t,e,n,r){if(cI()){let i=r===null?null:{"":-1},s=eR(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&hE(t,e,n,o,i,c),i&&tR(n,r,i)}n.mergedAttrs=Vs(n.mergedAttrs,n.attrs)}function hE(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Hd(Xa(n,e),t,r[l].type);rR(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,c=!1,u=iE(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Vs(n.mergedAttrs,h.hostAttrs),iR(t,n,e,u,h),nR(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}WA(t,n,s)}function YA(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;JA(o)!=c&&o.push(c),o.push(n,r,s)}}function JA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ZA(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;vc(n)&&sR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Xa(n,e),Tr(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],l=_i(e,t,c,n);if(Tr(l,e),o!==null&&oR(e,c-i,l,u,n,o),$n(u)){let h=zn(n.index,e);h[Ze]=_i(e,t,c,n)}}}function fE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=OS();try{Er(s);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];Ud(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&XA(u,l)}}finally{Er(-1),Ud(o)}}function XA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function eR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(O_(e,o.selectors,!1))if(r||(r=[]),$n(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;Xd(t,e,u)}else r.unshift(o),Xd(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Xd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function tR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new se(-301,!1);r.push(e[i],s)}}}function nR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;$n(e)&&(n[""]=t)}}function rR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function iR(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=yr(i.type,!0)),o=new wr(s,$n(i),Pt);t.blueprint[r]=o,n[r]=o,YA(t,e,r,iE(t,n,i.hostVars,pn),i)}function sR(t,e,n){let r=Mt(e,t),i=uE(n),s=t[dn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=Sc(t,Cc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function oR(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],h=o[c++],p=o[c++];rE(r,n,u,l,h,p)}}function aR(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function pE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function mE(t,e){let n=t.contentQueries;if(n!==null){let r=te(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];pI(s),c.contentQueries(2,e[o],o)}}}finally{te(r)}}}function Sc(t,e){return t[Us]?t[zv][xt]=e:t[Us]=e,t[zv]=e,e}function eh(t,e,n){pI(0);let r=te(null);try{e(t,n)}finally{te(r)}}function cR(t){return t[Ga]??=[]}function uR(t){return t.cleanup??=[]}function gE(t,e){let n=t[mi],r=n?n.get(Ii,null):null;r&&r.handleError(e)}function Yh(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],l=e[o],h=t.data[o];rE(h,l,r,c,u,i)}}function lR(t,e,n){let r=rI(e,t);DA(t[Le],r,n)}function dR(t,e){let n=zn(e,t),r=n[Z];hR(r,n);let i=n[hn];i!==null&&n[pi]===null&&(n[pi]=qh(i,n[mi])),Jh(r,n,n[Ze])}function hR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Jh(t,e,n){kh(e);try{let r=t.viewQuery;r!==null&&eh(1,r,n);let i=t.template;i!==null&&sE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[yi]?.finishViewCreation(t),t.staticContentQueries&&mE(t,e),t.staticViewQueries&&eh(2,t.viewQuery,n);let s=t.components;s!==null&&fR(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[W]&=-5,Oh()}}function fR(t,e){for(let n=0;n<e.length;n++)dR(t,e[n])}function Ac(t,e,n,r){let i=te(null);try{let s=e.tView,c=t[W]&4096?4096:16,u=Cc(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[gi]=l;let h=t[yi];return h!==null&&(u[yi]=h.createEmbeddedView(s)),Jh(s,u,n),u}finally{te(i)}}function yE(t,e){let n=ot+e;if(n<t.length)return t[n]}function Ei(t,e){return!e||e.firstChild===null||LI(t)}function Qs(t,e,n,r=!0){let i=e[Z];if(AA(i,e,t,n),r){let o=Zd(n,t),c=e[Le],u=YI(c,t[_r]);u!==null&&CA(i,t[dt],c,e,u,o)}let s=e[pi];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function vE(t,e){let n=Bs(t,e);return n!==void 0&&Dc(n[Z],n),n}function ic(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Ht(s)),fn(s)&&pR(s,r);let o=n.type;if(o&8)ic(t,e,n.child,r);else if(o&32){let c=zh(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=ZI(e,n);if(Array.isArray(c))r.push(...c);else{let u=Ir(e[pt]);ic(u[Z],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function pR(t,e){for(let n=ot;n<t.length;n++){let r=t[n],i=r[Z].firstChild;i!==null&&ic(r[Z],r,i,e)}t[_r]!==t[hn]&&e.push(t[_r])}var _E=[];function mR(t){return t[It]??gR(t)}function gR(t){let e=_E.pop()??Object.create(vR);return e.lView=t,e}function yR(t){t.lView[It]!==t&&(t.lView=null,_E.push(t))}var vR=it(Se({},Ss),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ic(t.lView)},consumerOnSignalRead(){this.lView[It]=this}});function _R(t){let e=t[It]??Object.create(IR);return e.lView=t,e}var IR=it(Se({},Ss),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Ir(t.lView);for(;e&&!IE(e[Z]);)e=Ir(e);e&&sI(e)},consumerOnSignalRead(){this.lView[It]=this}});function IE(t){return t.type!==2}var ER=100;function EE(t,e=!0,n=0){let r=t[dn],i=r.rendererFactory,s=!1;s||i.begin?.();try{wR(t,n)}catch(o){throw e&&gE(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function wR(t,e){let n=fI();try{Wv(!0),th(t,e);let r=0;for(;_c(t);){if(r===ER)throw new se(103,!1);r++,th(t,1)}}finally{Wv(n)}}function TR(t,e,n,r){let i=e[W];if((i&256)===256)return;let s=!1,o=!1;!s&&e[dn].inlineEffectRunner?.flush(),kh(e);let c=!0,u=null,l=null;s||(IE(t)?(l=mR(e),u=ia(l)):Gy()===null?(c=!1,l=_R(e),u=ia(l)):e[It]&&(zl(e[It]),e[It]=null));try{iI(e),xS(t.bindingStartIndex),n!==null&&sE(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let v=t.preOrderCheckHooks;v!==null&&Va(e,v,null)}else{let v=t.preOrderHooks;v!==null&&ja(e,v,0,null),vd(e,0)}if(o||DR(e),wE(e,0),t.contentQueries!==null&&mE(t,e),!s)if(h){let v=t.contentCheckHooks;v!==null&&Va(e,v)}else{let v=t.contentHooks;v!==null&&ja(e,v,1),vd(e,1)}UA(t,e);let p=t.components;p!==null&&DE(e,p,0);let g=t.viewQuery;if(g!==null&&eh(2,g,r),!s)if(h){let v=t.viewCheckHooks;v!==null&&Va(e,v)}else{let v=t.viewHooks;v!==null&&ja(e,v,2),vd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[yd]){for(let v of e[yd])v();e[yd]=null}s||(e[W]&=-73)}catch(h){throw s||Ic(e),h}finally{l!==null&&(Hl(l,u),c&&yR(l)),Oh()}}function wE(t,e){for(let n=jI(t);n!==null;n=UI(n))for(let r=ot;r<n.length;r++){let i=n[r];TE(i,e)}}function DR(t){for(let e=jI(t);e!==null;e=UI(e)){if(!(e[W]&Qa.HasTransplantedViews))continue;let n=e[Ka];for(let r=0;r<n.length;r++){let i=n[r];sI(i)}}}function bR(t,e,n){let r=zn(e,t);TE(r,n)}function TE(t,e){Mh(t)&&th(t,e)}function th(t,e){let r=t[Z],i=t[W],s=t[It],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&ql(s)),o||=!1,s&&(s.dirty=!1),t[W]&=-9217,o)TR(r,t,r.template,t[Ze]);else if(i&8192){wE(t,1);let c=r.components;c!==null&&DE(t,c,1)}}function DE(t,e,n){for(let r=0;r<e.length;r++)bR(t,e[r],n)}function Zh(t,e){let n=fI()?64:1088;for(t[dn].changeDetectionScheduler?.notify(e);t;){t[W]|=n;let r=Ir(t);if(Ld(t)&&!r)return t;t=r}return null}var wi=class{get rootNodes(){let e=this._lView,n=e[Z];return ic(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ze]}set context(e){this._lView[Ze]=e}get destroyed(){return(this._lView[W]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[at];if(fn(e)){let n=e[Wa],r=n?n.indexOf(this):-1;r>-1&&(Bs(e,r),qa(n,r))}this._attachedToViewContainer=!1}Dc(this._lView[Z],this._lView)}onDestroy(e){oI(this._lView,e)}markForCheck(){Zh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){jd(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,EE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ld(this._lView),n=this._lView[gi];n!==null&&!e&&Gh(n,this._lView),GI(this._lView[Z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=e;let n=Ld(this._lView),r=this._lView[gi];r!==null&&!n&&WI(r,this._lView),jd(this._lView)}};var Hq=new RegExp(`^(\\d+)*(${_A}|${vA})*(.*)`);var CR=()=>null;function Ti(t,e){return CR(t,e)}var Di=class{},Xh=new L("",{providedIn:"root",factory:()=>!1});var bE=new L(""),CE=new L(""),nh=class{},sc=class{};function SR(t){let e=Error(`No component factory found for ${lt(t)}.`);return e[AR]=t,e}var AR="ngComponent";var rh=class{resolveComponentFactory(e){throw SR(e)}},bi=class{static{this.NULL=new rh}},oc=class{},ef=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>RR()}}return t})();function RR(){let t=de(),e=Et(),n=zn(e.index,t);return(jn(n)?n:t)[Le]}var NR=(()=>{class t{static{this.\u0275prov=ce({token:t,providedIn:"root",factory:()=>null})}}return t})();function ih(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=Ov(i,c);else if(s==2){let u=c,l=e[++o];r=Ov(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ac=class extends bi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=vr(e);return new $s(n,this.ngModule)}};function o_(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:Un.None;e?n.push({propName:o,templateName:r,isSignal:(c&Un.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function xR(t){let e=t.toLowerCase();return e==="svg"?nI:e==="math"?IS:null}var $s=class extends sc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=o_(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return o_(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=X0(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=te(null);try{i=i||this.ngModule;let o=i instanceof Bn?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new Bd(e,o):e,u=c.get(oc,null);if(u===null)throw new se(407,!1);let l=c.get(NR,null),h=c.get(Di,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},g=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",C=r?HA(g,r,this.componentDef.encapsulation,c):zI(g,v,xR(v)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let N=null;C!==null&&(N=qh(C,c,!0));let k=Qh(0,null,null,1,0,null,null,null,null,null,null),O=Cc(null,k,null,R,null,null,p,g,c,null,N);kh(O);let K,ee,we=null;try{let Y=this.componentDef,T,y=null;Y.findHostDirectiveDefs?(T=[],y=new Map,Y.findHostDirectiveDefs(Y,T,y),T.push(Y)):T=[Y];let _=MR(O,C);we=PR(_,C,Y,T,O,p,g),ee=Nh(k,He),C&&FR(g,Y,C,r),n!==void 0&&LR(ee,this.ngContentSelectors,n),K=OR(we,Y,T,y,O,[VR]),Jh(k,O,null)}catch(Y){throw we!==null&&Qd(we),Qd(O),Y}finally{Oh()}return new sh(this.componentType,K,$h(ee,O),O,ee)}finally{te(s)}}},sh=class extends nh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new wi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Yh(s[Z],s,i,e,n),this.previousInputValues.set(e,n);let o=zn(this._tNode.index,s);Zh(o,1)}}get injector(){return new gr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function MR(t,e){let n=t[Z],r=He;return t[r]=e,Ks(n,r,2,"#host",null)}function PR(t,e,n,r,i,s,o){let c=i[Z];kR(r,t,e,o);let u=null;e!==null&&(u=qh(e,i[mi]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Cc(i,uE(n),null,h,i[t.index],t,s,l,null,null,u);return c.firstCreatePass&&Xd(c,t,r.length-1),Sc(i,p),i[t.index]=p}function kR(t,e,n,r){for(let i of t)e.mergedAttrs=Vs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ih(e,e.mergedAttrs,!0),n!==null&&tE(r,n,e))}function OR(t,e,n,r,i,s){let o=Et(),c=i[Z],u=Mt(o,i);hE(c,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,g=_i(i,c,p,o);Tr(g,i)}fE(c,i,o),u&&Tr(u,i);let l=_i(i,c,o.directiveStart+o.componentOffset,o);if(t[Ze]=i[Ze]=l,s!==null)for(let h of s)h(l,e);return oE(c,o,i),l}function FR(t,e,n,r){if(r)Pd(t,n,["ng-version","18.2.13"]);else{let{attrs:i,classes:s}=eS(e.selectors[0]);i&&Pd(t,n,i),s&&s.length>0&&eE(t,n,s.join(" "))}}function LR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function VR(){let t=Et();Vh(de()[Z],t)}var SE=(()=>{class t{static{this.__NG_ELEMENT_ID__=jR}}return t})();function jR(){let t=Et();return BR(t,de())}var UR=SE,AE=class extends UR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return $h(this._hostTNode,this._hostLView)}get injector(){return new gr(this._hostTNode,this._hostLView)}get parentInjector(){let e=jh(this._hostTNode,this._hostLView);if(TI(e)){let n=Ja(e,this._hostLView),r=Ya(e),i=n[Z].data[r+8];return new gr(i,n)}else return new gr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=a_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ot}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Ti(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,Ei(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!gS(e),c;if(o)c=n;else{let C=n||{};c=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}let u=o?e:new $s(vr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let R=(o?l:this.parentInjector).get(Bn,null);R&&(s=R)}let h=vr(u.componentType??{}),p=Ti(this._lContainer,h?.id??null),g=p?.firstChild??null,v=u.create(l,i,g,s);return this.insertImpl(v.hostView,c,Ei(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(ES(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[at],l=new AE(u,u[dt],u[at]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Qs(o,i,s,r),e.attachToViewContainerRef(),N_(Td(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=a_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Bs(this._lContainer,n);r&&(qa(Td(this._lContainer),n),Dc(r[Z],r))}detach(e){let n=this._adjustIndex(e,-1),r=Bs(this._lContainer,n);return r&&qa(Td(this._lContainer),n)!=null?new wi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function a_(t){return t[Wa]}function Td(t){return t[Wa]||(t[Wa]=[])}function BR(t,e){let n,r=e[t.index];return fn(r)?n=r:(n=pE(r,e,null,t),e[t.index]=n,Sc(e,n)),HR(n,e,t,r),new AE(n,t,e)}function $R(t,e){let n=t[Le],r=n.createComment(""),i=Mt(e,t),s=YI(n,i);return rc(n,s,r,MA(n,i),!1),r}var HR=GR,qR=()=>!1;function zR(t,e,n){return qR(t,e,n)}function GR(t,e,n,r){if(t[_r])return;let i;n.type&8?i=Ht(r):i=$R(e,n),t[_r]=i}var c_=new Set;function Ar(t){c_.has(t)||(c_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function tf(t,e){Ar("NgSignals");let n=rv(t),r=n[Pn];return e?.equal&&(r.equal=e.equal),n.set=i=>Gl(r,i),n.update=i=>iv(r,i),n.asReadonly=WR.bind(n),n}function WR(){let t=this[Pn];if(t.readonlyFn===void 0){let e=()=>this();e[Pn]=t,t.readonlyFn=e}return t.readonlyFn}function KR(t){return Object.getPrototypeOf(t.prototype).constructor}function QR(t){let e=KR(t.type),n=!0,r=[t];for(;e;){let i;if($n(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new se(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=ka(t.inputs),o.inputTransforms=ka(t.inputTransforms),o.declaredInputs=ka(t.declaredInputs),o.outputs=ka(t.outputs);let c=i.hostBindings;c&&eN(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&ZR(t,u),l&&XR(t,l),YR(t,i),v0(t.outputs,i.outputs),$n(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===QR&&(n=!1)}}e=Object.getPrototypeOf(e)}JR(r)}function YR(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function JR(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Vs(i.hostAttrs,n=Vs(n,i.hostAttrs))}}function ka(t){return t===di?{}:t===_t?[]:t}function ZR(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function XR(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function eN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var Hn=class{},oh=class{};var ah=class extends Hn{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ac(this);let s=V_(e);this._bootstrapComponents=qI(s.bootstrap),this._r3Injector=PI(e,n,[{provide:Hn,useValue:this},{provide:bi,useValue:this.componentFactoryResolver},...r],lt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ch=class extends oh{constructor(e){super(),this.moduleType=e}create(e){return new ah(this.moduleType,e,[])}};var cc=class extends Hn{constructor(e){super(),this.componentFactoryResolver=new ac(this),this.instance=null;let n=new js([...e.providers,{provide:Hn,useValue:this},{provide:bi,useValue:this.componentFactoryResolver}],e.parent||Ah(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function tN(t,e,n=null){return new cc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function RE(t,e,n){return t[e]=n}function qn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function nN(t,e,n,r){let i=qn(t,e,n);return qn(t,e+1,r)||i}function rN(t){return(t.flags&32)===32}function iN(t,e,n,r,i,s,o,c,u){let l=e.consts,h=Ks(e,t,4,o||null,c||null);dE(e,n,h,vi(l,u)),Vh(e,h);let p=h.tView=Qh(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function uc(t,e,n,r,i,s,o,c,u,l){let h=n+He,p=e.firstCreatePass?iN(h,e,t,r,i,s,o,c,u):e.data[h];Gs(p,!1);let g=oN(e,t,p,n);Fh()&&Wh(e,t,g,p),Tr(g,t);let v=pE(g,t,g,p);return t[h]=v,Sc(t,v),zR(v,p,t),Rh(p)&&aE(e,t,p),u!=null&&cE(t,p,l),p}function sN(t,e,n,r,i,s,o,c){let u=de(),l=ht(),h=vi(l.consts,s);return uc(u,l,t,e,n,r,i,h,o,c),sN}var oN=aN;function aN(t,e,n,r){return Lh(!0),e[Le].createComment("")}var ks=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ks||{}),cN=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=ce({token:t,providedIn:"root",factory:()=>new t})}}return t})(),u_=class t{constructor(){this.ngZone=$(De),this.scheduler=$(Di),this.errorHandler=$(Ii,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ks.EarlyRead,ks.Write,ks.MixedReadWrite,ks.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=ce({token:t,providedIn:"root",factory:()=>new t})}};function NE(t,e,n,r){return qn(t,Ec(),n)?e+b_(n)+r:pn}function Oa(t,e){return t<<17|e<<2}function Dr(t){return t>>17&32767}function uN(t){return(t&2)==2}function lN(t,e){return t&131071|e<<17}function uh(t){return t|2}function Ci(t){return(t&131068)>>2}function Dd(t,e){return t&-131069|e<<2}function dN(t){return(t&1)===1}function lh(t){return t|1}function hN(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=Dr(o),u=Ci(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||zs(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=Dr(t[c+1]);t[r+1]=Oa(g,c),g!==0&&(t[g+1]=Dd(t[g+1],r)),t[c+1]=lN(t[c+1],r)}else t[r+1]=Oa(c,0),c!==0&&(t[c+1]=Dd(t[c+1],r)),c=r;else t[r+1]=Oa(u,0),c===0?c=r:t[u+1]=Dd(t[u+1],r),u=r;l&&(t[r+1]=uh(t[r+1])),l_(t,h,r,!0),l_(t,h,r,!1),fN(e,h,t,r,s),o=Oa(c,u),s?e.classBindings=o:e.styleBindings=o}function fN(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&zs(s,e)>=0&&(n[r+1]=lh(n[r+1]))}function l_(t,e,n,r){let i=t[n+1],s=e===null,o=r?Dr(i):Ci(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],l=t[o+1];pN(u,e)&&(c=!0,t[o+1]=r?lh(l):uh(l)),o=r?Dr(l):Ci(l)}c&&(t[n+1]=r?uh(i):lh(i))}function pN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?zs(t,e)>=0:!1}function mN(t,e,n){let r=de(),i=Ec();if(qn(r,i,e)){let s=ht(),o=II();lE(s,o,r,t,e,r[Le],n,!1)}return mN}function d_(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Yh(t,n,s[o],o,r)}function gN(t,e){return yN(t,e,null,!0),gN}function yN(t,e,n,r){let i=de(),s=ht(),o=MS(2);if(s.firstUpdatePass&&_N(s,t,o,r),e!==pn&&qn(i,o,e)){let c=s.data[Sr()];DN(s,c,i,i[Le],t,i[o+1]=bN(e,n),r,o)}}function vN(t,e){return e>=t.expandoStartIndex}function _N(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Sr()],o=vN(t,n);CN(s,r)&&e===null&&!o&&(e=!1),e=IN(i,s,e,r),hN(i,s,e,n,o,r)}}function IN(t,e,n,r){let i=FS(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=bd(null,t,e,n,r),n=Hs(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=bd(i,t,e,n,r),s===null){let u=EN(t,e,r);u!==void 0&&Array.isArray(u)&&(u=bd(null,t,e,u[1],r),u=Hs(u,e.attrs,r),wN(t,e,r,u))}else s=TN(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function EN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ci(r)!==0)return t[Dr(r)]}function wN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Dr(i)]=r}function TN(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Hs(r,o,n)}return Hs(r,e.attrs,n)}function bd(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=Hs(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Hs(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),j0(t,o,n?!0:e[++s]))}return t===void 0?null:t}function DN(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],h=dN(l)?h_(u,e,n,i,Ci(l),o):void 0;if(!lc(h)){lc(s)||uN(l)&&(s=h_(u,null,n,i,c,o));let p=rI(Sr(),n);VA(r,o,p,i,s)}}function h_(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===pn&&(g=p?_t:void 0);let v=p?md(g,r):h===r?g:void 0;if(l&&!lc(v)&&(v=md(u,r)),lc(v)&&(c=v,o))return c;let C=t[i+1];i=o?Dr(C):Ci(C)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=md(u,r))}return c}function lc(t){return t!==void 0}function bN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=lt(HI(t)))),t}function CN(t,e){return(t.flags&(e?8:16))!==0}var dh=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Cd(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function SN(t,e,n){let r,i,s=0,o=t.length-1,c=void 0;if(Array.isArray(e)){let u=e.length-1;for(;s<=o&&s<=u;){let l=t.at(s),h=e[s],p=Cd(s,l,s,h,n);if(p!==0){p<0&&t.updateValue(s,h),s++;continue}let g=t.at(o),v=e[u],C=Cd(o,g,u,v,n);if(C!==0){C<0&&t.updateValue(o,v),o--,u--;continue}let R=n(s,l),N=n(o,g),k=n(s,h);if(Object.is(k,N)){let O=n(u,v);Object.is(O,R)?(t.swap(s,o),t.updateValue(o,v),u--,o--):t.move(o,s),t.updateValue(s,h),s++;continue}if(r??=new dc,i??=p_(t,s,o,n),hh(t,r,s,k))t.updateValue(s,h),s++,o++;else if(i.has(k))r.set(R,t.detach(s)),o--;else{let O=t.create(s,e[s]);t.attach(s,O),s++,o++}}for(;s<=u;)f_(t,r,n,s,e[s]),s++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&s<=o;){let h=t.at(s),p=l.value,g=Cd(s,h,s,p,n);if(g!==0)g<0&&t.updateValue(s,p),s++,l=u.next();else{r??=new dc,i??=p_(t,s,o,n);let v=n(s,p);if(hh(t,r,s,v))t.updateValue(s,p),s++,o++,l=u.next();else if(!i.has(v))t.attach(s,t.create(s,p)),s++,o++,l=u.next();else{let C=n(s,h);r.set(C,t.detach(s)),o--}}}for(;!l.done;)f_(t,r,n,t.length,l.value),l=u.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(u=>{t.destroy(u)})}function hh(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function f_(t,e,n,r,i){if(hh(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function p_(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var dc=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function zq(t,e){Ar("NgControlFlow");let n=de(),r=Ec(),i=n[r]!==pn?n[r]:-1,s=i!==-1?hc(n,He+i):void 0,o=0;if(qn(n,r,t)){let c=te(null);try{if(s!==void 0&&vE(s,o),t!==-1){let u=He+t,l=hc(n,u),h=gh(n[Z],u),p=Ti(l,h.tView.ssrId),g=Ac(n,h,e,{dehydratedView:p});Qs(l,g,o,Ei(h,p))}}finally{te(c)}}else if(s!==void 0){let c=yE(s,o);c!==void 0&&(c[Ze]=e)}}var fh=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ot}};function Gq(t){return t}var ph=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Wq(t,e,n,r,i,s,o,c,u,l,h,p,g){Ar("NgControlFlow");let v=de(),C=ht(),R=u!==void 0,N=de(),k=c?o.bind(N[pt][Ze]):o,O=new ph(R,k);N[He+t]=O,uc(v,C,t+1,e,n,r,i,vi(C.consts,s)),R&&uc(v,C,t+2,u,l,h,p,vi(C.consts,g))}var mh=class extends dh{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ot}at(e){return this.getLView(e)[Ze].$implicit}attach(e,n){let r=n[pi];this.needsIndexUpdate||=e!==this.length,Qs(this.lContainer,n,e,Ei(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,AN(this.lContainer,e)}create(e,n){let r=Ti(this.lContainer,this.templateTNode.tView.ssrId),i=Ac(this.hostLView,this.templateTNode,new fh(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Dc(e[Z],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Ze].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ze].$index=e}getLView(e){return RN(this.lContainer,e)}};function Kq(t){let e=te(null),n=Sr();try{let r=de(),i=r[Z],s=r[n],o=n+1,c=hc(r,o);if(s.liveCollection===void 0){let l=gh(i,o);s.liveCollection=new mh(c,r,l)}else s.liveCollection.reset();let u=s.liveCollection;if(SN(u,t,s.trackByFn),u.updateIndexes(),s.hasEmptyBlock){let l=Ec(),h=u.length===0;if(qn(r,l,h)){let p=n+2,g=hc(r,p);if(h){let v=gh(i,p),C=Ti(g,v.tView.ssrId),R=Ac(r,v,void 0,{dehydratedView:C});Qs(g,R,0,Ei(v,C))}else vE(g,0)}}}finally{te(e)}}function hc(t,e){return t[e]}function AN(t,e){return Bs(t,e)}function RN(t,e){return yE(t,e)}function gh(t,e){return Nh(t,e)}function NN(t,e,n,r,i,s){let o=e.consts,c=vi(o,i),u=Ks(e,t,2,r,c);return dE(e,n,u,vi(o,s)),u.attrs!==null&&ih(u,u.attrs,!1),u.mergedAttrs!==null&&ih(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function xE(t,e,n,r){let i=de(),s=ht(),o=He+t,c=i[Le],u=s.firstCreatePass?NN(o,s,i,e,n,r):s.data[o],l=MN(s,i,u,c,e,t);i[o]=l;let h=Rh(u);return Gs(u,!0),tE(c,l,u),!rN(u)&&Fh()&&Wh(s,i,l,u),DS()===0&&Tr(l,i),bS(),h&&(aE(s,i,u),oE(s,u,i)),r!==null&&cE(i,u),xE}function ME(){let t=Et();dI()?hI():(t=t.parent,Gs(t,!1));let e=t;SS(e)&&AS(),CS();let n=ht();return n.firstCreatePass&&(Vh(n,t),Y_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&qS(e)&&d_(n,e,de(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&zS(e)&&d_(n,e,de(),e.stylesWithoutHost,!1),ME}function xN(t,e,n,r){return xE(t,e,n,r),ME(),xN}var MN=(t,e,n,r,i,s)=>(Lh(!0),zI(r,i,US()));function Qq(){return de()}var mr=void 0;function PN(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var kN=["en",[["a","p"],["AM","PM"],mr],[["AM","PM"],mr,mr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mr,"{1} 'at' {0}",mr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",PN],Sd={};function wt(t){let e=ON(t),n=m_(e);if(n)return n;let r=e.split("-")[0];if(n=m_(r),n)return n;if(r==="en")return kN;throw new se(701,!1)}function m_(t){return t in Sd||(Sd[t]=Pa.ng&&Pa.ng.common&&Pa.ng.common.locales&&Pa.ng.common.locales[t]),Sd[t]}var Ae=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ae||{});function ON(t){return t.toLowerCase().replace(/_/g,"-")}var fc="en-US";var FN=fc;function LN(t){typeof t=="string"&&(FN=t.toLowerCase().replace(/_/g,"-"))}var VN=(t,e,n)=>{};function jN(t,e,n,r){let i=de(),s=ht(),o=Et();return BN(s,i,i[Le],o,t,e,r),jN}function UN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[Ga],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function BN(t,e,n,r,i,s,o){let c=Rh(r),l=t.firstCreatePass&&uR(t),h=e[Ze],p=cR(e),g=!0;if(r.type&3||o){let R=Mt(r,e),N=o?o(R):R,k=p.length,O=o?ee=>o(Ht(ee[r.index])):r.index,K=null;if(!o&&c&&(K=UN(t,e,i,r.index)),K!==null){let ee=K.__ngLastListenerFn__||K;ee.__ngNextListenerFn__=s,K.__ngLastListenerFn__=s,g=!1}else{s=y_(r,e,h,s),VN(R,i,s);let ee=n.listen(N,i,s);p.push(s,ee),l&&l.push(i,O,k,k+1)}}else s=y_(r,e,h,s);let v=r.outputs,C;if(g&&v!==null&&(C=v[i])){let R=C.length;if(R)for(let N=0;N<R;N+=2){let k=C[N],O=C[N+1],we=e[k][O].subscribe(s),Y=p.length;p.push(s,we),l&&l.push(i,r.index,Y,-(Y+1))}}}function g_(t,e,n,r){let i=te(null);try{return Ut(6,e,n),n(r)!==!1}catch(s){return gE(t,s),!1}finally{Ut(7,e,n),te(i)}}function y_(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?zn(t.index,e):e;Zh(o,5);let c=g_(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=g_(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function Yq(t=1){return VS(t)}function $N(t,e){let n=null,r=K0(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?O_(t,s,!0):J0(r,s))return i}return n}function Jq(t){let e=de()[pt][dt];if(!e.projection){let n=t?t.length:1,r=e.projection=L0(n,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=t?$N(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function Zq(t,e=0,n,r,i,s){let o=de(),c=ht(),u=r?t+1:null;u!==null&&uc(o,c,u,r,i,s,null,n);let l=Ks(c,He+t,16,null,n||null);l.projection===null&&(l.projection=e),hI();let p=!o[pi]||uI();o[pt][dt].projection[l.projection]===null&&u!==null?HN(o,c,u):p&&(l.flags&32)!==32&&FA(c,o,l)}function HN(t,e,n){let r=He+n,i=e.data[r],s=t[r],o=Ti(s,i.tView.ssrId),c=Ac(t,i,void 0,{dehydratedView:o});Qs(s,c,0,Ei(i,o))}function qN(t,e,n,r,i){let s=de(),o=NE(s,e,n,r);if(o!==pn){let c=ht(),u=II();lE(c,u,s,t,o,s[Le],i,!1)}return qN}function zN(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Xq(t){let e=NS();return xh(e,He+t)}function ez(t,e=""){let n=de(),r=ht(),i=t+He,s=r.firstCreatePass?Ks(r,i,1,e,null):r.data[i],o=GN(r,n,s,e,t);n[i]=o,Fh()&&Wh(r,n,o,s),Gs(s,!1)}var GN=(t,e,n,r,i)=>(Lh(!0),TA(e[Le],r));function WN(t){return PE("",t,""),WN}function PE(t,e,n){let r=de(),i=NE(r,t,e,n);return i!==pn&&lR(r,Sr(),i),PE}function KN(t,e,n){let r=ht();if(r.firstCreatePass){let i=$n(t);yh(n,r.data,r.blueprint,i,!0),yh(e,r.data,r.blueprint,i,!1)}}function yh(t,e,n,r,i){if(t=st(t),Array.isArray(t))for(let s=0;s<t.length;s++)yh(t[s],e,n,r,i);else{let s=ht(),o=de(),c=Et(),u=fi(t)?t:st(t.provide),l=z_(t),h=c.providerIndexes&1048575,p=c.directiveStart,g=c.providerIndexes>>20;if(fi(t)||!t.multi){let v=new wr(l,i,Pt),C=Rd(u,e,i?h:h+g,p);C===-1?(Hd(Xa(c,o),s,u),Ad(s,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(v),o.push(v)):(n[C]=v,o[C]=v)}else{let v=Rd(u,e,h+g,p),C=Rd(u,e,h,h+g),R=v>=0&&n[v],N=C>=0&&n[C];if(i&&!N||!i&&!R){Hd(Xa(c,o),s,u);let k=JN(i?YN:QN,n.length,i,r,l);!i&&N&&(n[C].providerFactory=k),Ad(s,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(k),o.push(k)}else{let k=kE(n[i?C:v],l,!i&&r);Ad(s,t,v>-1?v:C,k)}!i&&r&&N&&n[C].componentProviders++}}}function Ad(t,e,n,r){let i=fi(e),s=uS(e);if(i||s){let u=(s?st(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function kE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Rd(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function QN(t,e,n,r){return vh(this.multi,[])}function YN(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=_i(n,n[Z],this.providerFactory.index,r);s=c.slice(0,o),vh(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],vh(i,s);return s}function vh(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function JN(t,e,n,r,i){let s=new wr(t,n,Pt);return s.multi=[],s.index=e,s.componentProviders=0,kE(s,i,r&&!n),s}function tz(t,e=[]){return n=>{n.providersResolver=(r,i)=>KN(r,i?i(t):t,e)}}var ZN=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=B_(!1,n.type),i=r.length>0?tN([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ce({token:t,providedIn:"environment",factory:()=>new t(me(Bn))})}}return t})();function nz(t){Ar("NgStandalone"),t.getStandaloneInjector=e=>e.get(ZN).getOrCreateStandaloneInjector(t)}function rz(t,e,n,r){return FE(de(),Ph(),t,e,n,r)}function OE(t,e){let n=t[e];return n===pn?void 0:n}function FE(t,e,n,r,i,s){let o=e+n;return qn(t,o,i)?RE(t,o+1,s?r.call(s,i):r(i)):OE(t,o+1)}function XN(t,e,n,r,i,s,o){let c=e+n;return nN(t,c,i,s)?RE(t,c+2,o?r.call(o,i,s):r(i,s)):OE(t,c+2)}function iz(t,e){let n=ht(),r,i=t+He;n.firstCreatePass?(r=ex(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=yr(r.type,!0)),o,c=ut(Pt);try{let u=Za(!1),l=s();return Za(u),zN(n,de(),i,l),l}finally{ut(c)}}function ex(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function sz(t,e,n){let r=t+He,i=de(),s=xh(i,r);return LE(i,r)?FE(i,Ph(),e,s.transform,n,s):s.transform(n)}function oz(t,e,n,r){let i=t+He,s=de(),o=xh(s,i);return LE(s,i)?XN(s,Ph(),e,o.transform,n,r,o):o.transform(n,r)}function LE(t,e){return t[Z].data[e].pure}var Si=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},VE=new Si("18.2.13");var az=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var tx=new L("");function Rc(t){return!!t&&typeof t.then=="function"}function nf(t){return!!t&&typeof t.subscribe=="function"}var nx=new L(""),jE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=$(nx,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(Rc(s))n.push(s);else if(nf(s)){let o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),rx=new L("");function ix(){nv(()=>{throw new se(600,!1)})}function sx(t){return t.isBoundToModule}var ox=10;function ax(t,e,n){try{let r=n();return Rc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Nc=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$(lA),this.afterRenderManager=$(cN),this.zonelessEnabled=$(Xh),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Fe,this.afterTick=new Fe,this.componentTypes=[],this.components=[],this.isStable=$(wc).hasPendingTasks.pipe(Je(n=>!n)),this._injector=$(Bn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof sc;if(!this._injector.get(jE).done){let g=!i&&rS(n),v=!1;throw new se(405,v)}let o;i?o=n:o=this._injector.get(bi).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let c=sx(o)?void 0:this._injector.get(Hn),u=r||o.selector,l=o.create(qt.NULL,[],u,c),h=l.location.nativeElement,p=l.injector.get(tx,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Ua(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new se(101,!1);let n=te(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,te(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(oc,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<ox;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)cx(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>_c(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ua(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(rx,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ua(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new se(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ua(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function cx(t,e,n,r){if(!n&&!_c(t))return;EE(t,e,n&&!r?0:1)}var _h=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},cz=(()=>{class t{compileModuleSync(n){return new ch(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=V_(n),s=qI(i.declarations).reduce((o,c)=>{let u=vr(c);return u&&o.push(new $s(u)),o},[]);return new _h(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ux=(()=>{class t{constructor(){this.zone=$(De),this.changeDetectionScheduler=$(Di),this.applicationRef=$(Nc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),lx=new L("",{factory:()=>!1});function UE({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new De(it(Se({},BE()),{scheduleInRootZone:n})),[{provide:De,useFactory:t},{provide:hi,multi:!0,useFactory:()=>{let r=$(ux,{optional:!0});return()=>r.initialize()}},{provide:hi,multi:!0,useFactory:()=>{let r=$(dx);return()=>{r.initialize()}}},e===!0?{provide:bE,useValue:!0}:[],{provide:CE,useValue:n??kI}]}function uz(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=UE({ngZoneFactory:()=>{let i=BE(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Ar("NgZone_CoalesceEvent"),new De(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Cr([{provide:lx,useValue:!0},{provide:Xh,useValue:!1},r])}function BE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var dx=(()=>{class t{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=$(De),this.pendingTasks=$(wc)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var hx=(()=>{class t{constructor(){this.appRef=$(Nc),this.taskService=$(wc),this.ngZone=$(De),this.zonelessEnabled=$(Xh),this.disableScheduling=$(bE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ne,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(tc):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&($(CE,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Kd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Zv:OI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(tc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Zv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function fx(){return typeof $localize<"u"&&$localize.locale||fc}var xc=new L("",{providedIn:"root",factory:()=>$(xc,ne.Optional|ne.SkipSelf)||fx()});var Ih=new L("");function Fa(t){return!t.moduleRef}function px(t){let e=Fa(t)?t.r3Injector:t.moduleRef.injector,n=e.get(De);return n.run(()=>{Fa(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Ii,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Fa(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Ih);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Ih);o.add(s),t.moduleRef.onDestroy(()=>{Ua(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return ax(r,n,()=>{let s=e.get(jE);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(xc,fc);if(LN(o||fc),Fa(t)){let c=e.get(Nc);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return mx(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function mx(t,e){let n=t.injector.get(Nc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new se(-403,!1);e.push(t)}var Ba=null;function gx(t=[],e){return qt.create({name:e,providers:[{provide:q_,useValue:"platform"},{provide:Ih,useValue:new Set([()=>Ba=null])},...t]})}function yx(t=[]){if(Ba)return Ba;let e=gx(t);return Ba=e,ix(),vx(e),e}function vx(t){t.get(yA,null)?.forEach(n=>n())}function rf(){return!1}var sf=(()=>{class t{static{this.__NG_ELEMENT_ID__=_x}}return t})();function _x(t){return Ix(Et(),de(),(t&16)===16)}function Ix(t,e,n){if(vc(t)&&!n){let r=zn(t.index,e);return new wi(r,r)}else if(t.type&175){let r=e[pt];return new wi(r,e)}return null}function lz(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=yx(r),s=[UE({}),{provide:Di,useExisting:hx},...n||[]],o=new cc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return px({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Mc(t,e){Ar("NgSignals");let n=Xy(t);return e?.equal&&(n[Pn].equal=e.equal),n}function Pc(t){let e=te(null);try{return t()}finally{te(e)}}function of(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&W_(of);let r=n?e?.injector?.get(Ws)??$(Ws):null,i=Ex(e?.equal),s;e?.requireSync?s=tf({kind:0},{equal:i}):s=tf({kind:1,value:e?.initialValue},{equal:i});let o=t.subscribe({next:c=>s.set({kind:1,value:c}),error:c=>{if(e?.rejectErrors)throw c;s.set({kind:2,error:c})}});if(e?.requireSync&&s().kind===0)throw new se(601,!1);return r?.onDestroy(o.unsubscribe.bind(o)),Mc(()=>{let c=s();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new se(601,!1)}},{equal:e?.equal})}function Ex(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}var uf={};function Re(t,e){if(uf[t]=(uf[t]||0)+1,typeof e=="function")return af(t,(...r)=>it(Se({},e(...r)),{type:t}));switch(e?e._as:"empty"){case"empty":return af(t,()=>({type:t}));case"props":return af(t,r=>it(Se({},r),{type:t}));default:throw new Error("Unexpected config.")}}function Tt(){return{_as:"props",_p:void 0}}function af(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}var tw="@ngrx/store/init",Ni=(()=>{class t extends un{constructor(){super({type:tw})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac})}}return t})(),wx=[Ni],nw=new L("@ngrx/store Internal Root Guard"),$E=new L("@ngrx/store Internal Initial State"),pf=new L("@ngrx/store Initial State"),rw=new L("@ngrx/store Reducer Factory"),HE=new L("@ngrx/store Internal Reducer Factory Provider"),iw=new L("@ngrx/store Initial Reducers"),cf=new L("@ngrx/store Internal Initial Reducers"),Dz=new L("@ngrx/store Store Features"),qE=new L("@ngrx/store Internal Store Reducers"),bz=new L("@ngrx/store Internal Feature Reducers"),Cz=new L("@ngrx/store Internal Feature Configs"),Sz=new L("@ngrx/store Internal Store Features"),Az=new L("@ngrx/store Internal Feature Reducers Token"),Rz=new L("@ngrx/store Feature Reducers"),zE=new L("@ngrx/store User Provided Meta Reducers"),kc=new L("@ngrx/store Meta Reducers"),GE=new L("@ngrx/store Internal Resolved Meta Reducers"),WE=new L("@ngrx/store User Runtime Checks Config"),KE=new L("@ngrx/store Internal User Runtime Checks Config"),Ys=new L("@ngrx/store Internal Runtime Checks"),sw=new L("@ngrx/store Check if Action types are unique"),QE=new L("@ngrx/store Root Store Provider"),Nz=new L("@ngrx/store Feature State Provider");function Tx(t,e={}){let n=Object.keys(t),r={};for(let s=0;s<n.length;s++){let o=n[s];typeof t[o]=="function"&&(r[o]=t[o])}let i=Object.keys(r);return function(o,c){o=o===void 0?e:o;let u=!1,l={};for(let h=0;h<i.length;h++){let p=i[h],g=r[p],v=o[p],C=g(v,c);l[p]=C,u=u||C!==v}return u?l:o}}function Dx(t,e){return Object.keys(t).filter(n=>n!==e).reduce((n,r)=>Object.assign(n,{[r]:t[r]}),{})}function ow(...t){return function(e){if(t.length===0)return e;let n=t[t.length-1];return t.slice(0,-1).reduceRight((i,s)=>s(i),n(e))}}function aw(t,e){return Array.isArray(e)&&e.length>0&&(t=ow.apply(null,[...e,t])),(n,r)=>{let i=t(n);return(s,o)=>(s=s===void 0?r:s,i(s,o))}}function bx(t){let e=Array.isArray(t)&&t.length>0?ow(...t):n=>n;return(n,r)=>(n=e(n),(i,s)=>(i=i===void 0?r:i,n(i,s)))}var Js=class extends G{},Oc=class extends Ni{},Cx="@ngrx/store/update-reducers",lf=(()=>{class t extends un{get currentReducers(){return this.reducers}constructor(n,r,i,s){super(s(i,r)),this.dispatcher=n,this.initialState=r,this.reducers=i,this.reducerFactory=s}addFeature(n){this.addFeatures([n])}addFeatures(n){let r=n.reduce((i,{reducers:s,reducerFactory:o,metaReducers:c,initialState:u,key:l})=>{let h=typeof s=="function"?bx(c)(s,u):aw(o,c)(s,u);return i[l]=h,i},{});this.addReducers(r)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(r=>r.key))}addReducer(n,r){this.addReducers({[n]:r})}addReducers(n){this.reducers=Se(Se({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(r=>{this.reducers=Dx(this.reducers,r)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Cx,features:n})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(r){return new(r||t)(me(Oc),me(pf),me(iw),me(rw))}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac})}}return t})(),Sx=[lf,{provide:Js,useExisting:lf},{provide:Oc,useExisting:Ni}],mf=(()=>{class t extends Fe{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=xI(t)))(i||t)}})()}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac})}}return t})(),Ax=[mf],Fc=class extends G{},YE=(()=>{class t extends un{static{this.INIT=tw}constructor(n,r,i,s){super(s);let c=n.pipe(Vt(xs)).pipe(pd(r)),u={state:s},l=c.pipe(dd(Rx,u));this.stateSubscription=l.subscribe(({state:h,action:p})=>{this.next(h),i.next(p)}),this.state=of(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(r){return new(r||t)(me(Ni),me(Js),me(mf),me(pf))}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac})}}return t})();function Rx(t={state:void 0},[e,n]){let{state:r}=t;return{state:n(r,e),action:e}}var Nx=[YE,{provide:Fc,useExisting:YE}],gf=(()=>{class t extends G{constructor(n,r,i){super(),this.actionsObserver=r,this.reducerManager=i,this.source=n,this.state=n.state}select(n,...r){return Mx.call(null,n,...r)(this)}selectSignal(n,r){return Mc(()=>n(this.state()),r)}lift(n){let r=new t(this,this.actionsObserver,this.reducerManager);return r.operator=n,r}dispatch(n){this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,r){this.reducerManager.addReducer(n,r)}removeReducer(n){this.reducerManager.removeReducer(n)}static{this.\u0275fac=function(r){return new(r||t)(me(Fc),me(Ni),me(lf))}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac})}}return t})(),xx=[gf];function Mx(t,e,...n){return function(i){let s;if(typeof t=="string"){let o=[e,...n].filter(Boolean);s=i.pipe(ld(t,...o))}else if(typeof t=="function")s=i.pipe(Je(o=>t(o,e)));else throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);return s.pipe(cd())}}var yf="https://ngrx.io/guide/store/configuration/runtime-checks";function JE(t){return t===void 0}function ZE(t){return t===null}function cw(t){return Array.isArray(t)}function Px(t){return typeof t=="string"}function kx(t){return typeof t=="boolean"}function Ox(t){return typeof t=="number"}function uw(t){return typeof t=="object"&&t!==null}function Fx(t){return uw(t)&&!cw(t)}function Lx(t){if(!Fx(t))return!1;let e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function df(t){return typeof t=="function"}function Vx(t){return df(t)&&t.hasOwnProperty("\u0275cmp")}function jx(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Ux=!1;function Bx(){return Ux}function XE(t,e){return t===e}function $x(t,e,n){for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!0;return!1}function lw(t,e=XE,n=XE){let r=null,i=null,s;function o(){r=null,i=null}function c(h=void 0){s={result:h}}function u(){s=void 0}function l(){if(s!==void 0)return s.result;if(!r)return i=t.apply(null,arguments),r=arguments,i;if(!$x(arguments,r,e))return i;let h=t.apply(null,arguments);return r=arguments,n(i,h)?i:(i=h,h)}return{memoized:l,reset:o,setResult:c,clearResult:u}}function Zs(...t){return qx(lw)(...t)}function Hx(t,e,n,r){if(n===void 0){let s=e.map(o=>o(t));return r.memoized.apply(null,s)}let i=e.map(s=>s(t,n));return r.memoized.apply(null,[...i,n])}function qx(t,e={stateFn:Hx}){return function(...n){let r=n;if(Array.isArray(r[0])){let[h,...p]=r;r=[...h,...p]}else r.length===1&&zx(r[0])&&(r=Gx(r[0]));let i=r.slice(0,r.length-1),s=r[r.length-1],o=i.filter(h=>h.release&&typeof h.release=="function"),c=t(function(...h){return s.apply(null,h)}),u=lw(function(h,p){return e.stateFn.apply(null,[h,i,p,c])});function l(){u.reset(),c.reset(),o.forEach(h=>h.release())}return Object.assign(u.memoized,{release:l,projector:c.memoized,setResult:u.setResult,clearResult:u.clearResult})}}function dw(t){return Zs(e=>{let n=e[t];return!Bx()&&rf()&&!(t in e)&&console.warn(`@ngrx/store: The feature name "${t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${t}', ...) or StoreModule.forFeature('${t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),n},e=>e)}function zx(t){return!!t&&typeof t=="object"&&Object.values(t).every(e=>typeof e=="function")}function Gx(t){let e=Object.values(t),n=Object.keys(t),r=(...i)=>n.reduce((s,o,c)=>it(Se({},s),{[o]:i[c]}),{});return[...e,r]}function Wx(t){return t instanceof L?$(t):t}function Kx(t){return typeof t=="function"?t():t}function Qx(t,e){return t.concat(e)}function Yx(){if($(gf,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Jx(t,e){return function(n,r){let i=e.action(r)?hf(r):r,s=t(n,i);return e.state()?hf(s):s}}function hf(t){Object.freeze(t);let e=df(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&jx(t,n)&&(!e||n!=="caller"&&n!=="callee"&&n!=="arguments")){let r=t[n];(uw(r)||df(r))&&!Object.isFrozen(r)&&hf(r)}}),t}function Zx(t,e){return function(n,r){if(e.action(r)){let s=ff(r);ew(s,"action")}let i=t(n,r);if(e.state()){let s=ff(i);ew(s,"state")}return i}}function ff(t,e=[]){return(JE(t)||ZE(t))&&e.length===0?{path:["root"],value:t}:Object.keys(t).reduce((r,i)=>{if(r)return r;let s=t[i];return Vx(s)?r:JE(s)||ZE(s)||Ox(s)||kx(s)||Px(s)||cw(s)?!1:Lx(s)?ff(s,[...e,i]):{path:[...e,i],value:s}},!1)}function ew(t,e){if(t===!1)return;let n=t.path.join("."),r=new Error(`Detected unserializable ${e} at "${n}". ${yf}#strict${e}serializability`);throw r.value=t.value,r.unserializablePath=n,r}function Xx(t,e){return function(n,r){if(e.action(r)&&!De.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${yf}#strictactionwithinngzone`);return t(n,r)}}function eM(t){return rf()?Se({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function tM({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?Zx(n,{action:r=>t&&!vf(r),state:()=>e}):n}function nM({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?Jx(n,{action:r=>t&&!vf(r),state:()=>e}):n}function vf(t){return t.type.startsWith("@ngrx")}function rM({strictActionWithinNgZone:t}){return e=>t?Xx(e,{action:n=>t&&!vf(n)}):e}function iM(t){return[{provide:KE,useValue:t},{provide:WE,useFactory:oM,deps:[KE]},{provide:Ys,deps:[WE],useFactory:eM},{provide:kc,multi:!0,deps:[Ys],useFactory:nM},{provide:kc,multi:!0,deps:[Ys],useFactory:tM},{provide:kc,multi:!0,deps:[Ys],useFactory:rM}]}function sM(){return[{provide:sw,multi:!0,deps:[Ys],useFactory:aM}]}function oM(t){return t}function aM(t){if(!t.strictActionTypeUniqueness)return;let e=Object.entries(uf).filter(([,n])=>n>1).map(([n])=>n);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(n=>`"${n}"`).join(", ")}. ${yf}#strictactiontypeuniqueness`)}function cM(t={},e={}){return[{provide:nw,useFactory:Yx},{provide:$E,useValue:e.initialState},{provide:pf,useFactory:Kx,deps:[$E]},{provide:cf,useValue:t},{provide:qE,useExisting:t instanceof L?t:cf},{provide:iw,deps:[cf,[new R_(qE)]],useFactory:Wx},{provide:zE,useValue:e.metaReducers?e.metaReducers:[]},{provide:GE,deps:[kc,zE],useFactory:Qx},{provide:HE,useValue:e.reducerFactory?e.reducerFactory:Tx},{provide:rw,deps:[HE,GE],useFactory:aw},wx,Sx,Ax,Nx,xx,iM(e.runtimeChecks),sM()]}function uM(){$(Ni),$(Js),$(mf),$(gf),$(nw,{optional:!0}),$(sw,{optional:!0})}var lM=[{provide:QE,useFactory:uM},{provide:hi,multi:!0,useFactory(){return()=>$(QE)}}];function xz(t,e){return Cr([...cM(t,e),lM])}function Mz(...t){let e=t.pop(),n=t.map(r=>r.type);return{reducer:e,types:n}}function Pz(t,...e){let n=new Map;for(let r of e)for(let i of r.types){let s=n.get(i);if(s){let o=(c,u)=>r.reducer(s(c,u),u);n.set(i,o)}else n.set(i,r.reducer)}return function(r=t,i){let s=n.get(i.type);return s?s(r,i):r}}var fw=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dM=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},pw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|c>>4,g=(c&15)<<2|l>>6,v=l&63;u||(v=64,o||(g=64)),r.push(n[h],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||l==null||p==null)throw new If;let g=s<<2|c>>4;if(r.push(g),l!==64){let v=c<<4&240|l>>2;if(r.push(v),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},If=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},hM=function(t){let e=fw(t);return pw.encodeByteArray(e,!0)},Xs=function(t){return hM(t).replace(/\./g,"")},wf=function(t){try{return pw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var pM=()=>fM().__FIREBASE_DEFAULTS__,mM=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&wf(t[1]);return e&&JSON.parse(e)},Vc=()=>{try{return pM()||mM()||gM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Tf=t=>{var e,n;return(n=(e=Vc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mw=t=>{let e=Tf(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Df=()=>{var t;return(t=Vc())===null||t===void 0?void 0:t.config},bf=t=>{var e;return(e=Vc())===null||e===void 0?void 0:e[`_${t}`]};var Lc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function gw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xs(JSON.stringify(n)),Xs(JSON.stringify(o)),""].join(".")}function Ve(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function yM(){var t;let e=(t=Vc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _w(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Iw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ew(){let t=Ve();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ww(){return!yM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cf(){try{return typeof indexedDB=="object"}catch{return!1}}function Tw(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var vM="FirebaseError",mt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vM,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mn.prototype.create)}},mn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_M(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new mt(i,c,r)}};function _M(t,e){return t.replace(IM,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var IM=/\{\$([^}]+)}/g;function Dw(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(hw(s)&&hw(o)){if(!Rr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function hw(t){return t!==null&&typeof t=="object"}function xi(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bw(t,e){let n=new Ef(t,e);return n.subscribe.bind(n)}var Ef=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_f),i.error===void 0&&(i.error=_f),i.complete===void 0&&(i.complete=_f);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function EM(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _f(){}var Fz=4*60*60*1e3;function je(t){return t&&t._delegate?t._delegate:t}var Dt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Nr="[DEFAULT]";var Sf=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Lc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TM(e))try{this.getOrInitializeService({instanceIdentifier:Nr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Nr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Nr){return this.instances.has(e)}getOptions(e=Nr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Nr){return this.component?this.component.multipleInstances?e:Nr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wM(t){return t===Nr?void 0:t}function TM(t){return t.instantiationMode==="EAGER"}var jc=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Sf(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var DM=[],re=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(re||{}),bM={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},CM=re.INFO,SM={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},AM=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=SM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Gn=class{constructor(e){this.name=e,this._logLevel=CM,this._logHandler=AM,this._userLogHandler=null,DM.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}};var RM=(t,e)=>e.some(n=>t instanceof n),Cw,Sw;function NM(){return Cw||(Cw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xM(){return Sw||(Sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Aw=new WeakMap,Rf=new WeakMap,Rw=new WeakMap,Af=new WeakMap,xf=new WeakMap;function MM(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Aw.set(n,t)}).catch(()=>{}),xf.set(e,t),e}function PM(t){if(Rf.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Rf.set(t,e)}var Nf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Nw(t){Nf=t(Nf)}function kM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Uc(this),e,...n);return Rw.set(r,e.sort?e.sort():[e]),zt(r)}:xM().includes(t)?function(...e){return t.apply(Uc(this),e),zt(Aw.get(this))}:function(...e){return zt(t.apply(Uc(this),e))}}function OM(t){return typeof t=="function"?kM(t):(t instanceof IDBTransaction&&PM(t),RM(t,NM())?new Proxy(t,Nf):t)}function zt(t){if(t instanceof IDBRequest)return MM(t);if(Af.has(t))return Af.get(t);let e=OM(t);return e!==t&&(Af.set(t,e),xf.set(e,t)),e}var Uc=t=>xf.get(t);function Mw(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=zt(o);return r&&o.addEventListener("upgradeneeded",u=>{r(zt(o.result),u.oldVersion,u.newVersion,zt(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var FM=["get","getKey","getAll","getAllKeys","count"],LM=["put","add","delete","clear"],Mf=new Map;function xw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=LM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FM.includes(n)))return;let s=function(o,...c){return E(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Mf.set(e,s),s}Nw(t=>it(Se({},t),{get:(e,n,r)=>xw(e,n)||t.get(e,n,r),has:(e,n)=>!!xw(e,n)||t.has(e,n)}));var kf=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VM(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function VM(t){let e=t.getComponent();return e?.type==="VERSION"}var Of="@firebase/app",Pw="0.10.13";var gn=new Gn("@firebase/app"),jM="@firebase/app-compat",UM="@firebase/analytics-compat",BM="@firebase/analytics",$M="@firebase/app-check-compat",HM="@firebase/app-check",qM="@firebase/auth",zM="@firebase/auth-compat",GM="@firebase/database",WM="@firebase/data-connect",KM="@firebase/database-compat",QM="@firebase/functions",YM="@firebase/functions-compat",JM="@firebase/installations",ZM="@firebase/installations-compat",XM="@firebase/messaging",eP="@firebase/messaging-compat",tP="@firebase/performance",nP="@firebase/performance-compat",rP="@firebase/remote-config",iP="@firebase/remote-config-compat",sP="@firebase/storage",oP="@firebase/storage-compat",aP="@firebase/firestore",cP="@firebase/vertexai-preview",uP="@firebase/firestore-compat",lP="firebase",dP="10.14.1";var Ff="[DEFAULT]",hP={[Of]:"fire-core",[jM]:"fire-core-compat",[BM]:"fire-analytics",[UM]:"fire-analytics-compat",[HM]:"fire-app-check",[$M]:"fire-app-check-compat",[qM]:"fire-auth",[zM]:"fire-auth-compat",[GM]:"fire-rtdb",[WM]:"fire-data-connect",[KM]:"fire-rtdb-compat",[QM]:"fire-fn",[YM]:"fire-fn-compat",[JM]:"fire-iid",[ZM]:"fire-iid-compat",[XM]:"fire-fcm",[eP]:"fire-fcm-compat",[tP]:"fire-perf",[nP]:"fire-perf-compat",[rP]:"fire-rc",[iP]:"fire-rc-compat",[sP]:"fire-gcs",[oP]:"fire-gcs-compat",[aP]:"fire-fst",[uP]:"fire-fst-compat",[cP]:"fire-vertex","fire-js":"fire-js",[lP]:"fire-js-all"};var eo=new Map,fP=new Map,Lf=new Map;function kw(t,e){try{t.container.addComponent(e)}catch(n){gn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kn(t){let e=t.name;if(Lf.has(e))return gn.debug(`There were multiple attempts to register component ${e}.`),!1;Lf.set(e,t);for(let n of eo.values())kw(n,t);for(let n of fP.values())kw(n,t);return!0}function no(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gt(t){return t.settings!==void 0}var pP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wn=new mn("app","Firebase",pP);var Vf=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}};var Qn=dP;function Bc(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ff,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Wn.create("bad-app-name",{appName:String(i)});if(n||(n=Df()),!n)throw Wn.create("no-options");let s=eo.get(i);if(s){if(Rr(n,s.options)&&Rr(r,s.config))return s;throw Wn.create("duplicate-app",{appName:i})}let o=new jc(i);for(let u of Lf.values())o.addComponent(u);let c=new Vf(n,r,o);return eo.set(i,c),c}function Mi(t=Ff){let e=eo.get(t);if(!e&&t===Ff&&Df())return Bc();if(!e)throw Wn.create("no-app",{appName:t});return e}function $c(){return Array.from(eo.values())}function qe(t,e,n){var r;let i=(r=hP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gn.warn(c.join(" "));return}Kn(new Dt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var mP="firebase-heartbeat-database",gP=1,to="firebase-heartbeat-store",Pf=null;function Vw(){return Pf||(Pf=Mw(mP,gP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(to)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wn.create("idb-open",{originalErrorMessage:t.message})})),Pf}function yP(t){return E(this,null,function*(){try{let n=(yield Vw()).transaction(to),r=yield n.objectStore(to).get(jw(t));return yield n.done,r}catch(e){if(e instanceof mt)gn.warn(e.message);else{let n=Wn.create("idb-get",{originalErrorMessage:e?.message});gn.warn(n.message)}}})}function Ow(t,e){return E(this,null,function*(){try{let r=(yield Vw()).transaction(to,"readwrite");yield r.objectStore(to).put(e,jw(t)),yield r.done}catch(n){if(n instanceof mt)gn.warn(n.message);else{let r=Wn.create("idb-set",{originalErrorMessage:n?.message});gn.warn(r.message)}}})}function jw(t){return`${t.name}!${t.options.appId}`}var vP=1024,_P=30*24*60*60*1e3,jf=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Uf(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Fw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=_P}),this._storage.overwrite(this._heartbeatsCache))}catch(r){gn.warn(r)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Fw(),{heartbeatsToSend:r,unsentEntries:i}=IP(this._heartbeatsCache.heartbeats),s=Xs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return gn.warn(n),""}})}};function Fw(){return new Date().toISOString().substring(0,10)}function IP(t,e=vP){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Lw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Lw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Uf=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return Cf()?Tw().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield yP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ow(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ow(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Lw(t){return Xs(JSON.stringify({version:2,heartbeats:t})).length}function EP(t){Kn(new Dt("platform-logger",e=>new kf(e),"PRIVATE")),Kn(new Dt("heartbeat",e=>new jf(e),"PRIVATE")),qe(Of,Pw,t),qe(Of,Pw,"esm2017"),qe("fire-js","")}EP("");var wP="firebase",TP="10.14.1";qe(wP,TP,"app");var ro=new Si("ANGULARFIRE2_VERSION");function Uw(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var $f=(t,e)=>{let n=e?[e]:$c(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Hc=class{constructor(){return $f(DP)}},DP="app-check";function Pi(){}var qc=class{zone;delegate;constructor(e,n=xs){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Bf=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pi,{},Pi,Pi)),n.pipe(fd({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},zc=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new qc(Zone.current)),this.insideAngular=n.run(()=>new qc(Zone.current,lr)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(me(De))};static \u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Gc(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function bP(t){return Gc().ngZone.runOutsideAngular(()=>t())}function xr(t){return Gc().ngZone.run(()=>t())}function CP(t){return SP(Gc())(t)}function SP(t){return function(n){return n=n.lift(new Bf(t.ngZone)),n.pipe(On(t.outsideAngular),Vt(t.insideAngular))}}var AP=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),xr(()=>t.apply(void 0,r))},Wc=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=xr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pi,{},Pi,Pi))),r[s]=AP(r[s],n));let i=bP(()=>t.apply(this,r));if(!e)if(i instanceof G){let s=Gc();return i.pipe(On(s.outsideAngular),Vt(s.insideAngular))}else return xr(()=>i);return i instanceof G?i.pipe(CP):i instanceof Promise?xr(()=>new Promise((s,o)=>i.then(c=>xr(()=>s(c)),c=>xr(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:xr(()=>i)};var Mr=class{constructor(e){return e}},io=class{constructor(){return $c()}};function RP(t){return t&&t.length===1?t[0]:new Mr(Mi())}var Hf=new L("angularfire2._apps"),NP={provide:Mr,useFactory:RP,deps:[[new br,Hf]]},xP={provide:io,deps:[[new br,Hf]]};function MP(t){return(e,n)=>{let r=n.get(Hh);qe("angularfire",ro.full,"core"),qe("angularfire",ro.full,"app"),qe("angular",VE.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Mr(i)}}function w4(t,...e){return Cr([NP,xP,{provide:Hf,useFactory:MP(t),multi:!0,deps:[De,qt,zc,...e]}])}function tT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var nT=tT,rT=new mn("auth","Firebase",tT());var Xc=new Gn("@firebase/auth");function PP(t,...e){Xc.logLevel<=re.WARN&&Xc.warn(`Auth (${Qn}): ${t}`,...e)}function Qc(t,...e){Xc.logLevel<=re.ERROR&&Xc.error(`Auth (${Qn}): ${t}`,...e)}function Kt(t,...e){throw ap(t,...e)}function kt(t,...e){return ap(t,...e)}function op(t,e,n){let r=Object.assign(Object.assign({},nT()),{[e]:n});return new mn("auth","Firebase",r).create(e,{appName:t.name})}function Pr(t){return op(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kP(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Kt(t,"argument-error"),op(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ap(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rT.create(t,...e)}function q(t,e,...n){if(!t)throw ap(e,...n)}function yn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Qc(e),new Error(e)}function _n(t,e){t||yn(e)}function Gf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function OP(){return Bw()==="http:"||Bw()==="https:"}function Bw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function FP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OP()||_w()||"connection"in navigator)?navigator.onLine:!0}function LP(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var kr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,_n(n>e,"Short delay should be less than long delay!"),this.isMobile=yw()||Iw()}get(){return FP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function cp(t,e){_n(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var eu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var VP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var jP=new kr(3e4,6e4);function up(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Fi(s,o,c,u){return E(this,arguments,function*(t,e,n,r,i={}){return iT(t,i,()=>E(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=xi(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let v=Object.assign({method:e,headers:g},l);return vw()||(v.referrerPolicy="no-referrer"),eu.fetch()(sT(t,t.config.apiHost,n,p),v)}))})}function iT(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},VP),e);try{let i=new Wf(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Kc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Kc(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Kc(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw op(t,h,l);Kt(t,h)}}catch(i){if(i instanceof mt)throw i;Kt(t,"network-request-failed",{message:String(i)})}})}function UP(s,o,c,u){return E(this,arguments,function*(t,e,n,r,i={}){let l=yield Fi(t,e,n,r,i);return"mfaPendingCredential"in l&&Kt(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function sT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?cp(t.config,i):`${t.config.apiScheme}://${i}`}var Wf=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kt(this.auth,"network-request-failed")),jP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Kc(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=kt(t,e,r);return i.customData._tokenResponse=n,i}function BP(t,e){return E(this,null,function*(){return Fi(t,"POST","/v1/accounts:delete",e)})}function oT(t,e){return E(this,null,function*(){return Fi(t,"POST","/v1/accounts:lookup",e)})}function so(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function lp(t,e=!1){return E(this,null,function*(){let n=je(t),r=yield n.getIdToken(e),i=dp(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:so(qf(i.auth_time)),issuedAtTime:so(qf(i.iat)),expirationTime:so(qf(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function qf(t){return Number(t)*1e3}function dp(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{let i=wf(n);return i?JSON.parse(i):(Qc("Failed to decode base64 JWT payload"),null)}catch(i){return Qc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function $w(t){let e=dp(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ao(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof mt&&$P(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function $P({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Kf=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var co=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=so(this.lastLoginAt),this.creationTime=so(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function tu(t){return E(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ao(t,oT(n,{idToken:r}));q(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?aT(s.providerUserInfo):[],c=HP(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!c?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new co(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function hp(t){return E(this,null,function*(){let e=je(t);yield tu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function HP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aT(t){return t.map(e=>{var{providerId:n}=e,r=ma(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function qP(t,e){return E(this,null,function*(){let n=yield iT(t,{},()=>E(this,null,function*(){let r=xi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=sT(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",eu.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function zP(t,e){return E(this,null,function*(){return Fi(t,"POST","/v2/accounts:revokeToken",up(t,e))})}var oo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$w(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){q(e.length!==0,"internal-error");let n=$w(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return E(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield qP(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return yn("not implemented")}};function Yn(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Oi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ma(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new co(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield ao(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return lp(this,e)}reload(){return hp(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield tu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(Gt(this.auth.app))return Promise.reject(Pr(this.auth));let e=yield this.getIdToken();return yield ao(this,BP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(c=n.tenantId)!==null&&c!==void 0?c:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,O=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:K,emailVerified:ee,isAnonymous:we,providerData:Y,stsTokenManager:T}=n;q(K&&T,e,"internal-error");let y=oo.fromJSON(this.name,T);q(typeof K=="string",e,"internal-error"),Yn(p,e.name),Yn(g,e.name),q(typeof ee=="boolean",e,"internal-error"),q(typeof we=="boolean",e,"internal-error"),Yn(v,e.name),Yn(C,e.name),Yn(R,e.name),Yn(N,e.name),Yn(k,e.name),Yn(O,e.name);let _=new t({uid:K,auth:e,email:g,emailVerified:ee,displayName:p,isAnonymous:we,photoURL:C,phoneNumber:v,tenantId:R,stsTokenManager:y,createdAt:k,lastLoginAt:O});return Y&&Array.isArray(Y)&&(_.providerData=Y.map(w=>Object.assign({},w))),N&&(_._redirectEventId=N),_}static _fromIdTokenResponse(e,n,r=!1){return E(this,null,function*(){let i=new oo;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield tu(s),s})}static _fromGetAccountInfoResponse(e,n,r){return E(this,null,function*(){let i=n.users[0];q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?aT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new oo;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new co(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var Hw=new Map;function vn(t){_n(t instanceof Function,"Expected a class definition");let e=Hw.get(t);return e?(_n(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Hw.set(t,e),e)}var GP=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,r){return E(this,null,function*(){this.storage[n]=r})}_get(n){return E(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Qf=GP;function Yc(t,e,n){return`firebase:${t}:${e}:${n}`}var nu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Yc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Yc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Oi._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(this,null,function*(){if(!n.length)return new t(vn(Qf),e,r);let i=(yield Promise.all(n.map(l=>E(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||vn(Qf),o=Yc(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=Oi._fromJSON(e,h);l!==s&&(c=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(l=>E(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function qw(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fT(e))return"Blackberry";if(pT(e))return"Webos";if(uT(e))return"Safari";if((e.includes("chrome/")||lT(e))&&!e.includes("edge/"))return"Chrome";if(hT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function cT(t=Ve()){return/firefox\//i.test(t)}function uT(t=Ve()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lT(t=Ve()){return/crios\//i.test(t)}function dT(t=Ve()){return/iemobile/i.test(t)}function hT(t=Ve()){return/android/i.test(t)}function fT(t=Ve()){return/blackberry/i.test(t)}function pT(t=Ve()){return/webos/i.test(t)}function fp(t=Ve()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WP(t=Ve()){var e;return fp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KP(){return Ew()&&document.documentMode===10}function mT(t=Ve()){return fp(t)||hT(t)||pT(t)||fT(t)||/windows phone/i.test(t)||dT(t)}function gT(t,e=[]){let n;switch(t){case"Browser":n=qw(Ve());break;case"Worker":n=`${qw(Ve())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qn}/${r}`}var Yf=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function QP(n){return E(this,arguments,function*(t,e={}){return Fi(t,"GET","/v2/passwordPolicy",up(t,e))})}var YP=6,Jf=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:YP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Zf=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ru(this),this.idTokenSubscription=new ru(this),this.beforeStateQueue=new Yf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vn(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield nu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let n=yield oT(this,{idToken:e}),r=yield Oi._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;if(Gt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield tu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=LP()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(Gt(this.app))return Promise.reject(Pr(this));let n=e?je(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return Gt(this.app)?Promise.reject(Pr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Gt(this.app)?Promise.reject(Pr(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(vn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield QP(this),n=new Jf(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield zP(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&vn(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=yield nu.create(this,[vn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return E(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&PP(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function du(t){return je(t)}var ru=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=bw(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var pp={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JP(t){pp=t}function ZP(t){return pp.loadJS(t)}function XP(){return pp.gapiScript}function yT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function mp(t,e){let n=no(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Rr(s,e??{}))return i;Kt(i,"already-initialized")}return n.initialize({options:e})}function ek(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function gp(t,e,n){let r=du(t);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=vT(e),{host:o,port:c}=tk(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||nk()}function vT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tk(t){let e=vT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:zw(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:zw(o)}}}function zw(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function nk(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var uo=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yn("not implemented")}_getIdTokenResponse(e){return yn("not implemented")}_linkToIdToken(e,n){return yn("not implemented")}_getReauthenticationResolver(e){return yn("not implemented")}};function ki(t,e){return E(this,null,function*(){return UP(t,"POST","/v1/accounts:signInWithIdp",up(t,e))})}var rk="http://localhost",iu=class t extends uo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ma(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return ki(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,ki(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,ki(e,n)}buildRequest(){let e={requestUri:rk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xi(n)}return e}};var lo=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var su=class extends lo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var hu=(()=>{class t extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return iu._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var ho=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return E(this,null,function*(){let s=yield Oi._fromIdTokenResponse(e,r,i),o=Gw(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Gw(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function Gw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Xf=class t extends mt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function _T(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xf._fromErrorAndOperation(t,s,e,r):s})}function ik(t,e,n=!1){return E(this,null,function*(){let r=yield ao(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ho._forOperation(t,"link",r)})}function sk(t,e,n=!1){return E(this,null,function*(){let{auth:r}=t;if(Gt(r.app))return Promise.reject(Pr(r));let i="reauthenticate";try{let s=yield ao(t,_T(r,i,e,t),n);q(s.idToken,r,"internal-error");let o=dp(s.idToken);q(o,r,"internal-error");let{sub:c}=o;return q(t.uid===c,r,"user-mismatch"),ho._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Kt(r,"user-mismatch"),s}})}function ok(t,e,n=!1){return E(this,null,function*(){if(Gt(t.app))return Promise.reject(Pr(t));let r="signIn",i=yield _T(t,r,e),s=yield ho._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function yp(t,e,n,r){return je(t).onIdTokenChanged(e,n,r)}function vp(t,e,n){return je(t).beforeAuthStateChanged(e,n)}function fu(t,e,n,r){return je(t).onAuthStateChanged(e,n,r)}function pu(t){return je(t).signOut()}var ou="__sak";var au=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ou,"1"),this.storage.removeItem(ou),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var ak=1e3,ck=10,uk=(()=>{class t extends au{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);KP()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,ck):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},ak)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return E(this,null,function*(){yield Mn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return E(this,null,function*(){let r=yield Mn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return E(this,null,function*(){yield Mn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),IT=uk;var lk=(()=>{class t extends au{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),_p=lk;function dk(t){return Promise.all(t.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var hk=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return E(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(h=>E(this,null,function*(){return h(r.origin,o)})),l=yield dk(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Ip(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var ep=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=Ip("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(g.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Wt(){return window}function fk(t){Wt().location.href=t}function ET(){return typeof Wt().WorkerGlobalScope<"u"&&typeof Wt().importScripts=="function"}function pk(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function mk(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gk(){return ET()?self:null}var wT="firebaseLocalStorageDb",yk=1,cu="firebaseLocalStorage",TT="fbase_key",Or=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function mu(t,e){return t.transaction([cu],e?"readwrite":"readonly").objectStore(cu)}function vk(){let t=indexedDB.deleteDatabase(wT);return new Or(t).toPromise()}function tp(){let t=indexedDB.open(wT,yk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(cu,{keyPath:TT})}catch(i){n(i)}}),t.addEventListener("success",()=>E(this,null,function*(){let r=t.result;r.objectStoreNames.contains(cu)?e(r):(r.close(),yield vk(),e(yield tp()))}))})}function Ww(t,e,n){return E(this,null,function*(){let r=mu(t,!0).put({[TT]:e,value:n});return new Or(r).toPromise()})}function _k(t,e){return E(this,null,function*(){let n=mu(t,!1).get(e),r=yield new Or(n).toPromise();return r===void 0?null:r.value})}function Kw(t,e){let n=mu(t,!0).delete(e);return new Or(n).toPromise()}var Ik=800,Ek=3,wk=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield tp(),this.db)})}_withRetries(n){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Ek)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return ET()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=hk._getInstance(gk()),this.receiver._subscribe("keyChanged",(n,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var n,r;if(this.activeServiceWorker=yield pk(),!this.activeServiceWorker)return;this.sender=new ep(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||mk()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let n=yield tp();return yield Ww(n,ou,"1"),yield Kw(n,ou),!0}catch{}return!1})}_withPendingWrite(n){return E(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>Ww(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return E(this,null,function*(){let r=yield this._withRetries(i=>_k(i,n));return this.localCache[n]=r,r})}_remove(n){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>Kw(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return E(this,null,function*(){let n=yield this._withRetries(s=>{let o=mu(s,!1).getAll();return new Or(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),Ik)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),DT=wk;var M4=yT("rcb"),P4=new kr(3e4,6e4);function bT(t,e){return e?vn(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var fo=class extends uo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ki(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ki(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ki(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Tk(t){return ok(t.auth,new fo(t),t.bypassAuthState)}function Dk(t){let{auth:e,user:n}=t;return q(n,e,"internal-error"),sk(n,new fo(t),t.bypassAuthState)}function bk(t){return E(this,null,function*(){let{auth:e,user:n}=t;return q(n,e,"internal-error"),ik(n,new fo(t),t.bypassAuthState)})}var uu=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tk;case"linkViaPopup":case"linkViaRedirect":return bk;case"reauthViaPopup":case"reauthViaRedirect":return Dk;default:Kt(this.auth,"internal-error")}}resolve(e){_n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Ck=new kr(2e3,1e4);function Ep(t,e,n){return E(this,null,function*(){if(Gt(t.app))return Promise.reject(kt(t,"operation-not-supported-in-this-environment"));let r=du(t);kP(t,e,lo);let i=bT(r,n);return new Sk(r,"signInViaPopup",e,i).executeNotNull()})}var Sk=(()=>{class t extends uu{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return E(this,null,function*(){let n=yield this.execute();return q(n,this.auth,"internal-error"),n})}onExecution(){return E(this,null,function*(){_n(this.filter.length===1,"Popup operations only handle one event");let n=Ip();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(kt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(kt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,Ck.get())};n()}}t.currentPopupAction=null;return t})(),Ak="pendingRedirect",Jc=new Map,np=class t extends uu{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=Jc.get(this.auth._key());if(!e){try{let r=(yield Rk(this.resolver,this.auth))?yield Mn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return Mn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Mn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function Rk(t,e){return E(this,null,function*(){let n=Mk(e),r=xk(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Nk(t,e){Jc.set(t._key(),e)}function xk(t){return vn(t._redirectPersistence)}function Mk(t){return Yc(Ak,t.config.apiKey,t.name)}function Pk(t,e,n=!1){return E(this,null,function*(){if(Gt(t.app))return Promise.reject(Pr(t));let r=du(t),i=bT(r,e),o=yield new np(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var kk=10*60*1e3,rp=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ok(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!CT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qw(e))}saveEventToCache(e){this.cachedEventUids.add(Qw(e)),this.lastProcessedEventTime=Date.now()}};function Qw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function CT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Ok(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CT(t);default:return!1}}function Fk(n){return E(this,arguments,function*(t,e={}){return Fi(t,"GET","/v1/projects",e)})}var Lk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vk=/^https?/;function jk(t){return E(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield Fk(t);for(let n of e)try{if(Uk(n))return}catch{}Kt(t,"unauthorized-domain")})}function Uk(t){let e=Gf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Vk.test(n))return!1;if(Lk.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Bk=new kr(3e4,6e4);function Yw(){let t=Wt().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $k(t){return new Promise((e,n)=>{var r,i,s;function o(){Yw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yw(),n(kt(t,"network-request-failed"))},timeout:Bk.get()})}if(!((i=(r=Wt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Wt().gapi)===null||s===void 0)&&s.load)o();else{let c=yT("iframefcb");return Wt()[c]=()=>{gapi.load?o():n(kt(t,"network-request-failed"))},ZP(`${XP()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Zc=null,e})}var Zc=null;function Hk(t){return Zc=Zc||$k(t),Zc}var qk=new kr(5e3,15e3),zk="__/auth/iframe",Gk="emulator/auth/iframe",Wk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qk(t){let e=t.config;q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?cp(e,Gk):`https://${t.config.authDomain}/${zk}`,r={apiKey:e.apiKey,appName:t.name,v:Qn},i=Kk.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xi(r).slice(1)}`}function Yk(t){return E(this,null,function*(){let e=yield Hk(t),n=Wt().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:Qk(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wk,dontclear:!0},r=>new Promise((i,s)=>E(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=kt(t,"network-request-failed"),c=Wt().setTimeout(()=>{s(o)},qk.get());function u(){Wt().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var Jk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zk=500,Xk=600,eO="_blank",tO="http://localhost",lu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function nO(t,e,n,r=Zk,i=Xk){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},Jk),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ve().toLowerCase();n&&(c=lT(l)?eO:n),cT(l)&&(e=e||tO,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[v,C])=>`${g}${v}=${C},`,"");if(WP(l)&&c!=="_self")return rO(e||"",c),new lu(null);let p=window.open(e||"",c,h);q(p,t,"popup-blocked");try{p.focus()}catch{}return new lu(p)}function rO(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var iO="__/auth/handler",sO="emulator/auth/handler",oO=encodeURIComponent("fac");function Jw(t,e,n,r,i,s){return E(this,null,function*(){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qn,eventId:i};if(e instanceof lo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Dw(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof su){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let h of Object.keys(c))c[h]===void 0&&delete c[h];let u=yield t._getAppCheckToken(),l=u?`#${oO}=${encodeURIComponent(u)}`:"";return`${aO(t)}?${xi(c).slice(1)}${l}`})}function aO({config:t}){return t.emulator?cp(t,sO):`https://${t.authDomain}/${iO}`}var zf="webStorageSupport",ip=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_p,this._completeRedirectFn=Pk,this._overrideRedirectResult=Nk}_openPopup(e,n,r,i){return E(this,null,function*(){var s;_n((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Jw(e,n,r,Gf(),i);return nO(e,o,Ip())})}_openRedirect(e,n,r,i){return E(this,null,function*(){yield this._originValidation(e);let s=yield Jw(e,n,r,Gf(),i);return fk(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(_n(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return E(this,null,function*(){let n=yield Yk(e),r=new rp(e);return n.register("authEvent",i=>(q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zf,{type:zf},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[zf];o!==void 0&&n(!!o),Kt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mT()||uT()||fp()}},ST=ip;var Zw="@firebase/auth",Xw="1.7.9";var sp=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function cO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uO(t){Kn(new Dt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gT(t)},l=new Zf(r,i,s,u);return ek(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kn(new Dt("auth-internal",e=>{let n=du(e.getProvider("auth").getImmediate());return(r=>new sp(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qe(Zw,Xw,cO(t)),qe(Zw,Xw,"esm2017")}var lO=5*60,dO=bf("authIdTokenMaxAge")||lO,eT=null,hO=t=>e=>E(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dO)return;let i=n?.token;eT!==i&&(eT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function po(t=Mi()){let e=no(t,"auth");if(e.isInitialized())return e.getImmediate();let n=mp(t,{popupRedirectResolver:ST,persistence:[DT,IT,_p]}),r=bf("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=hO(s.toString());vp(n,o,()=>o(n.currentUser)),yp(n,c=>o(c))}}let i=Tf("auth");return i&&gp(n,`http://${i}`),n}function fO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}JP({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=kt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",fO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uO("Browser");var AT="auth",In=class{constructor(e){return e}},wp=class{constructor(){return $f(AT)}};var Tp=new L("angularfire2.auth-instances");function i1(t,e){let n=Uw(AT,t,e);return n&&new In(n)}function s1(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new In(r)}}var o1={provide:wp,deps:[[new br,Tp]]},a1={provide:In,useFactory:i1,deps:[[new br,Tp],Mr]};function yG(t,...e){return qe("angularfire",ro.full,"auth"),Cr([a1,o1,{provide:Tp,useFactory:s1(t),multi:!0,deps:[De,qt,zc,io,[new br,Hc],...e]}])}var vG=Wc(po,!0);var RT=Wc(Ep,!0);var NT=class t{provider=new hu;auth=$(In);signIn(){return this.provider.setCustomParameters({prompt:"select_account"}),RT(this.auth,this.provider).then(e=>{let r=hu.credentialFromResult(e)?.accessToken;return e.user.displayName||null}).catch(e=>{throw console.error("Error during sign-in:",e),e})}checkUserLogin(){return new G(e=>{fu(this.auth,n=>{n?(e.next(n.displayName),e.complete()):(e.next(null),e.complete())})})}signOut(){return new G(e=>{let n=po();pu(n).then(()=>{e.next(null),e.complete()}).catch(r=>{console.log("signedOut error"),e.error()})})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})};var LT=null;function Dp(){return LT}function e9(t){LT??=t}var xT=class{};var VT=new L(""),jT=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:()=>$(c1),providedIn:"platform"})}}return t})();var c1=(()=>{class t extends jT{constructor(){super(),this._doc=$(VT),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Dp().getBaseHref(this._doc)}onPopState(n){let r=Dp().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Dp().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function UT(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function MT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Fr(t){return t&&t[0]!=="?"?"?"+t:t}var xp=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:()=>$(l1),providedIn:"root"})}}return t})(),u1=new L(""),l1=(()=>{class t extends xp{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??$(VT).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return UT(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Fr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Fr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Fr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(me(jT),me(u1,8))}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var d1=(()=>{class t{constructor(n){this._subject=new $t,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=p1(MT(PT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Fr(r))}normalize(n){return t.stripTrailingSlash(f1(this._basePath,PT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Fr}static{this.joinWithSlash=UT}static{this.stripTrailingSlash=MT}static{this.\u0275fac=function(r){return new(r||t)(me(xp))}}static{this.\u0275prov=ce({token:t,factory:()=>h1(),providedIn:"root"})}}return t})();function h1(){return new d1(me(xp))}function f1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function PT(t){return t.replace(/\/index.html$/,"")}function p1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var ct=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(ct||{}),ve=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ve||{}),gt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(gt||{}),Jn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function m1(t){return wt(t)[Ae.LocaleId]}function g1(t,e,n){let r=wt(t),i=[r[Ae.DayPeriodsFormat],r[Ae.DayPeriodsStandalone]],s=bt(i,e);return bt(s,n)}function y1(t,e,n){let r=wt(t),i=[r[Ae.DaysFormat],r[Ae.DaysStandalone]],s=bt(i,e);return bt(s,n)}function v1(t,e,n){let r=wt(t),i=[r[Ae.MonthsFormat],r[Ae.MonthsStandalone]],s=bt(i,e);return bt(s,n)}function _1(t,e){let r=wt(t)[Ae.Eras];return bt(r,e)}function gu(t,e){let n=wt(t);return bt(n[Ae.DateFormat],e)}function yu(t,e){let n=wt(t);return bt(n[Ae.TimeFormat],e)}function vu(t,e){let r=wt(t)[Ae.DateTimeFormat];return bt(r,e)}function bu(t,e){let n=wt(t),r=n[Ae.NumberSymbols][e];if(typeof r>"u"){if(e===Jn.CurrencyDecimal)return n[Ae.NumberSymbols][Jn.Decimal];if(e===Jn.CurrencyGroup)return n[Ae.NumberSymbols][Jn.Group]}return r}function BT(t){if(!t[Ae.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ae.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function I1(t){let e=wt(t);return BT(e),(e[Ae.ExtraData][2]||[]).map(r=>typeof r=="string"?bp(r):[bp(r[0]),bp(r[1])])}function E1(t,e,n){let r=wt(t);BT(r);let i=[r[Ae.ExtraData][0],r[Ae.ExtraData][1]],s=bt(i,e)||[];return bt(s,n)||[]}function bt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function bp(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var w1=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_u={},T1=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,wn=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(wn||{}),fe=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(fe||{}),he=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(he||{});function D1(t,e,n,r){let i=P1(t);e=En(n,e)||e;let o=[],c;for(;e;)if(c=T1.exec(e),c){o=o.concat(c.slice(1));let h=o.pop();if(!h)break;e=h}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=HT(r,u),i=M1(i,r,!0));let l="";return o.forEach(h=>{let p=N1(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Du(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function En(t,e){let n=m1(t);if(_u[n]??={},_u[n][e])return _u[n][e];let r="";switch(e){case"shortDate":r=gu(t,gt.Short);break;case"mediumDate":r=gu(t,gt.Medium);break;case"longDate":r=gu(t,gt.Long);break;case"fullDate":r=gu(t,gt.Full);break;case"shortTime":r=yu(t,gt.Short);break;case"mediumTime":r=yu(t,gt.Medium);break;case"longTime":r=yu(t,gt.Long);break;case"fullTime":r=yu(t,gt.Full);break;case"short":let i=En(t,"shortTime"),s=En(t,"shortDate");r=Iu(vu(t,gt.Short),[i,s]);break;case"medium":let o=En(t,"mediumTime"),c=En(t,"mediumDate");r=Iu(vu(t,gt.Medium),[o,c]);break;case"long":let u=En(t,"longTime"),l=En(t,"longDate");r=Iu(vu(t,gt.Long),[u,l]);break;case"full":let h=En(t,"fullTime"),p=En(t,"fullDate");r=Iu(vu(t,gt.Full),[h,p]);break}return r&&(_u[n][e]=r),r}function Iu(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Ot(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function b1(t,e){return Ot(t,3).substring(0,e)}function xe(t,e,n=0,r=!1,i=!1){return function(s,o){let c=C1(t,s);if((n>0||c>-n)&&(c+=n),t===fe.Hours)c===0&&n===-12&&(c=12);else if(t===fe.FractionalSeconds)return b1(c,e);let u=bu(o,Jn.MinusSign);return Ot(c,e,u,r,i)}}function C1(t,e){switch(t){case fe.FullYear:return e.getFullYear();case fe.Month:return e.getMonth();case fe.Date:return e.getDate();case fe.Hours:return e.getHours();case fe.Minutes:return e.getMinutes();case fe.Seconds:return e.getSeconds();case fe.FractionalSeconds:return e.getMilliseconds();case fe.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function _e(t,e,n=ct.Format,r=!1){return function(i,s){return S1(i,s,t,e,n,r)}}function S1(t,e,n,r,i,s){switch(n){case he.Months:return v1(e,i,r)[t.getMonth()];case he.Days:return y1(e,i,r)[t.getDay()];case he.DayPeriods:let o=t.getHours(),c=t.getMinutes();if(s){let l=I1(e),h=E1(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[v,C]=g,R=o>=v.hours&&c>=v.minutes,N=o<C.hours||o===C.hours&&c<C.minutes;if(v.hours<C.hours){if(R&&N)return!0}else if(R||N)return!0}else if(g.hours===o&&g.minutes===c)return!0;return!1});if(p!==-1)return h[p]}return g1(e,i,r)[o<12?0:1];case he.Eras:return _1(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Eu(t){return function(e,n,r){let i=-1*r,s=bu(n,Jn.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case wn.Short:return(i>=0?"+":"")+Ot(o,2,s)+Ot(Math.abs(i%60),2,s);case wn.ShortGMT:return"GMT"+(i>=0?"+":"")+Ot(o,1,s);case wn.Long:return"GMT"+(i>=0?"+":"")+Ot(o,2,s)+":"+Ot(Math.abs(i%60),2,s);case wn.Extended:return r===0?"Z":(i>=0?"+":"")+Ot(o,2,s)+":"+Ot(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var A1=0,Tu=4;function R1(t){let e=Du(t,A1,1).getDay();return Du(t,0,1+(e<=Tu?Tu:Tu+7)-e)}function $T(t){let e=t.getDay(),n=e===0?-3:Tu-e;return Du(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Cp(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=$T(n),o=R1(s.getFullYear()),c=s.getTime()-o.getTime();i=1+Math.round(c/6048e5)}return Ot(i,t,bu(r,Jn.MinusSign))}}function wu(t,e=!1){return function(n,r){let s=$T(n).getFullYear();return Ot(s,t,bu(r,Jn.MinusSign),e)}}var Sp={};function N1(t){if(Sp[t])return Sp[t];let e;switch(t){case"G":case"GG":case"GGG":e=_e(he.Eras,ve.Abbreviated);break;case"GGGG":e=_e(he.Eras,ve.Wide);break;case"GGGGG":e=_e(he.Eras,ve.Narrow);break;case"y":e=xe(fe.FullYear,1,0,!1,!0);break;case"yy":e=xe(fe.FullYear,2,0,!0,!0);break;case"yyy":e=xe(fe.FullYear,3,0,!1,!0);break;case"yyyy":e=xe(fe.FullYear,4,0,!1,!0);break;case"Y":e=wu(1);break;case"YY":e=wu(2,!0);break;case"YYY":e=wu(3);break;case"YYYY":e=wu(4);break;case"M":case"L":e=xe(fe.Month,1,1);break;case"MM":case"LL":e=xe(fe.Month,2,1);break;case"MMM":e=_e(he.Months,ve.Abbreviated);break;case"MMMM":e=_e(he.Months,ve.Wide);break;case"MMMMM":e=_e(he.Months,ve.Narrow);break;case"LLL":e=_e(he.Months,ve.Abbreviated,ct.Standalone);break;case"LLLL":e=_e(he.Months,ve.Wide,ct.Standalone);break;case"LLLLL":e=_e(he.Months,ve.Narrow,ct.Standalone);break;case"w":e=Cp(1);break;case"ww":e=Cp(2);break;case"W":e=Cp(1,!0);break;case"d":e=xe(fe.Date,1);break;case"dd":e=xe(fe.Date,2);break;case"c":case"cc":e=xe(fe.Day,1);break;case"ccc":e=_e(he.Days,ve.Abbreviated,ct.Standalone);break;case"cccc":e=_e(he.Days,ve.Wide,ct.Standalone);break;case"ccccc":e=_e(he.Days,ve.Narrow,ct.Standalone);break;case"cccccc":e=_e(he.Days,ve.Short,ct.Standalone);break;case"E":case"EE":case"EEE":e=_e(he.Days,ve.Abbreviated);break;case"EEEE":e=_e(he.Days,ve.Wide);break;case"EEEEE":e=_e(he.Days,ve.Narrow);break;case"EEEEEE":e=_e(he.Days,ve.Short);break;case"a":case"aa":case"aaa":e=_e(he.DayPeriods,ve.Abbreviated);break;case"aaaa":e=_e(he.DayPeriods,ve.Wide);break;case"aaaaa":e=_e(he.DayPeriods,ve.Narrow);break;case"b":case"bb":case"bbb":e=_e(he.DayPeriods,ve.Abbreviated,ct.Standalone,!0);break;case"bbbb":e=_e(he.DayPeriods,ve.Wide,ct.Standalone,!0);break;case"bbbbb":e=_e(he.DayPeriods,ve.Narrow,ct.Standalone,!0);break;case"B":case"BB":case"BBB":e=_e(he.DayPeriods,ve.Abbreviated,ct.Format,!0);break;case"BBBB":e=_e(he.DayPeriods,ve.Wide,ct.Format,!0);break;case"BBBBB":e=_e(he.DayPeriods,ve.Narrow,ct.Format,!0);break;case"h":e=xe(fe.Hours,1,-12);break;case"hh":e=xe(fe.Hours,2,-12);break;case"H":e=xe(fe.Hours,1);break;case"HH":e=xe(fe.Hours,2);break;case"m":e=xe(fe.Minutes,1);break;case"mm":e=xe(fe.Minutes,2);break;case"s":e=xe(fe.Seconds,1);break;case"ss":e=xe(fe.Seconds,2);break;case"S":e=xe(fe.FractionalSeconds,1);break;case"SS":e=xe(fe.FractionalSeconds,2);break;case"SSS":e=xe(fe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Eu(wn.Short);break;case"ZZZZZ":e=Eu(wn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Eu(wn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Eu(wn.Long);break;default:return null}return Sp[t]=e,e}function HT(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function x1(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function M1(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=HT(e,i);return x1(t,r*(s-i))}function P1(t){if(kT(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(c=>+c);return Du(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(w1))return k1(r)}let e=new Date(t);if(!kT(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function k1(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,c=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,c,u,l),e}function kT(t){return t instanceof Date&&!isNaN(t.valueOf())}function t9(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Ap=/\s+/,OT=[],n9=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=OT,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Ap):OT}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Ap):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Ap).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(Pt(Tc),Pt(ef))}}static{this.\u0275dir=gc({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();function qT(t,e){return new se(2100,!1)}var Rp=class{createSubscription(e,n){return Pc(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Pc(()=>e.unsubscribe())}},Np=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},O1=new Np,F1=new Rp,r9=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Rc(n))return O1;if(nf(n))return F1;throw qT(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||t)(Pt(sf,16))}}static{this.\u0275pipe=Ch({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var L1="mediumDate",V1=new L(""),j1=new L(""),i9=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(n==null||n===""||n!==n)return null;try{let o=r??this.defaultOptions?.dateFormat??L1,c=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return D1(n,o,s||this.locale,c)}catch(o){throw qT(t,o.message)}}static{this.\u0275fac=function(r){return new(r||t)(Pt(xc,16),Pt(V1,24),Pt(j1,24))}}static{this.\u0275pipe=Ch({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var s9=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=bh({type:t})}static{this.\u0275inj=Eh({})}}return t})(),o9="browser",U1="server";function a9(t){return t===U1}var FT=class{};var d9=Re("[check login] Check Login"),h9=Re("[check login] Check Login Success",Tt()),f9=Re("[login] User Login"),p9=Re("[login] User Login Success",Tt()),m9=Re("[login] User Login Failure",Tt()),g9=Re("[logOut] Log Out"),y9=Re("[logOut] Log Out Success",Tt()),v9=Re("[Get Tasks] Get Tasks"),_9=Re("[Get Tasks] Get Tasks Success",Tt()),I9=Re("[Get Tasks] Get Tasks Failure",Tt()),E9=Re("[Qurent Task ] Get Qurent Task",Tt()),w9=Re("[Qurent Task ] Get Qurent Task Success",Tt()),T9=Re("[Clear Curent Task] Clear Curent Task"),D9=Re("[Clear Curent Task] Clear Curent Task Success"),b9=Re("[Add Task] Add Task",Tt()),C9=Re("[Add Task] Add Task Success"),S9=Re("[Delete Task] Delete Task",Tt()),A9=Re("[Delete Task] Delete Task Success"),R9=Re("[Update Task] Update Task",Tt()),N9=Re("[Update Task] Update Task Success");var zT={apiKey:"AIzaSyAtvWNL0SosEH5IfXqCTjrmC_iwx_v600s",authDomain:"todo-13c71.firebaseapp.com",projectId:"todo-13c71",storageBucket:"todo-13c71.firebasestorage.app",messagingSenderId:"196363664197",appId:"1:196363664197:web:50e211c42bdfca6ea21c2c",measurementId:"G-WZB3CC6QKC"};var GT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},WT={};var Zn,Mp;(function(){var t;function e(T,y){function _(){}_.prototype=y.prototype,T.D=y.prototype,T.prototype=new _,T.prototype.constructor=T,T.C=function(w,D,S){for(var I=Array(arguments.length-2),rn=2;rn<arguments.length;rn++)I[rn-2]=arguments[rn];return y.prototype[D].apply(w,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,y,_){_||(_=0);var w=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)w[D]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(D=0;16>D;++D)w[D]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=T.g[0],_=T.g[1],D=T.g[2];var S=T.g[3],I=y+(S^_&(D^S))+w[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=S+(D^y&(_^D))+w[1]+3905402710&4294967295,S=y+(I<<12&4294967295|I>>>20),I=D+(_^S&(y^_))+w[2]+606105819&4294967295,D=S+(I<<17&4294967295|I>>>15),I=_+(y^D&(S^y))+w[3]+3250441966&4294967295,_=D+(I<<22&4294967295|I>>>10),I=y+(S^_&(D^S))+w[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=S+(D^y&(_^D))+w[5]+1200080426&4294967295,S=y+(I<<12&4294967295|I>>>20),I=D+(_^S&(y^_))+w[6]+2821735955&4294967295,D=S+(I<<17&4294967295|I>>>15),I=_+(y^D&(S^y))+w[7]+4249261313&4294967295,_=D+(I<<22&4294967295|I>>>10),I=y+(S^_&(D^S))+w[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=S+(D^y&(_^D))+w[9]+2336552879&4294967295,S=y+(I<<12&4294967295|I>>>20),I=D+(_^S&(y^_))+w[10]+4294925233&4294967295,D=S+(I<<17&4294967295|I>>>15),I=_+(y^D&(S^y))+w[11]+2304563134&4294967295,_=D+(I<<22&4294967295|I>>>10),I=y+(S^_&(D^S))+w[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=S+(D^y&(_^D))+w[13]+4254626195&4294967295,S=y+(I<<12&4294967295|I>>>20),I=D+(_^S&(y^_))+w[14]+2792965006&4294967295,D=S+(I<<17&4294967295|I>>>15),I=_+(y^D&(S^y))+w[15]+1236535329&4294967295,_=D+(I<<22&4294967295|I>>>10),I=y+(D^S&(_^D))+w[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=S+(_^D&(y^_))+w[6]+3225465664&4294967295,S=y+(I<<9&4294967295|I>>>23),I=D+(y^_&(S^y))+w[11]+643717713&4294967295,D=S+(I<<14&4294967295|I>>>18),I=_+(S^y&(D^S))+w[0]+3921069994&4294967295,_=D+(I<<20&4294967295|I>>>12),I=y+(D^S&(_^D))+w[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=S+(_^D&(y^_))+w[10]+38016083&4294967295,S=y+(I<<9&4294967295|I>>>23),I=D+(y^_&(S^y))+w[15]+3634488961&4294967295,D=S+(I<<14&4294967295|I>>>18),I=_+(S^y&(D^S))+w[4]+3889429448&4294967295,_=D+(I<<20&4294967295|I>>>12),I=y+(D^S&(_^D))+w[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=S+(_^D&(y^_))+w[14]+3275163606&4294967295,S=y+(I<<9&4294967295|I>>>23),I=D+(y^_&(S^y))+w[3]+4107603335&4294967295,D=S+(I<<14&4294967295|I>>>18),I=_+(S^y&(D^S))+w[8]+1163531501&4294967295,_=D+(I<<20&4294967295|I>>>12),I=y+(D^S&(_^D))+w[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=S+(_^D&(y^_))+w[2]+4243563512&4294967295,S=y+(I<<9&4294967295|I>>>23),I=D+(y^_&(S^y))+w[7]+1735328473&4294967295,D=S+(I<<14&4294967295|I>>>18),I=_+(S^y&(D^S))+w[12]+2368359562&4294967295,_=D+(I<<20&4294967295|I>>>12),I=y+(_^D^S)+w[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=S+(y^_^D)+w[8]+2272392833&4294967295,S=y+(I<<11&4294967295|I>>>21),I=D+(S^y^_)+w[11]+1839030562&4294967295,D=S+(I<<16&4294967295|I>>>16),I=_+(D^S^y)+w[14]+4259657740&4294967295,_=D+(I<<23&4294967295|I>>>9),I=y+(_^D^S)+w[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=S+(y^_^D)+w[4]+1272893353&4294967295,S=y+(I<<11&4294967295|I>>>21),I=D+(S^y^_)+w[7]+4139469664&4294967295,D=S+(I<<16&4294967295|I>>>16),I=_+(D^S^y)+w[10]+3200236656&4294967295,_=D+(I<<23&4294967295|I>>>9),I=y+(_^D^S)+w[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=S+(y^_^D)+w[0]+3936430074&4294967295,S=y+(I<<11&4294967295|I>>>21),I=D+(S^y^_)+w[3]+3572445317&4294967295,D=S+(I<<16&4294967295|I>>>16),I=_+(D^S^y)+w[6]+76029189&4294967295,_=D+(I<<23&4294967295|I>>>9),I=y+(_^D^S)+w[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=S+(y^_^D)+w[12]+3873151461&4294967295,S=y+(I<<11&4294967295|I>>>21),I=D+(S^y^_)+w[15]+530742520&4294967295,D=S+(I<<16&4294967295|I>>>16),I=_+(D^S^y)+w[2]+3299628645&4294967295,_=D+(I<<23&4294967295|I>>>9),I=y+(D^(_|~S))+w[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=S+(_^(y|~D))+w[7]+1126891415&4294967295,S=y+(I<<10&4294967295|I>>>22),I=D+(y^(S|~_))+w[14]+2878612391&4294967295,D=S+(I<<15&4294967295|I>>>17),I=_+(S^(D|~y))+w[5]+4237533241&4294967295,_=D+(I<<21&4294967295|I>>>11),I=y+(D^(_|~S))+w[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=S+(_^(y|~D))+w[3]+2399980690&4294967295,S=y+(I<<10&4294967295|I>>>22),I=D+(y^(S|~_))+w[10]+4293915773&4294967295,D=S+(I<<15&4294967295|I>>>17),I=_+(S^(D|~y))+w[1]+2240044497&4294967295,_=D+(I<<21&4294967295|I>>>11),I=y+(D^(_|~S))+w[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=S+(_^(y|~D))+w[15]+4264355552&4294967295,S=y+(I<<10&4294967295|I>>>22),I=D+(y^(S|~_))+w[6]+2734768916&4294967295,D=S+(I<<15&4294967295|I>>>17),I=_+(S^(D|~y))+w[13]+1309151649&4294967295,_=D+(I<<21&4294967295|I>>>11),I=y+(D^(_|~S))+w[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=S+(_^(y|~D))+w[11]+3174756917&4294967295,S=y+(I<<10&4294967295|I>>>22),I=D+(y^(S|~_))+w[2]+718787259&4294967295,D=S+(I<<15&4294967295|I>>>17),I=_+(S^(D|~y))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+S&4294967295}r.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var _=y-this.blockSize,w=this.B,D=this.h,S=0;S<y;){if(D==0)for(;S<=_;)i(this,T,S),S+=this.blockSize;if(typeof T=="string"){for(;S<y;)if(w[D++]=T.charCodeAt(S++),D==this.blockSize){i(this,w),D=0;break}}else for(;S<y;)if(w[D++]=T[S++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=y},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var _=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=_&255,_/=256;for(this.u(T),T=Array(16),y=_=0;4>y;++y)for(var w=0;32>w;w+=8)T[_++]=this.g[y]>>>w&255;return T};function s(T,y){var _=c;return Object.prototype.hasOwnProperty.call(_,T)?_[T]:_[T]=y(T)}function o(T,y){this.h=y;for(var _=[],w=!0,D=T.length-1;0<=D;D--){var S=T[D]|0;w&&S==y||(_[D]=S,w=!1)}this.g=_}var c={};function u(T){return-128<=T&&128>T?s(T,function(y){return new o([y|0],0>y?-1:0)}):new o([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return N(l(-T));for(var y=[],_=1,w=0;T>=_;w++)y[w]=T/_|0,_*=4294967296;return new o(y,0)}function h(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return N(h(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),w=p,D=0;D<T.length;D+=8){var S=Math.min(8,T.length-D),I=parseInt(T.substring(D,D+S),y);8>S?(S=l(Math.pow(y,S)),w=w.j(S).add(l(I))):(w=w.j(_),w=w.add(l(I)))}return w}var p=u(0),g=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-N(this).m();for(var T=0,y=1,_=0;_<this.g.length;_++){var w=this.i(_);T+=(0<=w?w:4294967296+w)*y,y*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(R(this))return"-"+N(this).toString(T);for(var y=l(Math.pow(T,6)),_=this,w="";;){var D=ee(_,y).g;_=k(_,D.j(y));var S=((0<_.g.length?_.g[0]:_.h)>>>0).toString(T);if(_=D,C(_))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function R(T){return T.h==-1}t.l=function(T){return T=k(this,T),R(T)?-1:C(T)?0:1};function N(T){for(var y=T.g.length,_=[],w=0;w<y;w++)_[w]=~T.g[w];return new o(_,~T.h).add(g)}t.abs=function(){return R(this)?N(this):this},t.add=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],w=0,D=0;D<=y;D++){var S=w+(this.i(D)&65535)+(T.i(D)&65535),I=(S>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);w=I>>>16,S&=65535,I&=65535,_[D]=I<<16|S}return new o(_,_[_.length-1]&-2147483648?-1:0)};function k(T,y){return T.add(N(y))}t.j=function(T){if(C(this)||C(T))return p;if(R(this))return R(T)?N(this).j(N(T)):N(N(this).j(T));if(R(T))return N(this.j(N(T)));if(0>this.l(v)&&0>T.l(v))return l(this.m()*T.m());for(var y=this.g.length+T.g.length,_=[],w=0;w<2*y;w++)_[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<T.g.length;D++){var S=this.i(w)>>>16,I=this.i(w)&65535,rn=T.i(D)>>>16,as=T.i(D)&65535;_[2*w+2*D]+=I*as,O(_,2*w+2*D),_[2*w+2*D+1]+=S*as,O(_,2*w+2*D+1),_[2*w+2*D+1]+=I*rn,O(_,2*w+2*D+1),_[2*w+2*D+2]+=S*rn,O(_,2*w+2*D+2)}for(w=0;w<y;w++)_[w]=_[2*w+1]<<16|_[2*w];for(w=y;w<2*y;w++)_[w]=0;return new o(_,0)};function O(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function K(T,y){this.g=T,this.h=y}function ee(T,y){if(C(y))throw Error("division by zero");if(C(T))return new K(p,p);if(R(T))return y=ee(N(T),y),new K(N(y.g),N(y.h));if(R(y))return y=ee(T,N(y)),new K(N(y.g),y.h);if(30<T.g.length){if(R(T)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var _=g,w=y;0>=w.l(T);)_=we(_),w=we(w);var D=Y(_,1),S=Y(w,1);for(w=Y(w,2),_=Y(_,2);!C(w);){var I=S.add(w);0>=I.l(T)&&(D=D.add(_),S=I),w=Y(w,1),_=Y(_,1)}return y=k(T,D.j(y)),new K(D,y)}for(D=p;0<=T.l(y);){for(_=Math.max(1,Math.floor(T.m()/y.m())),w=Math.ceil(Math.log(_)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=l(_),I=S.j(y);R(I)||0<I.l(T);)_-=w,S=l(_),I=S.j(y);C(S)&&(S=g),D=D.add(S),T=k(T,I)}return new K(D,T)}t.A=function(T){return ee(this,T).h},t.and=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],w=0;w<y;w++)_[w]=this.i(w)&T.i(w);return new o(_,this.h&T.h)},t.or=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],w=0;w<y;w++)_[w]=this.i(w)|T.i(w);return new o(_,this.h|T.h)},t.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],w=0;w<y;w++)_[w]=this.i(w)^T.i(w);return new o(_,this.h^T.h)};function we(T){for(var y=T.g.length+1,_=[],w=0;w<y;w++)_[w]=T.i(w)<<1|T.i(w-1)>>>31;return new o(_,T.h)}function Y(T,y){var _=y>>5;y%=32;for(var w=T.g.length-_,D=[],S=0;S<w;S++)D[S]=0<y?T.i(S+_)>>>y|T.i(S+_+1)<<32-y:T.i(S+_);return new o(D,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Mp=WT.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,Zn=WT.Integer=o}).apply(typeof GT<"u"?GT:typeof self<"u"?self:typeof window<"u"?window:{});var Cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tn={};var Pp,B1,Li,kp,mo,Su,Op,Fp,Lp;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cu=="object"&&Cu];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var m=0;m<a.length-1;m++){var b=a[m];if(!(b in f))break e;f=f[b]}a=a[a.length-1],m=f[a],d=d(m),d!=m&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var f=0,m=!1,b={next:function(){if(!m&&f<a.length){var A=f++;return{value:d(A,a[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,f){return f})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,m),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function g(a,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function v(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function C(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(m,b,A){for(var P=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)P[ge-2]=arguments[ge];return d.prototype[b].apply(m,P)}}function R(a){let d=a.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=a[m];return f}return[]}function N(a,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let b=a.length||0,A=m.length||0;a.length=b+A;for(let P=0;P<A;P++)a[b+P]=m[P]}else a.push(m)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function O(a){return/^[\s\xa0]*$/.test(a)}function K(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ee(a){return ee[" "](a),a}ee[" "]=function(){};var we=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function Y(a,d,f){for(let m in a)d.call(f,a[m],m,a)}function T(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function y(a){let d={};for(let f in a)d[f]=a[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let f,m;for(let b=1;b<arguments.length;b++){m=arguments[b];for(f in m)a[f]=m[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(m,f)&&(a[f]=m[f])}}function D(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function S(a){c.setTimeout(()=>{throw a},0)}function I(){var a=ml;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class rn{constructor(){this.h=this.g=null}add(d,f){let m=as.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var as=new k(()=>new Pb,a=>a.reset());class Pb{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let cs,us=!1,ml=new rn,$g=()=>{let a=c.Promise.resolve(void 0);cs=()=>{a.then(kb)}};var kb=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(f){S(f)}var d=as;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}us=!1};function An(){this.s=this.s,this.C=this.C}An.prototype.s=!1,An.prototype.ma=function(){this.s||(this.s=!0,this.N())},An.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ge(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ge.prototype.h=function(){this.defaultPrevented=!0};var Ob=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a}();function ls(a,d){if(Ge.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(we){e:{try{ee(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Fb[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ls.aa.h.call(this)}}C(ls,Ge);var Fb={2:"touch",3:"pen",4:"mouse"};ls.prototype.h=function(){ls.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ds="closure_listenable_"+(1e6*Math.random()|0),Lb=0;function Vb(a,d,f,m,b){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=b,this.key=++Lb,this.da=this.fa=!1}function Vo(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function jo(a){this.src=a,this.g={},this.h=0}jo.prototype.add=function(a,d,f,m,b){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var P=yl(a,d,m,b);return-1<P?(d=a[P],f||(d.fa=!1)):(d=new Vb(d,this.src,A,!!m,b),d.fa=f,a.push(d)),d};function gl(a,d){var f=d.type;if(f in a.g){var m=a.g[f],b=Array.prototype.indexOf.call(m,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(m,b,1),A&&(Vo(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function yl(a,d,f,m){for(var b=0;b<a.length;++b){var A=a[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==m)return b}return-1}var vl="closure_lm_"+(1e6*Math.random()|0),_l={};function Hg(a,d,f,m,b){if(m&&m.once)return zg(a,d,f,m,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)Hg(a,d[A],f,m,b);return null}return f=Tl(f),a&&a[ds]?a.K(d,f,l(m)?!!m.capture:!!m,b):qg(a,d,f,!1,m,b)}function qg(a,d,f,m,b,A){if(!d)throw Error("Invalid event type");var P=l(b)?!!b.capture:!!b,ge=El(a);if(ge||(a[vl]=ge=new jo(a)),f=ge.add(d,f,m,P,A),f.proxy)return f;if(m=jb(),f.proxy=m,m.src=a,m.listener=f,a.addEventListener)Ob||(b=P),b===void 0&&(b=!1),a.addEventListener(d.toString(),m,b);else if(a.attachEvent)a.attachEvent(Wg(d.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function jb(){function a(f){return d.call(a.src,a.listener,f)}let d=Ub;return a}function zg(a,d,f,m,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)zg(a,d[A],f,m,b);return null}return f=Tl(f),a&&a[ds]?a.L(d,f,l(m)?!!m.capture:!!m,b):qg(a,d,f,!0,m,b)}function Gg(a,d,f,m,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)Gg(a,d[A],f,m,b);else m=l(m)?!!m.capture:!!m,f=Tl(f),a&&a[ds]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],f=yl(A,f,m,b),-1<f&&(Vo(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=El(a))&&(d=a.g[d.toString()],a=-1,d&&(a=yl(d,f,m,b)),(f=-1<a?d[a]:null)&&Il(f))}function Il(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[ds])gl(d.i,a);else{var f=a.type,m=a.proxy;d.removeEventListener?d.removeEventListener(f,m,a.capture):d.detachEvent?d.detachEvent(Wg(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=El(d))?(gl(f,a),f.h==0&&(f.src=null,d[vl]=null)):Vo(a)}}}function Wg(a){return a in _l?_l[a]:_l[a]="on"+a}function Ub(a,d){if(a.da)a=!0;else{d=new ls(d,this);var f=a.listener,m=a.ha||a.src;a.fa&&Il(a),a=f.call(m,d)}return a}function El(a){return a=a[vl],a instanceof jo?a:null}var wl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tl(a){return typeof a=="function"?a:(a[wl]||(a[wl]=function(d){return a.handleEvent(d)}),a[wl])}function We(){An.call(this),this.i=new jo(this),this.M=this,this.F=null}C(We,An),We.prototype[ds]=!0,We.prototype.removeEventListener=function(a,d,f,m){Gg(this,a,d,f,m)};function nt(a,d){var f,m=a.F;if(m)for(f=[];m;m=m.F)f.push(m);if(a=a.M,m=d.type||d,typeof d=="string")d=new Ge(d,a);else if(d instanceof Ge)d.target=d.target||a;else{var b=d;d=new Ge(m,a),w(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var P=d.g=f[A];b=Uo(P,m,!0,d)&&b}if(P=d.g=a,b=Uo(P,m,!0,d)&&b,b=Uo(P,m,!1,d)&&b,f)for(A=0;A<f.length;A++)P=d.g=f[A],b=Uo(P,m,!1,d)&&b}We.prototype.N=function(){if(We.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],m=0;m<f.length;m++)Vo(f[m]);delete a.g[d],a.h--}}this.F=null},We.prototype.K=function(a,d,f,m){return this.i.add(String(a),d,!1,f,m)},We.prototype.L=function(a,d,f,m){return this.i.add(String(a),d,!0,f,m)};function Uo(a,d,f,m){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var P=d[A];if(P&&!P.da&&P.capture==f){var ge=P.listener,Be=P.ha||P.src;P.fa&&gl(a.i,P),b=ge.call(Be,m)!==!1&&b}}return b&&!m.defaultPrevented}function Kg(a,d,f){if(typeof a=="function")f&&(a=g(a,f));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Qg(a){a.g=Kg(()=>{a.g=null,a.i&&(a.i=!1,Qg(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class Bb extends An{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Qg(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(a){An.call(this),this.h=a,this.g={}}C(hs,An);var Yg=[];function Jg(a){Y(a.g,function(d,f){this.g.hasOwnProperty(f)&&Il(d)},a),a.g={}}hs.prototype.N=function(){hs.aa.N.call(this),Jg(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dl=c.JSON.stringify,$b=c.JSON.parse,Hb=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function bl(){}bl.prototype.h=null;function Zg(a){return a.h||(a.h=a.i())}function Xg(){}var fs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cl(){Ge.call(this,"d")}C(Cl,Ge);function Sl(){Ge.call(this,"c")}C(Sl,Ge);var rr={},ey=null;function Bo(){return ey=ey||new We}rr.La="serverreachability";function ty(a){Ge.call(this,rr.La,a)}C(ty,Ge);function ps(a){let d=Bo();nt(d,new ty(d))}rr.STAT_EVENT="statevent";function ny(a,d){Ge.call(this,rr.STAT_EVENT,a),this.stat=d}C(ny,Ge);function rt(a){let d=Bo();nt(d,new ny(d,a))}rr.Ma="timingevent";function ry(a,d){Ge.call(this,rr.Ma,a),this.size=d}C(ry,Ge);function ms(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function gs(){this.g=!0}gs.prototype.xa=function(){this.g=!1};function qb(a,d,f,m,b,A){a.info(function(){if(a.g)if(A)for(var P="",ge=A.split("&"),Be=0;Be<ge.length;Be++){var ue=ge[Be].split("=");if(1<ue.length){var Ke=ue[0];ue=ue[1];var Qe=Ke.split("_");P=2<=Qe.length&&Qe[1]=="type"?P+(Ke+"="+ue+"&"):P+(Ke+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+m+") [attempt "+b+"]: "+d+`
`+f+`
`+P})}function zb(a,d,f,m,b,A,P){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+P})}function Qr(a,d,f,m){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+Wb(a,f)+(m?" "+m:"")})}function Gb(a,d){a.info(function(){return"TIMEOUT: "+d})}gs.prototype.info=function(){};function Wb(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var m=f[a];if(!(2>m.length)){var b=m[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<b.length;P++)b[P]=""}}}}return Dl(f)}catch{return d}}var $o={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},iy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Al;function Ho(){}C(Ho,bl),Ho.prototype.g=function(){return new XMLHttpRequest},Ho.prototype.i=function(){return{}},Al=new Ho;function Rn(a,d,f,m){this.j=a,this.i=d,this.l=f,this.R=m||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sy}function sy(){this.i=null,this.g="",this.h=!1}var oy={},Rl={};function Nl(a,d,f){a.L=1,a.v=Wo(sn(d)),a.m=f,a.P=!0,ay(a,null)}function ay(a,d){a.F=Date.now(),qo(a),a.A=sn(a.v);var f=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),Ey(f.i,"t",m),a.C=0,f=a.j.J,a.h=new sy,a.g=jy(a.j,f?d:null,!a.m),0<a.O&&(a.M=new Bb(g(a.Y,a,a.g),a.O)),d=a.U,f=a.g,m=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(Yg[0]=b.toString()),b=Yg);for(var A=0;A<b.length;A++){var P=Hg(f,b[A],m||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),ps(),qb(a.i,a.u,a.A,a.l,a.R,a.m)}Rn.prototype.ca=function(a){a=a.target;let d=this.M;d&&on(a)==3?d.j():this.Y(a)},Rn.prototype.Y=function(a){try{if(a==this.g)e:{let Qe=on(this.g);var d=this.g.Ba();let Zr=this.g.Z();if(!(3>Qe)&&(Qe!=3||this.g&&(this.h.h||this.g.oa()||Ay(this.g)))){this.J||Qe!=4||d==7||(d==8||0>=Zr?ps(3):ps(2)),xl(this);var f=this.g.Z();this.X=f;t:if(cy(this)){var m=Ay(this.g);a="";var b=m.length,A=on(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ir(this),ys(this);var P="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(m[d],{stream:!(A&&d==b-1)});m.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=f==200,zb(this.i,this.u,this.A,this.l,this.R,Qe,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ge,Be=this.g;if((ge=Be.g?Be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(ge)){var ue=ge;break t}}ue=null}if(f=ue)Qr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ml(this,f);else{this.o=!1,this.s=3,rt(12),ir(this),ys(this);break e}}if(this.P){f=!0;let At;for(;!this.J&&this.C<P.length;)if(At=Kb(this,P),At==Rl){Qe==4&&(this.s=4,rt(14),f=!1),Qr(this.i,this.l,null,"[Incomplete Response]");break}else if(At==oy){this.s=4,rt(15),Qr(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else Qr(this.i,this.l,At,null),Ml(this,At);if(cy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||P.length!=0||this.h.h||(this.s=1,rt(16),f=!1),this.o=this.o&&f,!f)Qr(this.i,this.l,P,"[Invalid Chunked Response]"),ir(this),ys(this);else if(0<P.length&&!this.W){this.W=!0;var Ke=this.j;Ke.g==this&&Ke.ba&&!Ke.M&&(Ke.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Vl(Ke),Ke.M=!0,rt(11))}}else Qr(this.i,this.l,P,null),Ml(this,P);Qe==4&&ir(this),this.o&&!this.J&&(Qe==4?Oy(this.j,this):(this.o=!1,qo(this)))}else dC(this.g),f==400&&0<P.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),ir(this),ys(this)}}}catch{}finally{}};function cy(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Kb(a,d){var f=a.C,m=d.indexOf(`
`,f);return m==-1?Rl:(f=Number(d.substring(f,m)),isNaN(f)?oy:(m+=1,m+f>d.length?Rl:(d=d.slice(m,m+f),a.C=m+f,d)))}Rn.prototype.cancel=function(){this.J=!0,ir(this)};function qo(a){a.S=Date.now()+a.I,uy(a,a.I)}function uy(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ms(g(a.ba,a),d)}function xl(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Rn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(Gb(this.i,this.A),this.L!=2&&(ps(),rt(17)),ir(this),this.s=2,ys(this)):uy(this,this.S-a)};function ys(a){a.j.G==0||a.J||Oy(a.j,a)}function ir(a){xl(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Jg(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Ml(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||Pl(f.h,a))){if(!a.K&&Pl(f.h,a)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var b=m;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)Zo(f),Yo(f);else break e;Ll(f),rt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=ms(g(f.Za,f),6e3));if(1>=hy(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else or(f,11)}else if((a.K||f.g==a)&&Zo(f),!O(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ue=b[d];if(f.T=ue[0],ue=ue[1],f.G==2)if(ue[0]=="c"){f.K=ue[1],f.ia=ue[2];let Ke=ue[3];Ke!=null&&(f.la=Ke,f.j.info("VER="+f.la));let Qe=ue[4];Qe!=null&&(f.Aa=Qe,f.j.info("SVER="+f.Aa));let Zr=ue[5];Zr!=null&&typeof Zr=="number"&&0<Zr&&(m=1.5*Zr,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let At=a.g;if(At){let ea=At.g?At.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ea){var A=m.h;A.g||ea.indexOf("spdy")==-1&&ea.indexOf("quic")==-1&&ea.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(kl(A,A.h),A.h=null))}if(m.D){let jl=At.g?At.g.getResponseHeader("X-HTTP-Session-Id"):null;jl&&(m.ya=jl,Ie(m.I,m.D,jl))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var P=a;if(m.qa=Vy(m,m.J?m.ia:null,m.W),P.K){fy(m.h,P);var ge=P,Be=m.L;Be&&(ge.I=Be),ge.B&&(xl(ge),qo(ge)),m.g=P}else Py(m);0<f.i.length&&Jo(f)}else ue[0]!="stop"&&ue[0]!="close"||or(f,7);else f.G==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?or(f,7):Fl(f):ue[0]!="noop"&&f.l&&f.l.ta(ue),f.v=0)}}ps(4)}catch{}}var Qb=class{constructor(a,d){this.g=a,this.map=d}};function ly(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dy(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function hy(a){return a.h?1:a.g?a.g.size:0}function Pl(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function kl(a,d){a.g?a.g.add(d):a.h=d}function fy(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}ly.prototype.cancel=function(){if(this.i=py(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function py(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return R(a.i)}function Yb(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,m=0;m<f;m++)d.push(a[m]);return d}d=[],f=0;for(m in a)d[f++]=a[m];return d}function Jb(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let m in a)d[f++]=m;return d}}}function my(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=Jb(a),m=Yb(a),b=m.length,A=0;A<b;A++)d.call(void 0,m[A],f&&f[A],a)}var gy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zb(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var m=a[f].indexOf("="),b=null;if(0<=m){var A=a[f].substring(0,m);b=a[f].substring(m+1)}else A=a[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function sr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof sr){this.h=a.h,zo(this,a.j),this.o=a.o,this.g=a.g,Go(this,a.s),this.l=a.l;var d=a.i,f=new Is;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),yy(this,f),this.m=a.m}else a&&(d=String(a).match(gy))?(this.h=!1,zo(this,d[1]||"",!0),this.o=vs(d[2]||""),this.g=vs(d[3]||"",!0),Go(this,d[4]),this.l=vs(d[5]||"",!0),yy(this,d[6]||"",!0),this.m=vs(d[7]||"")):(this.h=!1,this.i=new Is(null,this.h))}sr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(_s(d,vy,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(_s(d,vy,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(_s(f,f.charAt(0)=="/"?tC:eC,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",_s(f,rC)),a.join("")};function sn(a){return new sr(a)}function zo(a,d,f){a.j=f?vs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Go(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function yy(a,d,f){d instanceof Is?(a.i=d,iC(a.i,a.h)):(f||(d=_s(d,nC)),a.i=new Is(d,a.h))}function Ie(a,d,f){a.i.set(d,f)}function Wo(a){return Ie(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function vs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function _s(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,Xb),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Xb(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var vy=/[#\/\?@]/g,eC=/[#\?:]/g,tC=/[#\?]/g,nC=/[#\?@]/g,rC=/#/g;function Is(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Nn(a){a.g||(a.g=new Map,a.h=0,a.i&&Zb(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Is.prototype,t.add=function(a,d){Nn(this),this.i=null,a=Yr(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function _y(a,d){Nn(a),d=Yr(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Iy(a,d){return Nn(a),d=Yr(a,d),a.g.has(d)}t.forEach=function(a,d){Nn(this),this.g.forEach(function(f,m){f.forEach(function(b){a.call(d,b,m,this)},this)},this)},t.na=function(){Nn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let b=a[m];for(let A=0;A<b.length;A++)f.push(d[m])}return f},t.V=function(a){Nn(this);let d=[];if(typeof a=="string")Iy(this,a)&&(d=d.concat(this.g.get(Yr(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},t.set=function(a,d){return Nn(this),this.i=null,a=Yr(this,a),Iy(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Ey(a,d,f){_y(a,d),0<f.length&&(a.i=null,a.g.set(Yr(a,d),R(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let A=encodeURIComponent(String(m)),P=this.V(m);for(m=0;m<P.length;m++){var b=A;P[m]!==""&&(b+="="+encodeURIComponent(String(P[m]))),a.push(b)}}return this.i=a.join("&")};function Yr(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function iC(a,d){d&&!a.j&&(Nn(a),a.i=null,a.g.forEach(function(f,m){var b=m.toLowerCase();m!=b&&(_y(this,m),Ey(this,b,f))},a)),a.j=d}function sC(a,d){let f=new gs;if(c.Image){let m=new Image;m.onload=v(xn,f,"TestLoadImage: loaded",!0,d,m),m.onerror=v(xn,f,"TestLoadImage: error",!1,d,m),m.onabort=v(xn,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=v(xn,f,"TestLoadImage: timeout",!1,d,m),c.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else d(!1)}function oC(a,d){let f=new gs,m=new AbortController,b=setTimeout(()=>{m.abort(),xn(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:m.signal}).then(A=>{clearTimeout(b),A.ok?xn(f,"TestPingServer: ok",!0,d):xn(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),xn(f,"TestPingServer: error",!1,d)})}function xn(a,d,f,m,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),m(f)}catch{}}function aC(){this.g=new Hb}function cC(a,d,f){let m=f||"";try{my(a,function(b,A){let P=b;l(b)&&(P=Dl(b)),d.push(m+A+"="+encodeURIComponent(P))})}catch(b){throw d.push(m+"type="+encodeURIComponent("_badmap")),b}}function Es(a){this.l=a.Ub||null,this.j=a.eb||!1}C(Es,bl),Es.prototype.g=function(){return new Ko(this.l,this.j)},Es.prototype.i=function(a){return function(){return a}}({});function Ko(a,d){We.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ko,We),t=Ko.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Ts(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ts(this)),this.g&&(this.readyState=3,Ts(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wy(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function wy(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?ws(this):Ts(this),this.readyState==3&&wy(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,ws(this))},t.Qa=function(a){this.g&&(this.response=a,ws(this))},t.ga=function(){this.g&&ws(this)};function ws(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ts(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function Ts(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ko.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Ty(a){let d="";return Y(a,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Ol(a,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=Ty(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Ie(a,d,f))}function Te(a){We.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Te,We);var uC=/^https?$/i,lC=["POST","PUT"];t=Te.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Al.g(),this.v=this.o?Zg(this.o):Zg(Al),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){Dy(this,A);return}if(a=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var b in m)f.set(b,m[b]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())f.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(lC,d,void 0))||m||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of f)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sy(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){Dy(this,A)}};function Dy(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,by(a),Qo(a)}function by(a){a.A||(a.A=!0,nt(a,"complete"),nt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,nt(this,"complete"),nt(this,"abort"),Qo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qo(this,!0)),Te.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Cy(this):this.bb())},t.bb=function(){Cy(this)};function Cy(a){if(a.h&&typeof o<"u"&&(!a.v[1]||on(a)!=4||a.Z()!=2)){if(a.u&&on(a)==4)Kg(a.Ea,0,a);else if(nt(a,"readystatechange"),on(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=P===0){var b=String(a.D).match(gy)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),m=!uC.test(b?b.toLowerCase():"")}f=m}if(f)nt(a,"complete"),nt(a,"success");else{a.m=6;try{var A=2<on(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",by(a)}}finally{Qo(a)}}}}function Qo(a,d){if(a.g){Sy(a);let f=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||nt(a,"ready");try{f.onreadystatechange=m}catch{}}}function Sy(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function on(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<on(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),$b(d)}};function Ay(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function dC(a){let d={};a=(a.g&&2<=on(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(O(a[m]))continue;var f=D(a[m]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}T(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ds(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function Ry(a){this.Aa=0,this.i=[],this.j=new gs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ds("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ds("baseRetryDelayMs",5e3,a),this.cb=Ds("retryDelaySeedMs",1e4,a),this.Wa=Ds("forwardChannelMaxRetries",2,a),this.wa=Ds("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ly(a&&a.concurrentRequestLimit),this.Da=new aC,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ry.prototype,t.la=8,t.G=1,t.connect=function(a,d,f,m){rt(0),this.W=a,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=Vy(this,null,this.W),Jo(this)};function Fl(a){if(Ny(a),a.G==3){var d=a.U++,f=sn(a.I);if(Ie(f,"SID",a.K),Ie(f,"RID",d),Ie(f,"TYPE","terminate"),bs(a,f),d=new Rn(a,a.j,d),d.L=2,d.v=Wo(sn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=jy(d.j,null),d.g.ea(d.v)),d.F=Date.now(),qo(d)}Ly(a)}function Yo(a){a.g&&(Vl(a),a.g.cancel(),a.g=null)}function Ny(a){Yo(a),a.u&&(c.clearTimeout(a.u),a.u=null),Zo(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Jo(a){if(!dy(a.h)&&!a.s){a.s=!0;var d=a.Ga;cs||$g(),us||(cs(),us=!0),ml.add(d,a),a.B=0}}function hC(a,d){return hy(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ms(g(a.Ga,a,d),Fy(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new Rn(this,this.j,a),A=this.o;if(this.S&&(A?(A=y(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=My(this,b,d),f=sn(this.I),Ie(f,"RID",a),Ie(f,"CVER",22),this.D&&Ie(f,"X-HTTP-Session-Id",this.D),bs(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(Ty(A)))+"&"+d:this.m&&Ol(f,this.m,A)),kl(this.h,b),this.Ua&&Ie(f,"TYPE","init"),this.P?(Ie(f,"$req",d),Ie(f,"SID","null"),b.T=!0,Nl(b,f,null)):Nl(b,f,d),this.G=2}}else this.G==3&&(a?xy(this,a):this.i.length==0||dy(this.h)||xy(this))};function xy(a,d){var f;d?f=d.l:f=a.U++;let m=sn(a.I);Ie(m,"SID",a.K),Ie(m,"RID",f),Ie(m,"AID",a.T),bs(a,m),a.m&&a.o&&Ol(m,a.m,a.o),f=new Rn(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=My(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),kl(a.h,f),Nl(f,m,d)}function bs(a,d){a.H&&Y(a.H,function(f,m){Ie(d,m,f)}),a.l&&my({},function(f,m){Ie(d,m,f)})}function My(a,d,f){f=Math.min(a.i.length,f);var m=a.l?g(a.l.Na,a.l,a):null;e:{var b=a.i;let A=-1;for(;;){let P=["count="+f];A==-1?0<f?(A=b[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let ge=!0;for(let Be=0;Be<f;Be++){let ue=b[Be].g,Ke=b[Be].map;if(ue-=A,0>ue)A=Math.max(0,b[Be].g-100),ge=!1;else try{cC(Ke,P,"req"+ue+"_")}catch{m&&m(Ke)}}if(ge){m=P.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,m}function Py(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;cs||$g(),us||(cs(),us=!0),ml.add(d,a),a.v=0}}function Ll(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ms(g(a.Fa,a),Fy(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,ky(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ms(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Yo(this),ky(this))};function Vl(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function ky(a){a.g=new Rn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=sn(a.qa);Ie(d,"RID","rpc"),Ie(d,"SID",a.K),Ie(d,"AID",a.T),Ie(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ie(d,"TO",a.ja),Ie(d,"TYPE","xmlhttp"),bs(a,d),a.m&&a.o&&Ol(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=Wo(sn(d)),f.m=null,f.P=!0,ay(f,a)}t.Za=function(){this.C!=null&&(this.C=null,Yo(this),Ll(this),rt(19))};function Zo(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Oy(a,d){var f=null;if(a.g==d){Zo(a),Vl(a),a.g=null;var m=2}else if(Pl(a.h,d))f=d.D,fy(a.h,d),m=1;else return;if(a.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;m=Bo(),nt(m,new ry(m,f)),Jo(a)}else Py(a);else if(b=d.s,b==3||b==0&&0<d.X||!(m==1&&hC(a,d)||m==2&&Ll(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),b){case 1:or(a,5);break;case 4:or(a,10);break;case 3:or(a,6);break;default:or(a,2)}}}function Fy(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function or(a,d){if(a.j.info("Error code "+d),d==2){var f=g(a.fb,a),m=a.Xa;let b=!m;m=new sr(m||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||zo(m,"https"),Wo(m),b?sC(m.toString(),f):oC(m.toString(),f)}else rt(2);a.G=0,a.l&&a.l.sa(d),Ly(a),Ny(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Ly(a){if(a.G=0,a.ka=[],a.l){let d=py(a.h);(d.length!=0||a.i.length!=0)&&(N(a.ka,d),N(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function Vy(a,d,f){var m=f instanceof sr?sn(f):new sr(f);if(m.g!="")d&&(m.g=d+"."+m.g),Go(m,m.s);else{var b=c.location;m=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new sr(null);m&&zo(A,m),d&&(A.g=d),b&&Go(A,b),f&&(A.l=f),m=A}return f=a.D,d=a.ya,f&&d&&Ie(m,f,d),Ie(m,"VER",a.la),bs(a,m),m}function jy(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Te(new Es({eb:f})):new Te(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uy(){}t=Uy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xo(){}Xo.prototype.g=function(a,d){return new ft(a,d)};function ft(a,d){We.call(this),this.g=new Ry(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!O(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!O(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Jr(this)}C(ft,We),ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ft.prototype.close=function(){Fl(this.g)},ft.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Dl(a),a=f);d.i.push(new Qb(d.Ya++,a)),d.G==3&&Jo(d)},ft.prototype.N=function(){this.g.l=null,delete this.j,Fl(this.g),delete this.g,ft.aa.N.call(this)};function By(a){Cl.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}C(By,Cl);function $y(){Sl.call(this),this.status=1}C($y,Sl);function Jr(a){this.g=a}C(Jr,Uy),Jr.prototype.ua=function(){nt(this.g,"a")},Jr.prototype.ta=function(a){nt(this.g,new By(a))},Jr.prototype.sa=function(a){nt(this.g,new $y)},Jr.prototype.ra=function(){nt(this.g,"b")},Xo.prototype.createWebChannel=Xo.prototype.g,ft.prototype.send=ft.prototype.o,ft.prototype.open=ft.prototype.m,ft.prototype.close=ft.prototype.close,Lp=Tn.createWebChannelTransport=function(){return new Xo},Fp=Tn.getStatEventTarget=function(){return Bo()},Op=Tn.Event=rr,Su=Tn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$o.NO_ERROR=0,$o.TIMEOUT=8,$o.HTTP_ERROR=6,mo=Tn.ErrorCode=$o,iy.COMPLETE="complete",kp=Tn.EventType=iy,Xg.EventType=fs,fs.OPEN="a",fs.CLOSE="b",fs.ERROR="c",fs.MESSAGE="d",We.prototype.listen=We.prototype.K,Li=Tn.WebChannel=Xg,B1=Tn.FetchXmlHttpFactory=Es,Te.prototype.listenOnce=Te.prototype.L,Te.prototype.getLastError=Te.prototype.Ka,Te.prototype.getLastErrorCode=Te.prototype.Ba,Te.prototype.getStatus=Te.prototype.Z,Te.prototype.getResponseJson=Te.prototype.Oa,Te.prototype.getResponseText=Te.prototype.oa,Te.prototype.send=Te.prototype.ea,Te.prototype.setWithCredentials=Te.prototype.Ha,Pp=Tn.XhrIo=Te}).apply(typeof Cu<"u"?Cu:typeof self<"u"?self:typeof window<"u"?window:{});var KT="@firebase/firestore";var Ue=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ue.UNAUTHENTICATED=new Ue(null),Ue.GOOGLE_CREDENTIALS=new Ue("google-credentials-uid"),Ue.FIRST_PARTY=new Ue("first-party-uid"),Ue.MOCK_USER=new Ue("mock-user");var ss="10.14.0";var jr=new Gn("@firebase/firestore");function go(){return jr.logLevel}function F(t,...e){if(jr.logLevel<=re.DEBUG){let n=e.map(Eg);jr.debug(`Firestore (${ss}): ${t}`,...n)}}function bn(t,...e){if(jr.logLevel<=re.ERROR){let n=e.map(Eg);jr.error(`Firestore (${ss}): ${t}`,...n)}}function zi(t,...e){if(jr.logLevel<=re.WARN){let n=e.map(Eg);jr.warn(`Firestore (${ss}): ${t}`,...n)}}function Eg(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function H(t="Unexpected state"){let e=`FIRESTORE (${ss}) INTERNAL ASSERTION FAILED: `+t;throw bn(e),new Error(e)}function pe(t,e){t||H()}function Q(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends mt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Yt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Mu=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},$p=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ue.UNAUTHENTICATED))}shutdown(){}},Hp=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},qp=class{constructor(e){this.t=e,this.currentUser=Ue.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Yt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Yt,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>E(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Yt)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string"),new Mu(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string"),new Ue(e)}},zp=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ue.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Gp=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new zp(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ue.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Wp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Kp=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){pe(this.o===void 0);let r=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pe(typeof n.token=="string"),this.R=n.token,new Wp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function $1(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Pu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=$1(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function le(t,e){return t<e?-1:t>e?1:0}function Gi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ze=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var J=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ze(0,0))}static max(){return new t(new ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ku=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&H(),r===void 0?r=e.length-n:r>e.length-n&&H(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},be=class t extends ku{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},H1=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vt=class t extends ku{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return H1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new V(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new V(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new V(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var B=class t{constructor(e){this.path=e}static fromPath(e){return new t(be.fromString(e))}static fromName(e){return new t(be.fromString(e).popFirst(5))}static empty(){return new t(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new be(e.slice()))}};var Qp=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Qp.UNKNOWN_ID=-1;function q1(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new Ur(i,B.empty(),e)}function z1(t){return new Ur(t.readTime,t.key,-1)}var Ur=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(J.min(),B.empty(),-1)}static max(){return new t(J.max(),B.empty(),-1)}};function G1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}var W1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Yp=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ko(t){return E(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==W1)throw t;F("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++c,c===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function K1(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oo(t){return t.name==="IndexedDbTransactionError"}var bD=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function al(t){return t==null}function wo(t){return t===0&&1/t==-1/0}function Q1(t){return typeof t=="number"&&Number.isInteger(t)&&!wo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Y1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],q9=[...Y1,"documentOverlays"],J1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Z1=J1,X1=[...Z1,"indexConfiguration","indexState","indexEntries"];var z9=[...X1,"globals"];function QT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CD(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ce=class t{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bi(this.root,e,this.comparator,!0)}},Bi=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Jt=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();let e=this.left.check();if(e!==this.right.check())throw H();return e+(this.isRed()?0:1)}};Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var et=class t{constructor(e){this.comparator=e,this.data=new Ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ou(this.data.getIterator())}getIteratorFrom(e){return new Ou(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ou=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ct=class t{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new t([])}unionWith(e){let n=new et(vt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gi(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Fu=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var tt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Fu("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};tt.EMPTY_BYTE_STRING=new tt("");var eF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cn(t){if(pe(!!t),typeof t=="string"){let e=0,n=eF.exec(t);if(pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ee(t.seconds),nanos:Ee(t.nanos)}}function Ee(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function er(t){return typeof t=="string"?tt.fromBase64String(t):tt.fromUint8Array(t)}function wg(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Tg(t){let e=t.mapValue.fields.__previous_value__;return wg(e)?Tg(e):e}function To(t){let e=Cn(t.mapValue.fields.__local_write_time__.timestampValue);return new ze(e.seconds,e.nanos)}var Jp=class{constructor(e,n,r,i,s,o,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Lu=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Au={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Br(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wg(t)?4:AD(t)?9007199254740991:SD(t)?10:11:H()}function en(t,e){if(t===e)return!0;let n=Br(t);if(n!==Br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return To(t).isEqual(To(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Cn(i.timestampValue),c=Cn(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return er(i.bytesValue).isEqual(er(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ee(i.geoPointValue.latitude)===Ee(s.geoPointValue.latitude)&&Ee(i.geoPointValue.longitude)===Ee(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ee(i.integerValue)===Ee(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ee(i.doubleValue),c=Ee(s.doubleValue);return o===c?wo(o)===wo(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Gi(t.arrayValue.values||[],e.arrayValue.values||[],en);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(QT(o)!==QT(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!en(o[u],c[u])))return!1;return!0}(t,e);default:return H()}}function Do(t,e){return(t.values||[]).find(n=>en(n,e))!==void 0}function Wi(t,e){if(t===e)return 0;let n=Br(t),r=Br(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Ee(s.integerValue||s.doubleValue),u=Ee(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return YT(t.timestampValue,e.timestampValue);case 4:return YT(To(t),To(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(s,o){let c=er(s),u=er(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=le(c[l],u[l]);if(h!==0)return h}return le(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=le(Ee(s.latitude),Ee(o.latitude));return c!==0?c:le(Ee(s.longitude),Ee(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return JT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,l,h;let p=s.fields||{},g=o.fields||{},v=(c=p.value)===null||c===void 0?void 0:c.arrayValue,C=(u=g.value)===null||u===void 0?void 0:u.arrayValue,R=le(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:JT(v,C)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Au.mapValue&&o===Au.mapValue)return 0;if(s===Au.mapValue)return 1;if(o===Au.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=le(u[p],h[p]);if(g!==0)return g;let v=Wi(c[u[p]],l[h[p]]);if(v!==0)return v}return le(u.length,h.length)}(t.mapValue,e.mapValue);default:throw H()}}function YT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);let n=Cn(t),r=Cn(e),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function JT(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Wi(n[i],r[i]);if(s)return s}return le(n.length,r.length)}function Ki(t){return Zp(t)}function Zp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Cn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return er(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return B.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Zp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Zp(n.fields[o])}`;return i+"}"}(t.mapValue):H()}function Xp(t){return!!t&&"integerValue"in t}function Dg(t){return!!t&&"arrayValue"in t}function ZT(t){return!!t&&"nullValue"in t}function XT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nu(t){return!!t&&"mapValue"in t}function SD(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function vo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Wr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vo(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var yt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vo(n)}setAll(e){let n=vt.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=vo(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Nu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return en(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Nu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wr(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(vo(this.value))}};function RD(t){let e=[];return Wr(t.fields,(n,r)=>{let i=new vt([n]);if(Nu(r)){let s=RD(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Ct(e)}var Ft=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,J.min(),J.min(),J.min(),yt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,J.min(),J.min(),yt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,J.min(),J.min(),yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Qi=class{constructor(e,n){this.position=e,this.inclusive=n}};function eD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=B.comparator(B.fromName(o.referenceValue),n.key):r=Wi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!en(t.position[n],e.position[n]))return!1;return!0}var Yi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function tF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Vu=class{},Oe=class t extends Vu{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new tm(e,n,r):n==="array-contains"?new im(e,r):n==="in"?new sm(e,r):n==="not-in"?new om(e,r):n==="array-contains-any"?new am(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new nm(e,r):new rm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wi(n,this.value)):n!==null&&Br(this.value)===Br(n)&&this.matchesComparison(Wi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},tn=class t extends Vu{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return ND(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function ND(t){return t.op==="and"}function xD(t){return nF(t)&&ND(t)}function nF(t){for(let e of t.filters)if(e instanceof tn)return!1;return!0}function em(t){if(t instanceof Oe)return t.field.canonicalString()+t.op.toString()+Ki(t.value);if(xD(t))return t.filters.map(e=>em(e)).join(",");{let e=t.filters.map(n=>em(n)).join(",");return`${t.op}(${e})`}}function MD(t,e){return t instanceof Oe?function(r,i){return i instanceof Oe&&r.op===i.op&&r.field.isEqual(i.field)&&en(r.value,i.value)}(t,e):t instanceof tn?function(r,i){return i instanceof tn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&MD(o,i.filters[c]),!0):!1}(t,e):void H()}function PD(t){return t instanceof Oe?function(n){return`${n.field.canonicalString()} ${n.op} ${Ki(n.value)}`}(t):t instanceof tn?function(n){return n.op.toString()+" {"+n.getFilters().map(PD).join(" ,")+"}"}(t):"Filter"}var tm=class extends Oe{constructor(e,n,r){super(e,n,r),this.key=B.fromName(r.referenceValue)}matches(e){let n=B.comparator(e.key,this.key);return this.matchesComparison(n)}},nm=class extends Oe{constructor(e,n){super(e,"in",n),this.keys=kD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},rm=class extends Oe{constructor(e,n){super(e,"not-in",n),this.keys=kD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function kD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>B.fromName(r.referenceValue))}var im=class extends Oe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Dg(n)&&Do(n.arrayValue,this.value)}},sm=class extends Oe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Do(this.value.arrayValue,n)}},om=class extends Oe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Do(this.value.arrayValue,n)}},am=class extends Oe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Dg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Do(this.value.arrayValue,r))}};var cm=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function nD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new cm(t,e,n,r,i,s,o)}function bg(t){let e=Q(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>em(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),al(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ki(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ki(r)).join(",")),e.ue=n}return e.ue}function Cg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tD(t.startAt,e.startAt)&&tD(t.endAt,e.endAt)}function um(t){return B.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ji=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function rF(t,e,n,r,i,s,o,c){return new Ji(t,e,n,r,i,s,o,c)}function OD(t){return new Ji(t)}function rD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iF(t){return t.collectionGroup!==null}function _o(t){let e=Q(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new et(vt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Yi(s,r))}),n.has(vt.keyField().canonicalString())||e.ce.push(new Yi(vt.keyField(),r))}return e.ce}function Zt(t){let e=Q(t);return e.le||(e.le=sF(e,_o(t))),e.le}function sF(t,e){if(t.limitType==="F")return nD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Yi(i.field,s)});let n=t.endAt?new Qi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qi(t.startAt.position,t.startAt.inclusive):null;return nD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lm(t,e,n){return new Ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cl(t,e){return Cg(Zt(t),Zt(e))&&t.limitType===e.limitType}function FD(t){return`${bg(Zt(t))}|lt:${t.limitType}`}function Vi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>PD(i)).join(", ")}]`),al(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ki(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ki(i)).join(",")),`Target(${r})`}(Zt(t))}; limitType=${t.limitType})`}function ul(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):B.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of _o(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=eD(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,_o(r),i)||r.endAt&&!function(o,c,u){let l=eD(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,_o(r),i))}(t,e)}function oF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LD(t){return(e,n)=>{let r=!1;for(let i of _o(t)){let s=aF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function aF(t,e,n){let r=t.field.isKeyField()?B.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?Wi(u,l):H()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}var tr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wr(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return CD(this.inner)}size(){return this.innerSize}};var cF=new Ce(B.comparator);function Sn(){return cF}var VD=new Ce(B.comparator);function yo(...t){let e=VD;for(let n of t)e=e.insert(n.key,n);return e}function jD(t){let e=VD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Lr(){return Io()}function UD(){return Io()}function Io(){return new tr(t=>t.toString(),(t,e)=>t.isEqual(e))}var uF=new Ce(B.comparator),lF=new et(B.comparator);function ie(...t){let e=lF;for(let n of t)e=e.add(n);return e}var dF=new et(le);function hF(){return dF}function Sg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wo(e)?"-0":e}}function BD(t){return{integerValue:""+t}}function fF(t,e){return Q1(e)?BD(e):Sg(t,e)}var Zi=class{constructor(){this._=void 0}};function pF(t,e,n){return t instanceof Xi?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&wg(s)&&(s=Tg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof $r?HD(t,e):t instanceof Hr?qD(t,e):function(i,s){let o=$D(i,s),c=iD(o)+iD(i.Pe);return Xp(o)&&Xp(i.Pe)?BD(c):Sg(i.serializer,c)}(t,e)}function mF(t,e,n){return t instanceof $r?HD(t,e):t instanceof Hr?qD(t,e):n}function $D(t,e){return t instanceof es?function(r){return Xp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Xi=class extends Zi{},$r=class extends Zi{constructor(e){super(),this.elements=e}};function HD(t,e){let n=zD(e);for(let r of t.elements)n.some(i=>en(i,r))||n.push(r);return{arrayValue:{values:n}}}var Hr=class extends Zi{constructor(e){super(),this.elements=e}};function qD(t,e){let n=zD(e);for(let r of t.elements)n=n.filter(i=>!en(i,r));return{arrayValue:{values:n}}}var es=class extends Zi{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function iD(t){return Ee(t.integerValue||t.doubleValue)}function zD(t){return Dg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $r&&i instanceof $r||r instanceof Hr&&i instanceof Hr?Gi(r.elements,i.elements,en):r instanceof es&&i instanceof es?en(r.Pe,i.Pe):r instanceof Xi&&i instanceof Xi}(t.transform,e.transform)}var dm=class{constructor(e,n){this.version=e,this.transformResults=n}},Dn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function xu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ts=class{};function GD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bo(t.key,Dn.none()):new qr(t.key,t.data,Dn.none());{let n=t.data,r=yt.empty(),i=new et(vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new nn(t.key,r,new Ct(i.toArray()),Dn.none())}}function yF(t,e,n){t instanceof qr?function(i,s,o){let c=i.value.clone(),u=oD(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof nn?function(i,s,o){if(!xu(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=oD(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(WD(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Eo(t,e,n,r){return t instanceof qr?function(s,o,c,u){if(!xu(s.precondition,o))return c;let l=s.value.clone(),h=aD(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof nn?function(s,o,c,u){if(!xu(s.precondition,o))return c;let l=aD(s.fieldTransforms,u,o),h=o.data;return h.setAll(WD(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,c){return xu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function vF(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=$D(r.transform,i||null);s!=null&&(n===null&&(n=yt.empty()),n.set(r.field,s))}return n||null}function sD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Gi(r,i,(s,o)=>gF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var qr=class extends ts{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},nn=class extends ts{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function WD(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function oD(t,e,n){let r=new Map;pe(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,mF(o,c,n[i]))}return r}function aD(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,pF(s,o,e))}return r}var bo=class extends ts{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},hm=class extends ts{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var fm=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&yF(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eo(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Eo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=UD();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=GD(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&Gi(this.mutations,e.mutations,(n,r)=>sD(n,r))&&Gi(this.baseMutations,e.baseMutations,(n,r)=>sD(n,r))}},pm=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pe(e.mutations.length===r.length);let i=function(){return uF}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var mm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var gm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Me,ae;function _F(t){switch(t){default:return H();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function KD(t){if(t===void 0)return bn("GRPC error has no .code"),x.UNKNOWN;switch(t){case Me.OK:return x.OK;case Me.CANCELLED:return x.CANCELLED;case Me.UNKNOWN:return x.UNKNOWN;case Me.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Me.INTERNAL:return x.INTERNAL;case Me.UNAVAILABLE:return x.UNAVAILABLE;case Me.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Me.NOT_FOUND:return x.NOT_FOUND;case Me.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Me.ABORTED:return x.ABORTED;case Me.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Me.DATA_LOSS:return x.DATA_LOSS;default:return H()}}(ae=Me||(Me={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";var cD=null;function IF(){return new TextEncoder}var EF=new Zn([4294967295,4294967295],0);function uD(t){let e=IF().encode(t),n=new Mp;return n.update(e),new Uint8Array(n.digest())}function lD(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zn([n,r],0),new Zn([i,s],0)]}var ym=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vr(`Invalid padding: ${n}`);if(r<0)throw new Vr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vr(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Zn.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Zn.fromNumber(r)));return i.compare(EF)===1&&(i=new Zn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=uD(e),[r,i]=lD(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let n=uD(e),[r,i]=lD(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Vr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ju=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Co.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(J.min(),i,new Ce(le),Sn(),ie())}},Co=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ie(),ie(),ie())}};var Hi=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Uu=class{constructor(e,n){this.targetId=e,this.me=n}},Bu=class{constructor(e,n,r=tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},$u=class{constructor(){this.fe=0,this.ge=hD(),this.pe=tt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ie(),n=ie(),r=ie();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:H()}}),new Co(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=hD()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,pe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},vm=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Sn(),this.qe=dD(),this.Qe=new Ce(le)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:H()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(um(s))if(r===0){let o=new B(s.path);this.Ue(n,o,Ft.newNoDocument(o,J.min()))}else pe(r===1);else{let o=this.Ye(n);if(o!==r){let c=this.Ze(e),u=c?this.Xe(c,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}cD?.et(function(h,p,g,v,C){var R,N,k,O,K,ee;let we={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},Y=p.unchangedNames;return Y&&(we.bloomFilter={applied:C===0,hashCount:(R=Y?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(O=(k=(N=Y?.bits)===null||N===void 0?void 0:N.bitmap)===null||k===void 0?void 0:k.length)!==null&&O!==void 0?O:0,padding:(ee=(K=Y?.bits)===null||K===void 0?void 0:K.padding)!==null&&ee!==void 0?ee:0,mightContain:T=>{var y;return(y=v?.mightContain(T))!==null&&y!==void 0&&y}}),we}(o,e.me,this.Le.tt(),c,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,c;try{o=er(r).toUint8Array()}catch(u){if(u instanceof Fu)return zi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new ym(o,i,s)}catch(u){return zi(u instanceof Vr?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&um(c.target)){let u=new B(c.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Ft.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ie();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new ju(e,n,this.Qe,this.ke,r);return this.ke=Sn(),this.qe=dD(),this.Qe=new Ce(le),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new $u,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new et(le),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new $u),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function dD(){return new Ce(B.comparator)}function hD(){return new Ce(B.comparator)}var wF={asc:"ASCENDING",desc:"DESCENDING"},TF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DF={and:"AND",or:"OR"},_m=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Im(t,e){return t.useProto3Json||al(e)?e:{value:e}}function Hu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bF(t,e){return Hu(t,e.toTimestamp())}function Xt(t){return pe(!!t),J.fromTimestamp(function(n){let r=Cn(n);return new ze(r.seconds,r.nanos)}(t))}function Ag(t,e){return Em(t,e).canonicalString()}function Em(t,e){let n=function(i){return new be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function YD(t){let e=be.fromString(t);return pe(tb(e)),e}function wm(t,e){return Ag(t.databaseId,e.path)}function Vp(t,e){let n=YD(e);if(n.get(1)!==t.databaseId.projectId)throw new V(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new B(ZD(n))}function JD(t,e){return Ag(t.databaseId,e)}function CF(t){let e=YD(t);return e.length===4?be.emptyPath():ZD(e)}function Tm(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ZD(t){return pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fD(t,e,n){return{name:wm(t,e),fields:n.value.mapValue.fields}}function SF(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:H()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(pe(h===void 0||typeof h=="string"),tt.fromBase64String(h||"")):(pe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),tt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(l){let h=l.code===void 0?x.UNKNOWN:KD(l.code);return new V(h,l.message||"")}(o);n=new Bu(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Vp(t,r.document.name),s=Xt(r.document.updateTime),o=r.document.createTime?Xt(r.document.createTime):J.min(),c=new yt({mapValue:{fields:r.document.fields}}),u=Ft.newFoundDocument(i,s,o,c),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Hi(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Vp(t,r.document),s=r.readTime?Xt(r.readTime):J.min(),o=Ft.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Hi([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Vp(t,r.document),s=r.removedTargetIds||[];n=new Hi([],s,i,null)}else{if(!("filter"in e))return H();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new gm(i,s),c=r.targetId;n=new Uu(c,o)}}return n}function AF(t,e){let n;if(e instanceof qr)n={update:fD(t,e.key,e.value)};else if(e instanceof bo)n={delete:wm(t,e.key)};else if(e instanceof nn)n={update:fD(t,e.key,e.data),updateMask:LF(e.fieldMask)};else{if(!(e instanceof hm))return H();n={verify:wm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof Xi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof $r)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Hr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof es)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw H()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:bF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:H()}(t,e.precondition)),n}function RF(t,e){return t&&t.length>0?(pe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Xt(i.updateTime):Xt(s);return o.isEqual(J.min())&&(o=Xt(s)),new dm(o,i.transformResults||[])}(n,e))):[]}function NF(t,e){return{documents:[JD(t,e.path)]}}function xF(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=JD(t,i);let s=function(l){if(l.length!==0)return eb(tn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:ji(g.field),direction:kF(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let c=Im(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function MF(t){let e=CF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){pe(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let g=XD(p);return g instanceof tn&&xD(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(C){return new Yi(Ui(C.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(n.orderBy));let c=null;n.limit&&(c=function(p){let g;return g=typeof p=="object"?p.value:p,al(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,v=p.values||[];return new Qi(v,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,v=p.values||[];return new Qi(v,g)}(n.endAt)),rF(e,i,o,s,c,"F",u,l)}function PF(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ui(n.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ui(n.unaryFilter.field);return Oe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ui(n.unaryFilter.field);return Oe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ui(n.unaryFilter.field);return Oe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(t):t.fieldFilter!==void 0?function(n){return Oe.create(Ui(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tn.create(n.compositeFilter.filters.map(r=>XD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return H()}}(n.compositeFilter.op))}(t):H()}function kF(t){return wF[t]}function OF(t){return TF[t]}function FF(t){return DF[t]}function ji(t){return{fieldPath:t.canonicalString()}}function Ui(t){return vt.fromServerFormat(t.fieldPath)}function eb(t){return t instanceof Oe?function(n){if(n.op==="=="){if(XT(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NAN"}};if(ZT(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(XT(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NOT_NAN"}};if(ZT(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ji(n.field),op:OF(n.op),value:n.value}}}(t):t instanceof tn?function(n){let r=n.getFilters().map(i=>eb(i));return r.length===1?r[0]:{compositeFilter:{op:FF(n.op),filters:r}}}(t):H()}function LF(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var So=class t{constructor(e,n,r,i,s=J.min(),o=J.min(),c=tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Dm=class{constructor(e){this.ct=e}};function VF(t){let e=MF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lm(e,e.limit,"L"):e}var qu=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ee(e.integerValue));else if("doubleValue"in e){let r=Ee(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),wo(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Cn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(er(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?AD(e)?this.dt(n,Number.MAX_SAFE_INTEGER):SD(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):H()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ee(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),B.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};qu.vt=new qu;var bm=class{constructor(){this.un=new Cm}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Ur.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Ur.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},Cm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new et(be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new et(be.comparator)).toArray()}};var W9=new Uint8Array(0);var Qt=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(41943040,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);var Ao=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Sm=class{constructor(){this.changes=new tr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Am=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Rm=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Eo(r.mutation,i,Ct.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){let i=Lr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=yo();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Lr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=Sn(),o=Io(),c=function(){return Io()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof nn)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Eo(h.mutation,l,h.mutation.getFieldMask(),ze.now())):o.set(l.key,Ct.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return c.set(l,new Am(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Io(),i=new Ce((o,c)=>o-c),s=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Ct.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||ie()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=UD();h.forEach(g=>{if(!s.has(g)){let v=GD(n.get(g),r.get(g));v!==null&&p.set(g,v),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return B.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(Lr()),c=-1,u=s;return o.next(l=>M.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(h)?M.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ie())).next(h=>({batchId:c,changes:jD(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new B(n)).next(r=>{let i=yo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=yo();return this.indexManager.getCollectionParents(e,s).next(c=>M.forEach(c,u=>{let l=function(p,g){return new Ji(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,Ft.newInvalidDocument(h)))});let c=yo();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&Eo(h.mutation,l,Ct.empty(),ze.now()),ul(n,l)&&(c=c.insert(u,l))}),c})}};var Nm=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xt(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:VF(i.bundledQuery),readTime:Xt(i.readTime)}}(n)),M.resolve()}};var xm=class{constructor(){this.overlays=new Ce(B.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Lr();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=Lr(),s=n.length+1,o=new B(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ce((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Lr(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=Lr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return M.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new mm(n,r));let s=this.Ir.get(n);s===void 0&&(s=ie(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var Mm=class{constructor(){this.sessionToken=tt.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var Ro=class{constructor(){this.Tr=new et(Pe.Er),this.dr=new et(Pe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Pe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Pe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new B(new be([])),r=new Pe(n,e),i=new Pe(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new B(new be([])),r=new Pe(n,e),i=new Pe(n,e+1),s=ie();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Pe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Pe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return B.comparator(e.key,n.key)||le(e.wr,n.wr)}static Ar(e,n){return le(e.wr,n.wr)||B.comparator(e.key,n.key)}};var Pm=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new et(Pe.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new fm(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Pe(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Pe(n,0),i=new Pe(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new et(le);return n.forEach(i=>{let s=new Pe(i,0),o=new Pe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;B.isDocumentKey(s)||(s=s.child(""));let o=new Pe(new B(s),0),c=new et(le);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},o),M.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,i=>{let s=new Pe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Pe(n,0),i=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var km=class{constructor(e){this.Mr=e,this.docs=function(){return new Ce(B.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=Sn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ft.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Sn(),o=n.path,c=new B(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||G1(z1(h),r)<=0||(i.has(h.key)||ul(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){H()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Om(this)}getSize(e){return M.resolve(this.size)}},Om=class extends Sm{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Fm=class{constructor(e){this.persistence=e,this.Nr=new tr(n=>bg(n),Cg),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ro,this.targetCount=0,this.kr=Ao.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}};var Lm=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new bD(0),this.Kr=!1,this.Kr=!0,this.$r=new Mm,this.referenceDelegate=e(this),this.Ur=new Fm(this),this.indexManager=new bm,this.remoteDocumentCache=function(i){return new km(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Dm(n),this.Gr=new Nm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Pm(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new Vm(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Vm=class extends Yp{constructor(e){super(),this.currentSequenceNumber=e}},jm=class t{constructor(e){this.persistence=e,this.Jr=new Ro,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw H()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{let i=B.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Um=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ie(),i=ie();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Bm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var $m=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return ww()?8:K1(Ve())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Bm;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(go()<=re.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",Vi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(go()<=re.DEBUG&&F("QueryEngine","Query:",Vi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(go()<=re.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",Vi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zt(n))):M.resolve())}Yi(e,n){if(rD(n))return M.resolve(null);let r=Zt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lm(n,null,"F"),r=Zt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ie(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,o,u.readTime)?this.Yi(e,lm(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return rD(n)||i.isEqual(J.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?M.resolve(null):(go()<=re.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vi(n)),this.rs(e,o,n,q1(i,-1)).next(c=>c))})}ts(e,n){let r=new et(LD(e));return n.forEach((i,s)=>{ul(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return go()<=re.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",Vi(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ur.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Hm=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ce(le),this._s=new tr(s=>bg(s),Cg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rm(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function jF(t,e,n,r){return new Hm(t,e,n,r)}function nb(t,e){return E(this,null,function*(){let n=Q(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=ie();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function UF(t,e){let n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,h){let p=l.batch,g=p.keys(),v=M.resolve();return g.forEach(C=>{v=v.next(()=>h.getEntry(u,C)).next(R=>{let N=l.docVersions.get(C);pe(N!==null),R.version.compareTo(N)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),v.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ie();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rb(t){let e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function BF(t,e){let n=Q(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let c=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;c.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(tt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(R,N,k){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(g,v,h)&&c.push(n.Ur.updateTargetData(s,v))});let u=Sn(),l=ie();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),c.push($F(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(J.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(h)}return M.waitFor(c).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function $F(t,e,n){let r=ie(),i=ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Sn();return n.forEach((c,u)=>{let l=s.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):F("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function HF(t,e){let n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qF(t,e){let n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new So(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function qm(t,e,n){return E(this,null,function*(){let r=Q(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Oo(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function pD(t,e,n){let r=Q(t),i=J.min(),s=ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=Q(u),g=p._s.get(h);return g!==void 0?M.resolve(p.os.get(g)):p.Ur.getTargetData(l,h)}(r,o,Zt(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:ie())).next(c=>(zF(r,oF(e),c),{documents:c,Ts:s})))}function zF(t,e,n){let r=t.us.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var zu=class{constructor(){this.activeTargetIds=hF()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var zm=class{constructor(){this.so=new zu,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new zu,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Gm=class{_o(e){}shutdown(){}};var Gu=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ru=null;function jp(){return Ru===null?Ru=function(){return 268435456+Math.round(2147483648*Math.random())}():Ru++,"0x"+Ru.toString(16)}var GF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Wm=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Xe="WebChannelConnection",Km=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=jp(),u=this.xo(n,r.toUriEncodedString());F("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(F("RestConnection",`Received RPC '${n}' ${c}: `,h),h),h=>{throw zi("RestConnection",`RPC '${n}' ${c} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ss}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=GF[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=jp();return new Promise((o,c)=>{let u=new Pp;u.setWithCredentials(!0),u.listenOnce(kp.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case mo.NO_ERROR:let h=u.getResponseJson();F(Xe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case mo.TIMEOUT:F(Xe,`RPC '${e}' ${s} timed out`),c(new V(x.DEADLINE_EXCEEDED,"Request time out"));break;case mo.HTTP_ERROR:let p=u.getStatus();if(F(Xe,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let v=g?.error;if(v&&v.status&&v.message){let C=function(N){let k=N.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(k)>=0?k:x.UNKNOWN}(v.status);c(new V(C,v.message))}else c(new V(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new V(x.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{F(Xe,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);F(Xe,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=jp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Lp(),c=Fp(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");F(Xe,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),g=!1,v=!1,C=new Wm({Io:N=>{v?F(Xe,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(g||(F(Xe,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),F(Xe,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},To:()=>p.close()}),R=(N,k,O)=>{N.listen(k,K=>{try{O(K)}catch(ee){setTimeout(()=>{throw ee},0)}})};return R(p,Li.EventType.OPEN,()=>{v||(F(Xe,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),R(p,Li.EventType.CLOSE,()=>{v||(v=!0,F(Xe,`RPC '${e}' stream ${i} transport closed`),C.So())}),R(p,Li.EventType.ERROR,N=>{v||(v=!0,zi(Xe,`RPC '${e}' stream ${i} transport errored:`,N),C.So(new V(x.UNAVAILABLE,"The operation could not be completed")))}),R(p,Li.EventType.MESSAGE,N=>{var k;if(!v){let O=N.data[0];pe(!!O);let K=O,ee=K.error||((k=K[0])===null||k===void 0?void 0:k.error);if(ee){F(Xe,`RPC '${e}' stream ${i} received error:`,ee);let we=ee.status,Y=function(_){let w=Me[_];if(w!==void 0)return KD(w)}(we),T=ee.message;Y===void 0&&(Y=x.INTERNAL,T="Unknown error status: "+we+" with message "+ee.message),v=!0,C.So(new V(Y,T)),p.close()}else F(Xe,`RPC '${e}' stream ${i} received:`,O),C.bo(O)}}),R(c,Op.STAT_EVENT,N=>{N.stat===Su.PROXY?F(Xe,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Su.NOPROXY&&F(Xe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function Up(){return typeof document<"u"?document:null}function ll(t){return new _m(t,!0)}var Wu=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Ku=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Wu(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return E(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return E(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return E(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(bn(n.toString()),bn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new V(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>E(this,null,function*(){this.state=0,this.start()}))}I_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Qm=class extends Ku{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=SF(this.serializer,e),r=function(s){if(!("targetChange"in s))return J.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?Xt(o.readTime):J.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Tm(this.serializer),n.addTarget=function(s,o){let c,u=o.target;if(c=um(u)?{documents:NF(s,u)}:{query:xF(s,u)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=QD(s,o.resumeToken);let l=Im(s,o.expectedCount);l!==null&&(c.expectedCount=l)}else if(o.snapshotVersion.compareTo(J.min())>0){c.readTime=Hu(s,o.snapshotVersion.toTimestamp());let l=Im(s,o.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=PF(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Tm(this.serializer),n.removeTarget=e,this.a_(n)}},Ym=class extends Ku{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return pe(!!e.streamToken),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=RF(e.writeResults,e.commitTime),r=Xt(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Tm(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>AF(this.serializer,r))};this.a_(n)}};var Jm=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new V(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Em(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(x.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,Em(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(x.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Zm=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(bn(n),this.D_=!1):F("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Xm=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>E(this,null,function*(){Kr(this)&&(F("RemoteStore","Restarting streams for network reachability change."),yield function(u){return E(this,null,function*(){let l=Q(u);l.L_.add(4),yield Fo(l),l.q_.set("Unknown"),l.L_.delete(4),yield dl(l)})}(this))}))}),this.q_=new Zm(r,i)}};function dl(t){return E(this,null,function*(){if(Kr(t))for(let e of t.B_)yield e(!0)})}function Fo(t){return E(this,null,function*(){for(let e of t.B_)yield e(!1)})}function ib(t,e){let n=Q(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Mg(n)?xg(n):os(n).r_()&&Ng(n,e))}function Rg(t,e){let n=Q(t),r=os(n);n.N_.delete(e),r.r_()&&sb(n,e),n.N_.size===0&&(r.r_()?r.o_():Kr(n)&&n.q_.set("Unknown"))}function Ng(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}os(t).A_(e)}function sb(t,e){t.Q_.xe(e),os(t).R_(e)}function xg(t){t.Q_=new vm({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),os(t).start(),t.q_.v_()}function Mg(t){return Kr(t)&&!os(t).n_()&&t.N_.size>0}function Kr(t){return Q(t).L_.size===0}function ob(t){t.Q_=void 0}function WF(t){return E(this,null,function*(){t.q_.set("Online")})}function KF(t){return E(this,null,function*(){t.N_.forEach((e,n)=>{Ng(t,e)})})}function QF(t,e){return E(this,null,function*(){ob(t),Mg(t)?(t.q_.M_(e),xg(t)):t.q_.set("Unknown")})}function YF(t,e,n){return E(this,null,function*(){if(t.q_.set("Online"),e instanceof Bu&&e.state===2&&e.cause)try{yield function(i,s){return E(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.N_.delete(c),i.Q_.removeTarget(c))})}(t,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Qu(t,r)}else if(e instanceof Hi?t.Q_.Ke(e):e instanceof Uu?t.Q_.He(e):t.Q_.We(e),!n.isEqual(J.min()))try{let r=yield rb(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let c=s.Q_.rt(o);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(tt.EMPTY_BYTE_STRING,h.snapshotVersion)),sb(s,u);let p=new So(h.target,u,l,h.sequenceNumber);Ng(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield Qu(t,r)}})}function Qu(t,e,n){return E(this,null,function*(){if(!Oo(e))throw e;t.L_.add(1),yield Fo(t),t.q_.set("Offline"),n||(n=()=>rb(t.localStore)),t.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){F("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield dl(t)}))})}function ab(t,e){return e().catch(n=>Qu(t,n,e))}function hl(t){return E(this,null,function*(){let e=Q(t),n=nr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;JF(e);)try{let i=yield HF(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,ZF(e,i)}catch(i){yield Qu(e,i)}cb(e)&&ub(e)})}function JF(t){return Kr(t)&&t.O_.length<10}function ZF(t,e){t.O_.push(e);let n=nr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function cb(t){return Kr(t)&&!nr(t).n_()&&t.O_.length>0}function ub(t){nr(t).start()}function XF(t){return E(this,null,function*(){nr(t).p_()})}function eL(t){return E(this,null,function*(){let e=nr(t);for(let n of t.O_)e.m_(n.mutations)})}function tL(t,e,n){return E(this,null,function*(){let r=t.O_.shift(),i=pm.from(r,e,n);yield ab(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield hl(t)})}function nL(t,e){return E(this,null,function*(){e&&nr(t).V_&&(yield function(r,i){return E(this,null,function*(){if(function(o){return _F(o)&&o!==x.ABORTED}(i.code)){let s=r.O_.shift();nr(r).s_(),yield ab(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield hl(r)}})}(t,e)),cb(t)&&ub(t)})}function mD(t,e){return E(this,null,function*(){let n=Q(t);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");let r=Kr(n);n.L_.add(3),yield Fo(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield dl(n)})}function rL(t,e){return E(this,null,function*(){let n=Q(t);e?(n.L_.delete(2),yield dl(n)):e||(n.L_.add(2),yield Fo(n),n.q_.set("Unknown"))})}function os(t){return t.K_||(t.K_=function(n,r,i){let s=Q(n);return s.w_(),new Qm(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:WF.bind(null,t),Ro:KF.bind(null,t),mo:QF.bind(null,t),d_:YF.bind(null,t)}),t.B_.push(e=>E(this,null,function*(){e?(t.K_.s_(),Mg(t)?xg(t):t.q_.set("Unknown")):(yield t.K_.stop(),ob(t))}))),t.K_}function nr(t){return t.U_||(t.U_=function(n,r,i){let s=Q(n);return s.w_(),new Ym(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:XF.bind(null,t),mo:nL.bind(null,t),f_:eL.bind(null,t),g_:tL.bind(null,t)}),t.B_.push(e=>E(this,null,function*(){e?(t.U_.s_(),yield hl(t)):(yield t.U_.stop(),t.O_.length>0&&(F("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var eg=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Yt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Pg(t,e){if(bn("AsyncQueue",`${e}: ${t}`),Oo(t))return new V(x.UNAVAILABLE,`${e}: ${t}`);throw t}var Yu=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||B.comparator(n.key,r.key):(n,r)=>B.comparator(n.key,r.key),this.keyedMap=yo(),this.sortedSet=new Ce(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Ju=class{constructor(){this.W_=new Ce(B.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):H():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},ns=class t{constructor(e,n,r,i,s,o,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new t(e,n,Yu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var tg=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},ng=class{constructor(){this.queries=gD(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Q(n),s=i.queries;i.queries=gD(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new V(x.ABORTED,"Firestore shutting down"))}};function gD(){return new tr(t=>FD(t),cl)}function iL(t,e){return E(this,null,function*(){let n=Q(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new tg,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let c=Pg(o,`Initialization of query '${Vi(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&kg(n)})}function sL(t,e){return E(this,null,function*(){let n=Q(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function oL(t,e){let n=Q(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let c of o.j_)c.X_(i)&&(r=!0);o.z_=i}}r&&kg(n)}function aL(t,e,n){let r=Q(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function kg(t){t.Y_.forEach(e=>{e.next()})}var rg,yD;(yD=rg||(rg={})).ea="default",yD.Cache="cache";var ig=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ns(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==rg.Cache}};var Zu=class{constructor(e){this.key=e}},Xu=class{constructor(e){this.key=e}},sg=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ie(),this.mutatedKeys=ie(),this.Aa=LD(e),this.Ra=new Yu(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Ju,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),v=ul(this.query,p)?p:null,C=!!g&&this.mutatedKeys.has(g.key),R=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),N=!1;g&&v?g.data.isEqual(v.data)?C!==R&&(r.track({type:3,doc:v}),N=!0):this.ga(g,v)||(r.track({type:2,doc:v}),N=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(c=!0)):!g&&v?(r.track({type:0,doc:v}),N=!0):g&&!v&&(r.track({type:1,doc:g}),N=!0,(u||l)&&(c=!0)),N&&(v?(o=o.add(v),s=R?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:c,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(v,C){let R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return R(v)-R(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new ns(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ju,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ie(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Xu(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Zu(r))}),n}ba(e){this.Ta=e.Ts,this.da=ie();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ns.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},og=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},ag=class{constructor(e){this.key=e,this.va=!1}},cg=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new tr(c=>FD(c),cl),this.Ma=new Map,this.xa=new Set,this.Oa=new Ce(B.comparator),this.Na=new Map,this.La=new Ro,this.Ba={},this.ka=new Map,this.qa=Ao.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function cL(t,e,n=!0){return E(this,null,function*(){let r=mb(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield lb(r,e,n,!0),i})}function uL(t,e){return E(this,null,function*(){let n=mb(t);yield lb(n,e,!0,!1)})}function lb(t,e,n,r){return E(this,null,function*(){let i=yield qF(t.localStore,Zt(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),c;return r&&(c=yield lL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&ib(t.remoteStore,i),c})}function lL(t,e,n,r,i){return E(this,null,function*(){t.Ka=(p,g,v)=>function(R,N,k,O){return E(this,null,function*(){let K=N.view.ma(k);K.ns&&(K=yield pD(R.localStore,N.query,!1).then(({documents:T})=>N.view.ma(T,K)));let ee=O&&O.targetChanges.get(N.targetId),we=O&&O.targetMismatches.get(N.targetId)!=null,Y=N.view.applyChanges(K,R.isPrimaryClient,ee,we);return _D(R,N.targetId,Y.wa),Y.snapshot})}(t,p,g,v);let s=yield pD(t.localStore,e,!0),o=new sg(e,s.Ts),c=o.ma(s.documents),u=Co.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(c,t.isPrimaryClient,u);_D(t,n,l.wa);let h=new og(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function dL(t,e,n){return E(this,null,function*(){let r=Q(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!cl(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield qm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Rg(r.remoteStore,i.targetId),ug(r,i.targetId)}).catch(ko))):(ug(r,i.targetId),yield qm(r.localStore,i.targetId,!0))})}function hL(t,e){return E(this,null,function*(){let n=Q(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rg(n.remoteStore,r.targetId))})}function fL(t,e,n){return E(this,null,function*(){let r=IL(t);try{let i=yield function(o,c){let u=Q(o),l=ze.now(),h=c.reduce((v,C)=>v.add(C.key),ie()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=Sn(),R=ie();return u.cs.getEntries(v,h).next(N=>{C=N,C.forEach((k,O)=>{O.isValidDocument()||(R=R.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,C)).next(N=>{p=N;let k=[];for(let O of c){let K=vF(O,p.get(O.key).overlayedDocument);K!=null&&k.push(new nn(O.key,K,RD(K.value.mapValue),Dn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,k,c)}).next(N=>{g=N;let k=N.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(v,N.batchId,k)})}).then(()=>({batchId:g.batchId,changes:jD(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Ce(le)),l=l.insert(c,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Lo(r,i.changes),yield hl(r.remoteStore)}catch(i){let s=Pg(i,"Failed to persist write");n.reject(s)}})}function db(t,e){return E(this,null,function*(){let n=Q(t);try{let r=yield BF(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?pe(o.va):i.removedDocuments.size>0&&(pe(o.va),o.va=!1))}),yield Lo(n,r,e)}catch(r){yield ko(r)}})}function vD(t,e,n){let r=Q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=Q(o);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(c)&&(l=!0)}),l&&kg(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pL(t,e,n){return E(this,null,function*(){let r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ce(B.comparator);o=o.insert(s,Ft.newNoDocument(s,J.min()));let c=ie().add(s),u=new ju(J.min(),new Map,new Ce(le),o,c);yield db(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Og(r)}else yield qm(r.localStore,e,!1).then(()=>ug(r,e,n)).catch(ko)})}function mL(t,e){return E(this,null,function*(){let n=Q(t),r=e.batch.batchId;try{let i=yield UF(n.localStore,e);fb(n,r,null),hb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Lo(n,i)}catch(i){yield ko(i)}})}function gL(t,e,n){return E(this,null,function*(){let r=Q(t);try{let i=yield function(o,c){let u=Q(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(pe(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);fb(r,e,n),hb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Lo(r,i)}catch(i){yield ko(i)}})}function hb(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function fb(t,e,n){let r=Q(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ug(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||pb(t,r)})}function pb(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Rg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Og(t))}function _D(t,e,n){for(let r of n)r instanceof Zu?(t.La.addReference(r.key,e),yL(t,r)):r instanceof Xu?(F("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||pb(t,r.key)):H()}function yL(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(F("SyncEngine","New document in limbo: "+n),t.xa.add(r),Og(t))}function Og(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new B(be.fromString(e)),r=t.qa.next();t.Na.set(r,new ag(n)),t.Oa=t.Oa.insert(n,r),ib(t.remoteStore,new So(Zt(OD(n.path)),r,"TargetPurposeLimboResolution",bD.oe))}}function Lo(t,e,n){return E(this,null,function*(){let r=Q(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Um.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return E(this,null,function*(){let h=Q(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(l,g=>M.forEach(g.$i,v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>M.forEach(g.Ui,v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!Oo(p))throw p;F("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let v=h.os.get(g),C=v.snapshotVersion,R=v.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(g,R)}}})}(r.localStore,s))})}function vL(t,e){return E(this,null,function*(){let n=Q(t);if(!n.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());let r=yield nb(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new V(x.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Lo(n,r.hs)}})}function _L(t,e){let n=Q(t),r=n.Na.get(e);if(r&&r.va)return ie().add(r.key);{let i=ie(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let c=n.Fa.get(o);i=i.unionWith(c.view.Va)}return i}}function mb(t){let e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=db.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_L.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pL.bind(null,e),e.Ca.d_=oL.bind(null,e.eventManager),e.Ca.$a=aL.bind(null,e.eventManager),e}function IL(t){let e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gL.bind(null,e),e}var ID=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return E(this,null,function*(){this.serializer=ll(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return jF(this.persistence,new $m,n.initialUser,this.serializer)}Ga(n){return new Lm(jm.Zr,this.serializer)}Wa(n){return new zm}terminate(){return E(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var EL=(()=>{class t{initialize(n,r){return E(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>vD(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vL.bind(null,this.syncEngine),yield rL(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new ng}()}createDatastore(n){let r=ll(n.databaseInfo.databaseId),i=function(o){return new Km(o)}(n.databaseInfo);return function(o,c,u,l){return new Jm(o,c,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,c,u){return new Xm(i,s,o,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>vD(this.syncEngine,r,0),function(){return Gu.D()?new Gu:new Gm}())}createSyncEngine(n,r){return function(s,o,c,u,l,h,p){let g=new cg(s,o,c,u,l,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return E(this,null,function*(){var n,r;yield function(s){return E(this,null,function*(){let o=Q(s);F("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Fo(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var lg=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):bn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var dg=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ue.UNAUTHENTICATED,this.clientId=Pu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>E(this,null,function*(){F("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(F("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Yt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Pg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Bp(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>E(this,null,function*(){r.isEqual(i)||(yield nb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function ED(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield wL(t);F("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mD(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>mD(e.remoteStore,i)),t._onlineComponents=e})}function wL(t){return E(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Bp(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;zi("Error using user provided cache. Falling back to memory cache: "+n),yield Bp(t,new ID)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield Bp(t,new ID);return t._offlineComponents})}function gb(t){return E(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield ED(t,t._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield ED(t,new EL))),t._onlineComponents})}function TL(t){return gb(t).then(e=>e.syncEngine)}function DL(t){return E(this,null,function*(){let e=yield gb(t),n=e.eventManager;return n.onListen=cL.bind(null,e.syncEngine),n.onUnlisten=dL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hL.bind(null,e.syncEngine),n})}function bL(t,e,n={}){let r=new Yt;return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(s,o,c,u,l){let h=new lg({next:g=>{h.Za(),o.enqueueAndForget(()=>sL(s,p)),g.fromCache&&u.source==="server"?l.reject(new V(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new ig(c,h,{includeMetadataChanges:!0,_a:!0});return iL(s,p)}(yield DL(t),t.asyncQueue,e,n,r)})),r.promise}function yb(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var wD=new Map;function vb(t,e,n){if(!n)throw new V(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CL(t,e,n,r){if(e===!0&&r===!0)throw new V(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TD(t){if(!B.isDocumentKey(t))throw new V(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DD(t){if(B.isDocumentKey(t))throw new V(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":H()}function zr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Fg(t);throw new V(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var el=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},rs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new el({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new el(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $p;switch(r.type){case"firstParty":return new Gp(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=wD.get(n);r&&(F("ComponentProvider","Removing Datastore"),wD.delete(n),r.terminate())}(this),Promise.resolve()}};function SL(t,e,n,r={}){var i;let s=(t=zr(t,rs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&zi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Ue.MOCK_USER;else{c=gw(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ue(l)}t._authCredentials=new Hp(new Mu(c,u))}}var tl=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},St=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Xn=class t extends tl{constructor(e,n,r){super(e,n,OD(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new B(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Lg(t,e,...n){if(t=je(t),vb("collection","path",e),t instanceof rs){let r=be.fromString(e,...n);return DD(r),new Xn(t,null,r)}{if(!(t instanceof St||t instanceof Xn))throw new V(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(be.fromString(e,...n));return DD(r),new Xn(t.firestore,null,r)}}function fl(t,e,...n){if(t=je(t),arguments.length===1&&(e=Pu.newId()),vb("doc","path",e),t instanceof rs){let r=be.fromString(e,...n);return TD(r),new St(t,null,new B(r))}{if(!(t instanceof St||t instanceof Xn))throw new V(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(be.fromString(e,...n));return TD(r),new St(t.firestore,t instanceof Xn?t.converter:null,new B(r))}}var nl=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Wu(this,"async_queue_retry"),this.Vu=()=>{let r=Up();r&&F("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Up();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Up();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Yt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return E(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Oo(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw bn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=eg.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&H()}verifyOperationInProgress(){}wu(){return E(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var Gr=class extends rs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new nl,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new nl(e),this._firestoreClient=void 0,yield e}})}};function _b(t,e){let n=typeof t=="object"?t:Mi(),r=typeof t=="string"?t:e||"(default)",i=no(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=mw("firestore");s&&SL(i,...s)}return i}function Ib(t){if(t._terminated)throw new V(x.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||AL(t),t._firestoreClient}function AL(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,l,h){return new Jp(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,yb(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new dg(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var No=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(tt.fromBase64String(e))}catch(n){throw new V(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var is=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var xo=class{constructor(e){this._methodName=e}};var Mo=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}};var Po=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var RL=/^__.*__$/,hg=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new nn(e,this.data,this.fieldMask,n,this.fieldTransforms):new qr(e,this.data,n,this.fieldTransforms)}},rl=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new nn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function Eb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}var fg=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return sl(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Eb(this.Cu)&&RL.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},pg=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ll(e)}Qu(e,n,r,i=!1){return new fg({Cu:e,methodName:n,qu:r,path:vt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function wb(t){let e=t._freezeSettings(),n=ll(t._databaseId);return new pg(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NL(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Vg("Data must be an object, but it was:",o,r);let c=Tb(r,o),u,l;if(s.merge)u=new Ct(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let g=mg(e,p,n);if(!o.contains(g))throw new V(x.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);bb(h,g)||h.push(g)}u=new Ct(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new hg(new yt(c),u,l)}var il=class t extends xo{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function xL(t,e,n,r){let i=t.Qu(1,e,n);Vg("Data must be an object, but it was:",i,r);let s=[],o=yt.empty();Wr(r,(u,l)=>{let h=jg(e,u,n);l=je(l);let p=i.Nu(h);if(l instanceof il)s.push(h);else{let g=pl(l,p);g!=null&&(s.push(h),o.set(h,g))}});let c=new Ct(s);return new rl(o,c,i.fieldTransforms)}function ML(t,e,n,r,i,s){let o=t.Qu(1,e,n),c=[mg(e,r,n)],u=[i];if(s.length%2!=0)throw new V(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)c.push(mg(e,s[g])),u.push(s[g+1]);let l=[],h=yt.empty();for(let g=c.length-1;g>=0;--g)if(!bb(l,c[g])){let v=c[g],C=u[g];C=je(C);let R=o.Nu(v);if(C instanceof il)l.push(v);else{let N=pl(C,R);N!=null&&(l.push(v),h.set(v,N))}}let p=new Ct(l);return new rl(h,p,o.fieldTransforms)}function pl(t,e){if(Db(t=je(t)))return Vg("Unsupported field value:",e,t),Tb(t,e);if(t instanceof xo)return function(r,i){if(!Eb(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=pl(c,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=ze.fromDate(r);return{timestampValue:Hu(i.serializer,s)}}if(r instanceof ze){let s=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hu(i.serializer,s)}}if(r instanceof Mo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof No)return{bytesValue:QD(i.serializer,r._byteString)};if(r instanceof St){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ag(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Po)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return Sg(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Fg(r)}`)}(t,e)}function Tb(t,e){let n={};return CD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wr(t,(r,i)=>{let s=pl(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Db(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof Mo||t instanceof No||t instanceof St||t instanceof xo||t instanceof Po)}function Vg(t,e,n){if(!Db(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Fg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function mg(t,e,n){if((e=je(e))instanceof is)return e._internalPath;if(typeof e=="string")return jg(t,e);throw sl("Field path arguments must be of type string or ",t,!1,void 0,n)}var PL=new RegExp("[~\\*/\\[\\]]");function jg(t,e,n){if(e.search(PL)>=0)throw sl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new is(...e.split("."))._internalPath}catch{throw sl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sl(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new V(x.INVALID_ARGUMENT,c+t+u)}function bb(t,e){return t.some(n=>n.isEqual(e))}var ol=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new gg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Cb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},gg=class extends ol{data(){return super.data()}};function Cb(t,e){return typeof e=="string"?jg(t,e):e instanceof is?e._internalPath:e._delegate._internalPath}function kL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yg=class{convertValue(e,n="none"){switch(Br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ee(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw H()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Wr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ee(o.doubleValue));return new Po(s)}convertGeoPoint(e){return new Mo(Ee(e.latitude),Ee(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Tg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(To(e));default:return null}}convertTimestamp(e){let n=Cn(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=be.fromString(e);pe(tb(r));let i=new Lu(r.get(1),r.get(3)),s=new B(r.popFirst(5));return i.isEqual(n)||bn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function OL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var $i=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},vg=class extends ol{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new qi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Cb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},qi=class extends vg{data(e={}){return super.data(e)}},_g=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $i(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qi(this._firestore,this._userDataWriter,r.key,r,new $i(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let u=new qi(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $i(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new qi(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $i(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),h=o.indexOf(c.doc.key)),{type:FL(c.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function FL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}var Ig=class extends yg{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}};function Sb(t){t=zr(t,tl);let e=zr(t.firestore,Gr),n=Ib(e),r=new Ig(e);return kL(t._query),bL(n,t._query).then(i=>new _g(e,r,t,i))}function Ab(t,e,n,...r){t=zr(t,St);let i=zr(t.firestore,Gr),s=wb(i),o;return o=typeof(e=je(e))=="string"||e instanceof is?ML(s,"updateDoc",t._key,e,n,r):xL(s,"updateDoc",t._key,e),Ug(i,[o.toMutation(t._key,Dn.exists(!0))])}function Rb(t){return Ug(zr(t.firestore,Gr),[new bo(t._key,Dn.none())])}function Nb(t,e){let n=zr(t.firestore,Gr),r=fl(t),i=OL(t.converter,e);return Ug(n,[NL(wb(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Dn.exists(!1))]).then(()=>r)}function Ug(t,e){return function(r,i){let s=new Yt;return r.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return fL(yield TL(r),i,s)})),s.promise}(Ib(t),e)}(function(e,n=!0){(function(i){ss=i})(Qn),Kn(new Dt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new Gr(new qp(r.getProvider("auth-internal")),new Kp(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lu(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),qe(KT,"4.7.3",e),qe(KT,"4.7.3","esm2017")})();var xb=class t{app=Bc(zT);db=_b(this.app);auth=$(In);constructor(){}addTask(e){return E(this,null,function*(){let n=this.auth.currentUser;if(n){let r=Lg(this.db,`users/${n.uid}/checklists`);yield Nb(r,Se({},e))}else console.log("not login")})}getTasks(){let e=this.auth.currentUser?.uid;return new G(n=>{if(!e){n.error("User Not Ligged In");return}let r=Lg(this.db,`users/${e}/checklists`);Sb(r).then(i=>{let s=i.docs.map(o=>{let c=o.data();return{id:o.id,date:c.date.toDate(),title:c.title,tasks:c.tasks}});n.next(s),n.complete()}).catch(i=>{n.error(i)})})}deleteTask(e){Rb(fl(this.db,`users/${this.auth.currentUser?.uid}/checklists/${e}`))}updateTask(e,n){let r=fl(this.db,`users/${this.auth.currentUser?.uid}/checklists/${e}`);Ab(r,Se({},n))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})};var Bg=dw("notes"),h6=Zs(Bg,t=>t.userName),f6=Zs(Bg,t=>t.tasks),p6=Zs(Bg,t=>t.curentTask);var Mb=class t{destroy$=new Fe;ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=gc({type:t,selectors:[["","appClearObservable",""]],standalone:!0})};export{Se as a,it as b,Ne as c,RC as d,G as e,ed as f,td as g,Fe as h,un as i,nd as j,xs as k,ln as l,Vt as m,jt as n,id as o,sd as p,jC as q,hr as r,BC as s,Je as t,YC as u,fr as v,Na as w,ZC as x,XC as y,e0 as z,pr as A,Nv as B,t0 as C,n0 as D,Ms as E,ad as F,r0 as G,i0 as H,s0 as I,Mv as J,c0 as K,Pv as L,u0 as M,ud as N,l0 as O,d0 as P,dd as Q,h0 as R,f0 as S,p0 as T,m0 as U,kv as V,fd as W,pd as X,se as Y,I_ as Z,ce as _,Eh as $,xq as aa,L as ba,ne as ca,me as da,$ as ea,hi as fa,Ls as ga,Mq as ha,bh as ia,gc as ja,Cr as ka,q_ as la,Bn as ma,Pq as na,Z_ as oa,kq as pa,Oq as qa,Fq as ra,Lq as sa,xI as ta,qt as ua,wc as va,$t as wa,De as xa,Ii as ya,Tc as za,Vq as Aa,jq as Ba,yA as Ca,Hh as Da,Uq as Ea,Bq as Fa,nc as Ga,$q as Ha,Pt as Ia,oc as Ja,ef as Ka,SE as La,tf as Ma,QR as Na,oh as Oa,tN as Pa,sN as Qa,mN as Ra,gN as Sa,zq as Ta,Gq as Ua,Wq as Va,Kq as Wa,xE as Xa,ME as Ya,xN as Za,Qq as _a,jN as $a,Yq as ab,Jq as bb,Zq as cb,qN as db,Xq as eb,ez as fb,WN as gb,PE as hb,tz as ib,nz as jb,rz as kb,iz as lb,sz as mb,oz as nb,az as ob,Rc as pb,rx as qb,Nc as rb,cz as sb,uz as tb,rf as ub,sf as vb,lz as wb,Mc as xb,Pc as yb,Dp as zb,e9 as Ab,xT as Bb,VT as Cb,d1 as Db,t9 as Eb,n9 as Fb,r9 as Gb,i9 as Hb,s9 as Ib,o9 as Jb,a9 as Kb,FT as Lb,of as Mb,Re as Nb,tw as Ob,Ni as Pb,pf as Qb,QE as Rb,Nz as Sb,Js as Tb,Oc as Ub,Cx as Vb,mf as Wb,Fc as Xb,gf as Yb,xz as Zb,Mz as _b,Pz as $b,d9 as ac,h9 as bc,f9 as cc,p9 as dc,g9 as ec,y9 as fc,v9 as gc,_9 as hc,E9 as ic,w9 as jc,T9 as kc,D9 as lc,b9 as mc,C9 as nc,S9 as oc,A9 as pc,R9 as qc,N9 as rc,Bc as sc,zT as tc,w4 as uc,yG as vc,vG as wc,xb as xc,h6 as yc,f6 as zc,p6 as Ac,Mb as Bc,NT as Cc};
